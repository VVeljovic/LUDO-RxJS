(()=>{"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(u=0)),u;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){u.label=c[1];break}if(6===c[0]&&u.label<i[1]){u.label=i[1],i=c;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(c);break}i[2]&&u.ops.pop(),u.trys.pop();continue}c=e.call(t,u)}catch(t){c=[6,t],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function u(t){return this instanceof u?(this.v=t,this):new u(t)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var c=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function s(t){return"function"==typeof t}function l(t){return s(null==t?void 0:t.then)}var a,f=((a=function(t){var e;e=this,Error.call(e),e.stack=(new Error).stack,this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}).prototype=Object.create(Error.prototype),a.prototype.constructor=a,a);function h(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var p=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,u,c;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var a=r(l),h=a.next();!h.done;h=a.next())h.value.remove(this)}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else l.remove(this);var p=this.initialTeardown;if(s(p))try{p()}catch(t){c=t instanceof f?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var y=r(d),b=y.next();!b.done;b=y.next()){var m=b.value;try{v(m)}catch(t){c=null!=c?c:[],t instanceof f?c=o(o([],i(c)),i(t.errors)):c.push(t)}}}catch(t){n={error:t}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(n)throw n.error}}}if(c)throw new f(c)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)v(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&h(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&h(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function d(t){return t instanceof p||t&&"closed"in t&&s(t.remove)&&s(t.add)&&s(t.unsubscribe)}function v(t){s(t)?t():t.unsubscribe()}p.EMPTY;var y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var u=b.delegate;return(null==u?void 0:u.setTimeout)?u.setTimeout.apply(u,o([t,e],i(n))):setTimeout.apply(void 0,o([t,e],i(n)))},clearTimeout:function(t){var e=b.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function m(t){b.setTimeout((function(){var e=y.onUnhandledError;if(!e)throw t;e(t)}))}function g(){}var w=P("C",void 0,void 0);function P(t,e,n){return{kind:t,value:e,error:n}}var x=null,_=function(t){function n(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,d(e)&&e.add(n)):n.destination=O,n}return e(n,t),n.create=function(t,e,n){return new I(t,e,n)},n.prototype.next=function(t){this.isStopped?T(function(t){return P("N",t,void 0)}(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?T(P("E",void 0,t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?T(w,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(p),S=Function.prototype.bind;function k(t,e){return S.call(t,e)}var E=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){A(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){A(t)}else A(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){A(t)}},t}(),I=function(t){function n(e,n,r){var i,o,u=t.call(this)||this;return s(e)||!e?i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&y.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return u.unsubscribe()},i={next:e.next&&k(e.next,o),error:e.error&&k(e.error,o),complete:e.complete&&k(e.complete,o)}):i=e,u.destination=new E(i),u}return e(n,t),n}(_);function A(t){var e;y.useDeprecatedSynchronousErrorHandling?(e=t,y.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=e)):m(t)}function T(t,e){var n=y.onStoppedNotification;n&&b.setTimeout((function(){return n(t,e)}))}var O={closed:!0,next:g,error:function(t){throw t},complete:g},D="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(t){return t}var j=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=this,o=(r=t)&&r instanceof _||function(t){return t&&s(t.next)&&s(t.error)&&s(t.complete)}(r)&&d(r)?t:new I(t,e,n);return function(t){if(y.useDeprecatedSynchronousErrorHandling){var e=!x;if(e&&(x={errorThrown:!1,error:null}),t(),e){var n=x,r=n.errorThrown,i=n.error;if(x=null,r)throw i}}else t()}((function(){var t=i,e=t.operator,n=t.source;o.add(e?e.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=L(e))((function(e,r){var i=new I({next:function(e){try{t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:e});n.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[D]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(n=t).length?C:1===n.length?n[0]:function(t){return n.reduce((function(t,e){return e(t)}),t)})(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=L(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function L(t){var e;return null!==(e=null!=t?t:y.Promise)&&void 0!==e?e:Promise}function q(t){return s(t[D])}function V(t){return Symbol.asyncIterator&&s(null==t?void 0:t[Symbol.asyncIterator])}function z(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var G="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function N(t){return s(null==t?void 0:t[G])}function R(t){return function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof u?Promise.resolve(n.value.v).then(l,a):f(o[0][2],n)}catch(t){f(o[0][3],t)}var n}function l(t){s("next",t)}function a(t){s("throw",t)}function f(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,(function(){var e,r,i;return n(this,(function(n){switch(n.label){case 0:e=t.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,u(e.read())];case 3:return r=n.sent(),i=r.value,r.done?[4,u(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,u(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function F(t){return s(null==t?void 0:t.getReader)}function U(t){if(t instanceof j)return t;if(null!=t){if(q(t))return o=t,new j((function(t){var e=o[D]();if(s(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(c(t))return i=t,new j((function(t){for(var e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()}));if(l(t))return n=t,new j((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,m)}));if(V(t))return H(t);if(N(t))return e=t,new j((function(t){var n,i;try{for(var o=r(e),u=o.next();!u.done;u=o.next()){var c=u.value;if(t.next(c),t.closed)return}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}t.complete()}));if(F(t))return H(R(t))}var e,n,i,o;throw z(t)}function H(t){return new j((function(e){(function(t,e){var i,o,u,c,s,l,a,f;return s=this,l=void 0,f=function(){var s,l;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,5,6,11]),i=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=r(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}(t),n.label=1;case 1:return[4,i.next()];case 2:if((o=n.sent()).done)return[3,4];if(s=o.value,e.next(s),e.closed)return[2];n.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=n.sent(),u={error:l},[3,11];case 6:return n.trys.push([6,,9,10]),o&&!o.done&&(c=i.return)?[4,c.call(i)]:[3,8];case 7:n.sent(),n.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{i(f.next(t))}catch(t){e(t)}}function r(t){try{i(f.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof a?i:new a((function(t){t(i)}))).then(n,r)}i((f=f.apply(s,l||[])).next())}))})(t,e).catch((function(t){return e.error(t)}))}))}function M(t){return function(e){if(function(t){return s(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,n,r,i){return new K(t,e,n,r,i)}var K=function(t){function n(e,n,r,i,o,u){var c=t.call(this,e)||this;return c.onFinalize=o,c.shouldUnsubscribe=u,c._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,c._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e(n,t),n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},n}(_);function W(t,e){return M((function(n,r){var i=0;n.subscribe(Y(r,(function(n){r.next(t.call(e,n,i++))})))}))}function B(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=e.schedule((function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function J(t,e,n){return void 0===n&&(n=1/0),s(e)?J((function(n,r){return W((function(t,i){return e(n,t,r,i)}))(U(t(n,r)))}),n):("number"==typeof e&&(n=e),M((function(e,r){return function(t,e,n,r,i,o,u,c){var s=[],l=0,a=0,f=!1,h=function(){!f||s.length||l||e.complete()},p=function(t){return l<r?d(t):s.push(t)},d=function(t){l++;var i=!1;U(n(t,a++)).subscribe(Y(e,(function(t){e.next(t)}),(function(){i=!0}),void 0,(function(){if(i)try{l--;for(;s.length&&l<r;)t=void 0,t=s.shift(),d(t);h()}catch(t){e.error(t)}var t})))};return t.subscribe(Y(e,p,(function(){f=!0,h()}))),function(){}}(e,r,t,n)})))}var Q=Array.isArray;function X(t){return W((function(e){return function(t,e){return Q(e)?t.apply(void 0,o([],i(e))):t(e)}(t,e)}))}var Z=["addListener","removeListener"],$=["addEventListener","removeEventListener"],tt=["on","off"];function et(t,e,n,r){if(s(n)&&(r=n,n=void 0),r)return et(t,e,n).pipe(X(r));var o=i(function(t){return s(t.addEventListener)&&s(t.removeEventListener)}(t)?$.map((function(r){return function(i){return t[r](e,i,n)}})):function(t){return s(t.addListener)&&s(t.removeListener)}(t)?Z.map(nt(t,e)):function(t){return s(t.on)&&s(t.off)}(t)?tt.map(nt(t,e)):[],2),u=o[0],l=o[1];if(!u&&c(t))return J((function(t){return et(t,e,n)}))(U(t));if(!u)throw new TypeError("Invalid event target");return new j((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return u(e),function(){return l(e)}}))}function nt(t,e){return function(n){return function(r){return t[n](e,r)}}}var rt={0:[6,13],1:[6,12],2:[6,11],3:[6,10],4:[6,9],5:[5,8],6:[4,8],7:[3,8],8:[2,8],9:[1,8],10:[0,8],11:[0,7],12:[0,6],13:[1,6],14:[2,6],15:[3,6],16:[4,6],17:[5,6],18:[6,5],19:[6,4],20:[6,3],21:[6,2],22:[6,1],23:[6,0],24:[7,0],25:[8,0],26:[8,1],27:[8,2],28:[8,3],29:[8,4],30:[8,5],31:[9,6],32:[10,6],33:[11,6],34:[12,6],35:[13,6],36:[14,6],37:[14,7],38:[14,8],39:[13,8],40:[12,8],41:[11,8],42:[10,8],43:[9,8],44:[8,9],45:[8,10],46:[8,11],47:[8,12],48:[8,13],49:[8,14],50:[7,14],51:[6,14],100:[7,13],101:[7,12],102:[7,11],103:[7,10],104:[7,9],105:[7,8],200:[7,1],201:[7,2],202:[7,3],203:[7,4],204:[7,5],205:[7,6],500:[1.5,10.58],501:[3.57,10.58],502:[1.5,12.43],503:[3.57,12.43],600:[10.5,1.58],601:[12.54,1.58],602:[10.5,3.45],603:[12.54,3.45]},it=["P1","P2"],ot={P1:[500,501,502,503],P2:[600,601,602,603]},ut={P1:0,P2:26},ct={P1:[100,101,102,103,104],P2:[200,201,202,203,204]},st={P1:105,P2:205},lt={P1:50,P2:24},at=[0,8,13,21,26,34,39,47],ft="DICE_NOT_ROLLED",ht="DICE_ROLLED",pt=document.querySelector("#dice-btn"),dt=document.querySelector("button#reset-btn"),vt=document.querySelector(".player-pieces"),yt={P1:document.querySelectorAll('[player-id="P1"].player-piece'),P2:document.querySelectorAll('[player-id="P2"].player-piece')},bt=function(){function t(){}return t.listenDiceClick=function(t){et(pt,"click").subscribe(t)},t.listenResetClick=function(t){et(dt,"click").subscribe(t)},t.listenPieceClick=function(t){et(vt,"click").subscribe(t)},t.setPiecePosition=function(t,e,n){yt[t]&&yt[t][e]||console.log("greska");var r=rt[n],i=r[0],o=r[1],u=yt[t][e];u.style.top=6.66*o+"%",u.style.left=6.66*i+"%"},t.setTurn=function(t){if(t<0||t>it.length)console.error("index out of bound");else{var e=it[t];document.querySelector(".active-player span").innerText=e;var n=document.querySelector(".player-base.highlight");n&&n.classList.remove("highlight"),document.querySelector('[player-id="'.concat(e,'"].player-base')).classList.add("highlight")}},t.enableDice=function(){pt.removeAttribute("disabled")},t.disableDice=function(){pt.setAttribute("disabled","")},t.highlightPieces=function(t,e){e.forEach((function(e){yt[t][e].classList.add("highlight")}))},t.unhighlightPieces=function(){document.querySelectorAll(".player-piece.highlight").forEach((function(t){t.classList.remove("highlight")}))},t.setDiceValue=function(t){document.querySelector(".dice-value").innerHTML=t.toString()},t}(),mt=function(t){function n(e,n){return t.call(this)||this}return e(n,t),n.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},n}(p),gt={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var u=gt.delegate;return(null==u?void 0:u.setInterval)?u.setInterval.apply(u,o([t,e],i(n))):setInterval.apply(void 0,o([t,e],i(n)))},clearInterval:function(t){var e=gt.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},wt=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return e(n,t),n.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this},n.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),gt.setInterval(t.flush.bind(t,this),n)},n.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&gt.clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},n.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,h(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(mt),Pt={now:function(){return(Pt.delegate||Date).now()},delegate:void 0},xt=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=Pt.now,t}(),_t=new(function(t){function n(e,n){void 0===n&&(n=xt.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return e(n,t),n.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},n}(xt))(wt),St=_t;function kt(t,e){return t===e}function Et(t){return t&&s(t.schedule)}function It(t){return t[t.length-1]}function At(t){return Et(It(t))?t.pop():void 0}function Tt(t,e){return void 0===e&&(e=0),M((function(n,r){n.subscribe(Y(r,(function(n){return B(r,t,(function(){return r.next(n)}),e)}),(function(){return B(r,t,(function(){return r.complete()}),e)}),(function(n){return B(r,t,(function(){return r.error(n)}),e)})))}))}function Ot(t,e){return void 0===e&&(e=0),M((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function Dt(t,e){if(!t)throw new Error("Iterable cannot be null");return new j((function(n){B(n,e,(function(){var r=t[Symbol.asyncIterator]();B(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function Ct(t,e){return e?function(t,e){if(null!=t){if(q(t))return function(t,e){return U(t).pipe(Ot(e),Tt(e))}(t,e);if(c(t))return function(t,e){return new j((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if(l(t))return function(t,e){return U(t).pipe(Ot(e),Tt(e))}(t,e);if(V(t))return Dt(t,e);if(N(t))return function(t,e){return new j((function(n){var r;return B(n,e,(function(){r=t[G](),B(n,e,(function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(t){return void n.error(t)}i?n.complete():n.next(e)}),0,!0)})),function(){return s(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(F(t))return function(t,e){return Dt(R(t),e)}(t,e)}throw z(t)}(t,e):U(t)}function jt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ct(t,At(t))}function Lt(t,e){return M((function(n,r){var i=null,o=0,u=!1,c=function(){return u&&!i&&r.complete()};n.subscribe(Y(r,(function(n){null==i||i.unsubscribe();var u=0,s=o++;U(t(n,s)).subscribe(i=Y(r,(function(t){return r.next(e?e(n,t,s,u++):t)}),(function(){i=null,c()})))}),(function(){u=!0,c()})))}))}var qt=Array.isArray,Vt=Object.getPrototypeOf,zt=Object.prototype,Gt=Object.keys;function Nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=At(t),r=function(t){return s(It(t))?t.pop():void 0}(t),i=function(t){if(1===t.length){var e=t[0];if(qt(e))return{args:e,keys:null};if((r=e)&&"object"==typeof r&&Vt(r)===zt){var n=Gt(e);return{args:n.map((function(t){return e[t]})),keys:n}}}var r;return{args:t,keys:null}}(t),o=i.args,u=i.keys;if(0===o.length)return Ct([],n);var c=new j(function(t,e,n){return void 0===n&&(n=C),function(r){Rt(e,(function(){for(var i=t.length,o=new Array(i),u=i,c=i,s=function(i){Rt(e,(function(){var s=Ct(t[i],e),l=!1;s.subscribe(Y(r,(function(t){o[i]=t,l||(l=!0,c--),c||r.next(n(o.slice()))}),(function(){--u||r.complete()})))}),r)},l=0;l<i;l++)s(l)}),r)}}(o,n,u?function(t){return function(t,e){return t.reduce((function(t,n,r){return t[n]=e[r],t}),{})}(u,t)}:C));return r?c.pipe(X(r)):c}function Rt(t,e,n){t?B(n,t,e):e()}(new(function(){function t(){this.currentPositions={P1:[],P2:[]}}return Object.defineProperty(t.prototype,"diceValue",{get:function(){return this._diceValue},set:function(t){this._diceValue=t,bt.setDiceValue(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"turn",{get:function(){return this._turn},set:function(t){this._turn=t,bt.setTurn(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,t===ft?(bt.enableDice(),bt.unhighlightPieces()):bt.disableDice()},enumerable:!1,configurable:!0}),t.prototype.startGame=function(){console.log("a"),this.listenDiceClick(),this.listenResetClick(),this.listenPieceClick(),this.resetGame()},t.prototype.listenDiceClick=function(){var t,e,n,r=this;et(pt,"click").pipe((300,void 0===n&&(n=_t),M((function(t,e){var r=null,i=null,o=null,u=function(){if(r){r.unsubscribe(),r=null;var t=i;i=null,e.next(t)}};function c(){var t=o+300,i=n.now();if(i<t)return r=this.schedule(void 0,t-i),void e.add(r);u()}t.subscribe(Y(e,(function(t){i=t,o=n.now(),r||(r=n.schedule(c,300),e.add(r))}),(function(){u(),e.complete()}),void 0,(function(){i=r=null})))}))),(void 0===e&&(e=C),t=null!=t?t:kt,M((function(n,r){var i,o=!0;n.subscribe(Y(r,(function(n){var u=e(n);!o&&t(i,u)||(o=!1,i=u,r.next(n))})))})))).subscribe((function(){r.onDiceClick()}))},t.prototype.onDiceClick=function(){console.log("dice is clicked"),this.diceValue=Math.floor(6*Math.random())+1,this.state=ht,this.checkForEligiblePieces()},t.prototype.listenResetClick=function(){var t,e,n,r,i=this;et(dt,"click").pipe((t=function(){i.resetGame()},r=s(t)?{next:t,error:e,complete:n}:t,r?M((function(t,e){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var i=!0;t.subscribe(Y(e,(function(t){var n;null===(n=r.next)||void 0===n||n.call(r,t),e.next(t)}),(function(){var t;i=!1,null===(t=r.complete)||void 0===t||t.call(r),e.complete()}),(function(t){var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,t),e.error(t)}),(function(){var t,e;i&&(null===(t=r.unsubscribe)||void 0===t||t.call(r)),null===(e=r.finalize)||void 0===e||e.call(r)})))})):C)).subscribe()},t.prototype.resetGame=function(){var t=this;jt(null).pipe(Lt((function(){return t.currentPositions=structuredClone(ot),Nt(it.map((function(e){return Ct([0,1,2,3]).pipe(W((function(n){"P1"!=e&&"P2"!==e||t.setPiecePosition(e,n,ot[e][n])})))})))}))).subscribe({complete:function(){t.turn=0,t.state=ft,console.log("Game reset completed.")}})},t.prototype.listenPieceClick=function(){var t,e=this;et(vt,"click").pipe((t=function(t){return t.target.classList.contains("player-piece")},M((function(e,n){var r=0;e.subscribe(Y(n,(function(e){return t.call(undefined,e,r++)&&n.next(e)})))}))),W((function(t){var e=t.target;return{player:e.getAttribute("player-id"),piece:e.getAttribute("piece")}})),Lt((function(t){var n=t.player,r=t.piece;return e.handlePieceClick(n,r)}))).subscribe((function(){return console.log("piece was clicked")}))},t.prototype.handlePieceClick=function(t,e){var n=this;return jt(t).pipe(W((function(){return parseInt(e,10)})),Lt((function(e){if("P1"===t||"P2"===t){var r=n.currentPositions[t][e];if(!ot[t].includes(r)||6!==n.diceValue||n.state!==ht)return n.state===ht?n.movePiece(t,e,n.diceValue):jt(null);n.setPiecePosition(t,e,ut[t]),n.state=ft}return jt(null)})))},t.prototype.setPiecePosition=function(t,e,n){console.log(t,e,n),this.currentPositions[t][e]=n,bt.setPiecePosition(t,e,n)},t.prototype.movePiece=function(t,e,n){var r,i,o,u,c,l,a,f=this;return(l=200,void 0===l&&(l=0),void 0===a&&(a=_t),l<0&&(l=0),function(t,e,n){void 0===t&&(t=0),void 0===n&&(n=St);var r=-1;return null!=e&&(Et(e)?n=e:r=e),new j((function(e){var i,o=(i=t)instanceof Date&&!isNaN(i)?+t-n.now():t;o<0&&(o=0);var u=0;return n.schedule((function(){e.closed||(e.next(u++),0<=r?this.schedule(void 0,r):e.complete())}),o)}))}(l,l,a)).pipe((u=function(){return n>0},void 0===c&&(c=!1),M((function(t,e){t.subscribe(Y(e,(function(t){var n=u(0);(n||c)&&e.next(t),!n&&e.complete()})))}))),(i=function(){return f.incrementPiecePosition(t,e),n--,jt(null)},s(o)?J(i,o,1):J(i,1)),(r=function(){0===n&&(f.hasPlayerWon(t)?(alert("Player ".concat(t," won")),f.resetGame()):f.checkForKill(t,e)||6===f.diceValue?f.state=ft:f.changeTurn())},M((function(t,e){try{t.subscribe(e)}finally{e.add(r)}}))))},t.prototype.incrementPiecePosition=function(t,e){this.setPiecePosition(t,e,this.getIncrementedPosition(t,e))},t.prototype.getIncrementedPosition=function(t,e){var n=this.currentPositions[t][e];return console.log(n),n===lt[t]?ct[t][0]:51===n?0:n+1},t.prototype.changeTurn=function(){this.turn=0===this.turn?1:0,this.state=ft},t.prototype.checkForEligiblePieces=function(){var t=it[this.turn];if("P1"===t||"P2"===t){var e=this.getEligiblePieces(t);e.length?bt.highlightPieces(t,e):this.changeTurn()}},t.prototype.getEligiblePieces=function(t){var e=this;return[0,1,2,3].filter((function(n){var r=e.currentPositions[t][n];return!(r==st[t]||ot[t].includes(r)&&6!==e.diceValue||ct[t].includes(r)&&e._diceValue>st[t]-r)}))},t.prototype.hasPlayerWon=function(t){var e=this;return[0,1,2,3].every((function(n){return e.currentPositions[t][n]===st[t]}))},t.prototype.checkForKill=function(t,e){var n=this,r=this.currentPositions[t][e],i="P1"===t?"P2":"P1",o=!1;return[0,1,2,3].forEach((function(t){var e=n.currentPositions[i][t];r!==e||at.includes(r)||(n.setPiecePosition(i,t,ot[i][t]),o=!0)})),o},t}())).startGame()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUcsQ0FBQyxFQUFHLElBQ1AsRUFBRyxDQUFDLEVBQUcsSUFDUCxFQUFHLENBQUMsRUFBRyxHQUNQLEVBQUcsQ0FBQyxFQUFHLEdBQ1AsRUFBRyxDQUFDLEVBQUcsR0FDUCxFQUFHLENBQUMsRUFBRyxHQUNQLEVBQUcsQ0FBQyxFQUFHLEdBQ1AsRUFBRyxDQUFDLEVBQUcsR0FDUCxHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsR0FBSSxHQUNULEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsR0FBSSxHQUNULEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsR0FBSSxHQUNULEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsSUFDUixHQUFJLENBQUMsRUFBRyxJQUNS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QUEsU0FBYXpJLEdBQWIsV0FDSSxNQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBR2lKLE9BQU0sU0FBQWhKLEdBQU8sU0FBS3dGLGlCQUFpQnpGLEdBQVFDLEtBQVNqQixHQUFlZ0IsRUFBdEQsR0FDL0IsRUFDQSxZQUFBMkksYUFBQSxTQUFhM0ksRUFBaUJDLEdBQTlCLFdBRUc0SCxFQUFrQjFhLEtBQUtzWSxpQkFBaUJ6RixHQUFRQyxHQUNoRGlKLEVBQXFCLE9BQVZsSixFQUFlLEtBQUssS0FDakNtSixHQUFPLEVBU1gsTUFSQSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUczUixTQUFRLFNBQUF5SSxHQUNkLElBQU1tSixFQUFtQixFQUFLM0QsaUJBQWlCeUQsR0FBVWpKLEdBQ3RENEgsSUFBa0J1QixHQUFtQmxLLEdBQWU1TCxTQUFTdVUsS0FFNUQsRUFBSzlILGlCQUFpQm1KLEVBQVNqSixFQUFNdEIsR0FBZXVLLEdBQVVqSixJQUM5RGtKLEdBQUssRUFFYixJQUNPQSxDQUNSLEVBQ0gsRUFwT0EsS0RES3JELFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2NyZWF0ZUVycm9yQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJyUmVtb3ZlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXJyb3JDb250ZXh0LmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2lubmVyRnJvbS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9saWZ0LmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvT3BlcmF0b3JTdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2V4ZWN1dGVTY2hlZHVsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VJbnRlcm5hbHMuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbWFwT25lT3JNYW55QXJncy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQuanMiLCJ3ZWJwYWNrOi8vcndhLy4vc3JjL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9yd2EvLi9zcmMvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9pbnRlcnZhbFByb3ZpZGVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsQ2hhbmdlZC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9hcmdzLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc3Vic2NyaWJlT24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlZC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvb2YuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3QuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvY29tYmluZUxhdGVzdC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jcmVhdGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vcndhLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3J3YS8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2VUaW1lLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmluYWxpemUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRNYXAuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy90YWtlV2hpbGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvdGltZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNEYXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2U7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICB2YXIgcmVjID0gZW52LnN0YWNrLnBvcCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbn07XG4iLCJleHBvcnQgdmFyIGlzQXJyYXlMaWtlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheUxpa2UuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vaXNGdW5jdGlvblwiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS50aGVuKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnNcbiAgICAgICAgICAgID8gZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJylcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzcyhjcmVhdGVJbXBsKSB7XG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICBFcnJvci5jYWxsKGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICB9O1xuICAgIHZhciBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gICAgcmV0dXJuIGN0b3JGdW5jO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXJyb3JDbGFzcy5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlKGFyciwgaXRlbSkge1xuICAgIGlmIChhcnIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG52YXIgU3Vic2NyaXB0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24oaW5pdGlhbFRlYXJkb3duKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFRlYXJkb3duID0gaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxGaW5hbGl6ZXIgPSB0aGlzLmluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxGaW5hbGl6ZXIpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEZpbmFsaXplcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfZmluYWxpemVycyA9IHRoaXMuX2ZpbmFsaXplcnM7XG4gICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZmluYWxpemVyc18xID0gX192YWx1ZXMoX2ZpbmFsaXplcnMpLCBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKTsgIV9maW5hbGl6ZXJzXzFfMS5kb25lOyBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsaXplciA9IF9maW5hbGl6ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcihmaW5hbGl6ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGVycm9ycykpLCBfX3JlYWQoZXJyLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZmluYWxpemVyc18xXzEgJiYgIV9maW5hbGl6ZXJzXzFfMS5kb25lICYmIChfYiA9IF9maW5hbGl6ZXJzXzEucmV0dXJuKSkgX2IuY2FsbChfZmluYWxpemVyc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRlYXJkb3duICYmIHRlYXJkb3duICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjRmluYWxpemVyKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IChfYSA9IHRoaXMuX2ZpbmFsaXplcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xuICAgICAgICBfZmluYWxpemVycyAmJiBhcnJSZW1vdmUoX2ZpbmFsaXplcnMsIHRlYXJkb3duKTtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KSgpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5leHBvcnQgdmFyIEVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbmV4cG9ydCBmdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAgICAgKHZhbHVlICYmICdjbG9zZWQnIGluIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmFkZCkgJiYgaXNGdW5jdGlvbih2YWx1ZS51bnN1YnNjcmliZSkpKTtcbn1cbmZ1bmN0aW9uIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZmluYWxpemVyKSkge1xuICAgICAgICBmaW5hbGl6ZXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZpbmFsaXplci51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoaGFuZGxlciwgdGltZW91dCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldFRpbWVvdXQuYXBwbHkoZGVsZWdhdGUsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGltZW91dC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhclRpbWVvdXQpIHx8IGNsZWFyVGltZW91dCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsImV4cG9ydCB2YXIgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG52YXIgY29udGV4dCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHZhciBpc1Jvb3QgPSAhY29udGV4dDtcbiAgICAgICAgaWYgKGlzUm9vdCkge1xuICAgICAgICAgICAgY29udGV4dCA9IHsgZXJyb3JUaHJvd246IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNiKCk7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGNvbnRleHQsIGVycm9yVGhyb3duID0gX2EuZXJyb3JUaHJvd24sIGVycm9yID0gX2EuZXJyb3I7XG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYigpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXJyb3IoZXJyKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGNvbnRleHQuZXJyb3IgPSBlcnI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JDb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgbmV4dE5vdGlmaWNhdGlvbiwgZXJyb3JOb3RpZmljYXRpb24sIENPTVBMRVRFX05PVElGSUNBVElPTiB9IGZyb20gJy4vTm90aWZpY2F0aW9uRmFjdG9yaWVzJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIF9iaW5kLmNhbGwoZm4sIHRoaXNBcmcpO1xufVxudmFyIENvbnN1bWVyT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMucGFydGlhbE9ic2VydmVyID0gcGFydGlhbE9ic2VydmVyO1xuICAgIH1cbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5lcnJvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb25zdW1lck9ic2VydmVyO1xufSgpKTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgICAgICAgIG5leHQ6IChvYnNlcnZlck9yTmV4dCAhPT0gbnVsbCAmJiBvYnNlcnZlck9yTmV4dCAhPT0gdm9pZCAwID8gb2JzZXJ2ZXJPck5leHQgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlICE9PSBudWxsICYmIGNvbXBsZXRlICE9PSB2b2lkIDAgPyBjb21wbGV0ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQubmV4dCAmJiBiaW5kKG9ic2VydmVyT3JOZXh0Lm5leHQsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBvYnNlcnZlck9yTmV4dC5lcnJvciAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbmZ1bmN0aW9uIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG59XG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikge1xuICAgIHZhciBvblN0b3BwZWROb3RpZmljYXRpb24gPSBjb25maWcub25TdG9wcGVkTm90aWZpY2F0aW9uO1xuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKTsgfSk7XG59XG5leHBvcnQgdmFyIEVNUFRZX09CU0VSVkVSID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBub29wLFxuICAgIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICAgIGNvbXBsZXRlOiBub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlKSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcCIsImltcG9ydCB7IFNhZmVTdWJzY3JpYmVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBlcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMsIG9wZXJhdG9yID0gX2Eub3BlcmF0b3IsIHNvdXJjZSA9IF9hLnNvdXJjZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKG9wZXJhdG9yXG4gICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvci5jYWxsKHN1YnNjcmliZXIsIHNvdXJjZSlcbiAgICAgICAgICAgICAgICA6IHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90cnlTdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiByZXNvbHZlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiAodmFsdWUgPSB4KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gcHJvbWlzZUN0b3IgIT09IG51bGwgJiYgcHJvbWlzZUN0b3IgIT09IHZvaWQgMCA/IHByb21pc2VDdG9yIDogY29uZmlnLlByb21pc2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFByb21pc2U7XG59XG5mdW5jdGlvbiBpc09ic2VydmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUubmV4dCkgJiYgaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbih2YWx1ZS5jb21wbGV0ZSk7XG59XG5mdW5jdGlvbiBpc1N1YnNjcmliZXIodmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaWJlcikgfHwgKGlzT2JzZXJ2ZXIodmFsdWUpICYmIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwIiwiaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUob2JqKSB7XG4gICAgcmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yICYmIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FzeW5jSXRlcmFibGUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgcHJvdmlkZWQgXCIgKyAoaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBcIidcIiArIGlucHV0ICsgXCInXCIpICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgUmVhZGFibGVTdHJlYW0sIEFycmF5LCBBc3luY0l0ZXJhYmxlLCBvciBJdGVyYWJsZS5cIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcCIsImltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jR2VuZXJhdG9yLCBfX2F3YWl0LCBfX2dlbmVyYXRvciB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBfX2FzeW5jR2VuZXJhdG9yKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24gcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcl8xKCkge1xuICAgICAgICB2YXIgcmVhZGVyLCBfYSwgdmFsdWUsIGRvbmU7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQocmVhZGVyLnJlYWQoKSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIHZhbHVlID0gX2EudmFsdWUsIGRvbmUgPSBfYS5kb25lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHJldHVybiBbMywgNV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdCh2b2lkIDApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCwgX19hd2FpdCh2YWx1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0LCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtTGlrZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmouZ2V0UmVhZGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IF9fYXN5bmNWYWx1ZXMsIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzUmVhZGFibGVTdHJlYW1MaWtlLCByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IHJlcG9ydFVuaGFuZGxlZEVycm9yIH0gZnJvbSAnLi4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyRnJvbShpbnB1dCkge1xuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Qcm9taXNlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tSXRlcmFibGUoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUludGVyb3BPYnNlcnZhYmxlKG9iaikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnMuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG9icy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXlMaWtlKGFycmF5KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb21pc2VcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCByZXBvcnRVbmhhbmRsZWRFcnJvcik7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUl0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlcmFibGVfMSA9IF9fdmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCk7ICFpdGVyYWJsZV8xXzEuZG9uZTsgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhYmxlXzFfMSAmJiAhaXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gaXRlcmFibGVfMS5yZXR1cm4pKSBfYS5jYWxsKGl0ZXJhYmxlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXN5bmNJdGVyYWJsZShhc3luY0l0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikuY2F0Y2goZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUmVhZGFibGVTdHJlYW1MaWtlKHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3MoYXN5bmNJdGVyYWJsZSwgc3Vic2NyaWJlcikge1xuICAgIHZhciBhc3luY0l0ZXJhYmxlXzEsIGFzeW5jSXRlcmFibGVfMV8xO1xuICAgIHZhciBlXzIsIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlLCBlXzJfMTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFswLCA1LCA2LCAxMV0pO1xuICAgICAgICAgICAgICAgICAgICBhc3luY0l0ZXJhYmxlXzEgPSBfX2FzeW5jVmFsdWVzKGFzeW5jSXRlcmFibGUpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzQsIGFzeW5jSXRlcmFibGVfMS5uZXh0KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgPSBfYi5zZW50KCksICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lKSkgcmV0dXJuIFszLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhc3luY0l0ZXJhYmxlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMywgMV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGVfMl8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBlXzIgPSB7IGVycm9yOiBlXzJfMSB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDExXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNiwgLCA5LCAxMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSAmJiAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBhc3luY0l0ZXJhYmxlXzEucmV0dXJuKSkpIHJldHVybiBbMywgOF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX2EuY2FsbChhc3luY0l0ZXJhYmxlXzEpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA4O1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFszLCAxMF07XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFs3XTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5uZXJGcm9tLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmxpZnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSkge1xuICAgIHJldHVybiBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpO1xufVxudmFyIE9wZXJhdG9yU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wZXJhdG9yU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSwgc2hvdWxkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uRmluYWxpemUgPSBvbkZpbmFsaXplO1xuICAgICAgICBfdGhpcy5zaG91bGRVbnN1YnNjcmliZSA9IHNob3VsZFVuc3Vic2NyaWJlO1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG9uTmV4dFxuICAgICAgICAgICAgPyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbk5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9uZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBvbkVycm9yXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2Vycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBvbkNvbXBsZXRlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9wZXJhdG9yU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xuICAgICAgICAgICAgdmFyIGNsb3NlZF8xID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAhY2xvc2VkXzEgJiYgKChfYSA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT3BlcmF0b3JTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPcGVyYXRvclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZXJhdG9yU3Vic2NyaWJlci5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocHJvamVjdC5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKHBhcmVudFN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCB3b3JrLCBkZWxheSwgcmVwZWF0KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XG4gICAgdmFyIHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd29yaygpO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcbiAgICBpZiAoIXJlcGVhdCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZVNjaGVkdWxlLmpzLm1hcCIsImltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgbWVyZ2VJbnRlcm5hbHMgfSBmcm9tICcuL21lcmdlSW50ZXJuYWxzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICBpZiAoaXNGdW5jdGlvbihyZXN1bHRTZWxlY3RvcikpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKGlubmVyRnJvbShwcm9qZWN0KGEsIGkpKSk7IH0sIGNvbmN1cnJlbnQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikgeyByZXR1cm4gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCBvbkJlZm9yZU5leHQsIGV4cGFuZCwgaW5uZXJTdWJTY2hlZHVsZXIsIGFkZGl0aW9uYWxGaW5hbGl6ZXIpIHtcbiAgICB2YXIgYnVmZmVyID0gW107XG4gICAgdmFyIGFjdGl2ZSA9IDA7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNDb21wbGV0ZSAmJiAhYnVmZmVyLmxlbmd0aCAmJiAhYWN0aXZlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvdXRlck5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIChhY3RpdmUgPCBjb25jdXJyZW50ID8gZG9Jbm5lclN1Yih2YWx1ZSkgOiBidWZmZXIucHVzaCh2YWx1ZSkpOyB9O1xuICAgIHZhciBkb0lubmVyU3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGV4cGFuZCAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICBhY3RpdmUrKztcbiAgICAgICAgdmFyIGlubmVyQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgICAgICBvbkJlZm9yZU5leHQgPT09IG51bGwgfHwgb25CZWZvcmVOZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkJlZm9yZU5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoZXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgb3V0ZXJOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbm5lckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaW5uZXJDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZS0tO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJlZFZhbHVlID0gYnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWJTY2hlZHVsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgaW5uZXJTdWJTY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGJ1ZmZlci5sZW5ndGggJiYgYWN0aXZlIDwgY29uY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBvdXRlck5leHQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkaXRpb25hbEZpbmFsaXplciA9PT0gbnVsbCB8fCBhZGRpdGlvbmFsRmluYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRpdGlvbmFsRmluYWxpemVyKCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlSW50ZXJuYWxzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcIi4uL29wZXJhdG9ycy9tYXBcIjtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xuICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGNhbGxPckFwcGx5KGZuLCBhcmdzKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG52YXIgbm9kZUV2ZW50RW1pdHRlck1ldGhvZHMgPSBbJ2FkZExpc3RlbmVyJywgJ3JlbW92ZUxpc3RlbmVyJ107XG52YXIgZXZlbnRUYXJnZXRNZXRob2RzID0gWydhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInXTtcbnZhciBqcXVlcnlNZXRob2RzID0gWydvbicsICdvZmYnXTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucykucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfVxuICAgIHZhciBfYSA9IF9fcmVhZChpc0V2ZW50VGFyZ2V0KHRhcmdldClcbiAgICAgICAgPyBldmVudFRhcmdldE1ldGhvZHMubWFwKGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07IH0pXG4gICAgICAgIDpcbiAgICAgICAgICAgIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgICAgICAgICAgICA/IG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzLm1hcCh0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgOiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgPyBqcXVlcnlNZXRob2RzLm1hcCh0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIDogW10sIDIpLCBhZGQgPSBfYVswXSwgcmVtb3ZlID0gX2FbMV07XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoc3ViVGFyZ2V0KSB7IHJldHVybiBmcm9tRXZlbnQoc3ViVGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpOyB9KShpbm5lckZyb20odGFyZ2V0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIubmV4dCgxIDwgYXJncy5sZW5ndGggPyBhcmdzIDogYXJnc1swXSk7XG4gICAgICAgIH07XG4gICAgICAgIGFkZChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZShoYW5kbGVyKTsgfTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07IH07XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkTGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUxpc3RlbmVyKTtcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0Lm9uKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5vZmYpO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldCh0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgJiYgaXNGdW5jdGlvbih0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwIiwiZXhwb3J0IGNvbnN0IENPT1JESU5BVEVTX01BUCA9IHtcclxuICAgIDA6IFs2LCAxM10sXHJcbiAgICAxOiBbNiwgMTJdLFxyXG4gICAgMjogWzYsIDExXSxcclxuICAgIDM6IFs2LCAxMF0sXHJcbiAgICA0OiBbNiwgOV0sXHJcbiAgICA1OiBbNSwgOF0sXHJcbiAgICA2OiBbNCwgOF0sXHJcbiAgICA3OiBbMywgOF0sXHJcbiAgICA4OiBbMiwgOF0sXHJcbiAgICA5OiBbMSwgOF0sXHJcbiAgICAxMDogWzAsIDhdLFxyXG4gICAgMTE6IFswLCA3XSxcclxuICAgIDEyOiBbMCwgNl0sXHJcbiAgICAxMzogWzEsIDZdLFxyXG4gICAgMTQ6IFsyLCA2XSxcclxuICAgIDE1OiBbMywgNl0sXHJcbiAgICAxNjogWzQsIDZdLFxyXG4gICAgMTc6IFs1LCA2XSxcclxuICAgIDE4OiBbNiwgNV0sXHJcbiAgICAxOTogWzYsIDRdLFxyXG4gICAgMjA6IFs2LCAzXSxcclxuICAgIDIxOiBbNiwgMl0sXHJcbiAgICAyMjogWzYsIDFdLFxyXG4gICAgMjM6IFs2LCAwXSxcclxuICAgIDI0OiBbNywgMF0sXHJcbiAgICAyNTogWzgsIDBdLFxyXG4gICAgMjY6IFs4LCAxXSxcclxuICAgIDI3OiBbOCwgMl0sXHJcbiAgICAyODogWzgsIDNdLFxyXG4gICAgMjk6IFs4LCA0XSxcclxuICAgIDMwOiBbOCwgNV0sXHJcbiAgICAzMTogWzksIDZdLFxyXG4gICAgMzI6IFsxMCwgNl0sXHJcbiAgICAzMzogWzExLCA2XSxcclxuICAgIDM0OiBbMTIsIDZdLFxyXG4gICAgMzU6IFsxMywgNl0sXHJcbiAgICAzNjogWzE0LCA2XSxcclxuICAgIDM3OiBbMTQsIDddLFxyXG4gICAgMzg6IFsxNCwgOF0sXHJcbiAgICAzOTogWzEzLCA4XSxcclxuICAgIDQwOiBbMTIsIDhdLFxyXG4gICAgNDE6IFsxMSwgOF0sXHJcbiAgICA0MjogWzEwLCA4XSxcclxuICAgIDQzOiBbOSwgOF0sXHJcbiAgICA0NDogWzgsIDldLFxyXG4gICAgNDU6IFs4LCAxMF0sXHJcbiAgICA0NjogWzgsIDExXSxcclxuICAgIDQ3OiBbOCwgMTJdLFxyXG4gICAgNDg6IFs4LCAxM10sXHJcbiAgICA0OTogWzgsIDE0XSxcclxuICAgIDUwOiBbNywgMTRdLFxyXG4gICAgNTE6IFs2LCAxNF0sXHJcblxyXG4gICAgXHJcbiAgICAxMDA6IFs3LCAxM10sXHJcbiAgICAxMDE6IFs3LCAxMl0sXHJcbiAgICAxMDI6IFs3LCAxMV0sXHJcbiAgICAxMDM6IFs3LCAxMF0sXHJcbiAgICAxMDQ6IFs3LCA5XSxcclxuICAgIDEwNTogWzcsIDhdLFxyXG5cclxuICBcclxuICAgIDIwMDogWzcsIDFdLFxyXG4gICAgMjAxOiBbNywgMl0sXHJcbiAgICAyMDI6IFs3LCAzXSxcclxuICAgIDIwMzogWzcsIDRdLFxyXG4gICAgMjA0OiBbNywgNV0sXHJcbiAgICAyMDU6IFs3LCA2XSxcclxuXHJcblxyXG5cclxuICBcclxuICAgIDUwMDogWzEuNSwgMTAuNThdLFxyXG4gICAgNTAxOiBbMy41NywgMTAuNThdLFxyXG4gICAgNTAyOiBbMS41LCAxMi40M10sXHJcbiAgICA1MDM6IFszLjU3LCAxMi40M10sXHJcblxyXG4gICAgNjAwOiBbMTAuNSwgMS41OF0sXHJcbiAgICA2MDE6IFsxMi41NCwgMS41OF0sXHJcbiAgICA2MDI6IFsxMC41LCAzLjQ1XSxcclxuICAgIDYwMzogWzEyLjU0LCAzLjQ1XSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBTVEVQX0xFTkdUSCA9IDYuNjY7XHJcblxyXG5leHBvcnQgY29uc3QgUExBWUVSUyA9IFsnUDEnLCAnUDInXTtcclxuXHJcbmV4cG9ydCBjb25zdCBCQVNFX1BPU0lUSU9OUyA9IHtcclxuICAgIFAxOiBbNTAwLCA1MDEsIDUwMiwgNTAzXSxcclxuICAgIFAyOiBbNjAwLCA2MDEsIDYwMiwgNjAzXSxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNUQVJUX1BPU0lUSU9OUyA9IHtcclxuICAgIFAxOiAwLFxyXG4gICAgUDI6IDI2XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBIT01FX0VOVFJBTkNFID0ge1xyXG4gICAgUDE6IFsxMDAsIDEwMSwgMTAyLCAxMDMsIDEwNF0sXHJcbiAgICBQMjogWzIwMCwgMjAxLCAyMDIsIDIwMywgMjA0XVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSE9NRV9QT1NJVElPTlMgPSB7XHJcbiAgICBQMTogMTA1LFxyXG4gICAgUDI6IDIwNVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVFVSTklOR19QT0lOVFMgPSB7XHJcbiAgICBQMTogNTAsXHJcbiAgICBQMjogMjRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNBRkVfUE9TSVRJT05TID0gWzAsIDgsIDEzLCAyMSwgMjYsIDM0LCAzOSwgNDddO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNUQVRFID0ge1xyXG4gICAgRElDRV9OT1RfUk9MTEVEOiAnRElDRV9OT1RfUk9MTEVEJyxcclxuICAgIERJQ0VfUk9MTEVEOiAnRElDRV9ST0xMRUQnLFxyXG59IiwiaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgQ09PUkRJTkFURVNfTUFQLCBQTEFZRVJTLCBTVEVQX0xFTkdUSCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xyXG5leHBvcnQgY29uc3QgZGljZUJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGljZS1idG4nKTtcclxuZXhwb3J0IGNvbnN0IHJlc2V0QnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNyZXNldC1idG4nKTtcclxuZXhwb3J0IGNvbnN0IHBsYXllclBpZWNlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItcGllY2VzJyk7XHJcbmV4cG9ydCBjb25zdCBwbGF5ZXJQaWVjZXNFbGVtZW50cyA9IHtcclxuICAgIFAxOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1twbGF5ZXItaWQ9XCJQMVwiXS5wbGF5ZXItcGllY2UnKSxcclxuICAgIFAyOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1twbGF5ZXItaWQ9XCJQMlwiXS5wbGF5ZXItcGllY2UnKVxyXG59XHJcbmV4cG9ydCBjbGFzcyBSZW5kZXJlciB7XHJcbiAgICBzdGF0aWMgbGlzdGVuRGljZUNsaWNrKGNhbGxiYWNrOmFueSl7XHJcbiAgICAgICAgY29uc3QgY2xpY2tPYnNlcnZhYmxlID0gZnJvbUV2ZW50KGRpY2VCdXR0b25FbGVtZW50LCAnY2xpY2snKTtcclxuICAgIFxyXG4gICAgICAgIGNsaWNrT2JzZXJ2YWJsZS5zdWJzY3JpYmUoY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGxpc3RlblJlc2V0Q2xpY2soY2FsbGJhY2s6YW55KVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGNsaWNrT2JzZXJ2YWJsZSA9IGZyb21FdmVudChyZXNldEJ1dHRvbkVsZW1lbnQsICdjbGljaycpO1xyXG4gICAgXHJcbiAgICAgICAgY2xpY2tPYnNlcnZhYmxlLnN1YnNjcmliZShjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbGlzdGVuUGllY2VDbGljayhjYWxsYmFjazphbnkpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgY2xpY2tPYnNlcnZhYmxlID0gZnJvbUV2ZW50KHBsYXllclBpZWNlRWxlbWVudCwgJ2NsaWNrJyk7XHJcbiAgICBcclxuICAgICAgICBjbGlja09ic2VydmFibGUuc3Vic2NyaWJlKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBzZXRQaWVjZVBvc2l0aW9uKHBsYXllcjonUDEnfCdQMicscGllY2U6bnVtYmVyLG5ld1Bvc2l0aW9uOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZighcGxheWVyUGllY2VzRWxlbWVudHNbcGxheWVyXXx8IXBsYXllclBpZWNlc0VsZW1lbnRzW3BsYXllcl1bcGllY2VdKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dyZXNrYScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBbeCwgeV0gPSBDT09SRElOQVRFU19NQVBbbmV3UG9zaXRpb24gYXMga2V5b2YgdHlwZW9mIENPT1JESU5BVEVTX01BUF07XHJcbiAgICAgICAgY29uc3QgcGllY2VFbGVtZW50ID0gcGxheWVyUGllY2VzRWxlbWVudHNbcGxheWVyXVtwaWVjZV0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgcGllY2VFbGVtZW50LnN0eWxlLnRvcD15KlNURVBfTEVOR1RIKyclJztcclxuICAgICAgICBwaWVjZUVsZW1lbnQuc3R5bGUubGVmdD14KlNURVBfTEVOR1RIKyclJztcclxuICAgIH1cclxuICAgIHN0YXRpYyBzZXRUdXJuKGluZGV4Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZihpbmRleDwwfHwgaW5kZXg+UExBWUVSUy5sZW5ndGgpXHJcbiAgICAgICAge2NvbnNvbGUuZXJyb3IoJ2luZGV4IG91dCBvZiBib3VuZCcpO3JldHVybjt9XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gUExBWUVSU1tpbmRleF07XHJcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGxheWVyIHNwYW4nKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBhY3RpdmVQbGF5ZXJTcGFuLmlubmVyVGV4dCA9IHBsYXllcjtcclxuICAgICAgICBjb25zdCBhY3RpdmVQbGF5ZXJCYXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1iYXNlLmhpZ2hsaWdodCcpO1xyXG4gICAgICAgIGlmKGFjdGl2ZVBsYXllckJhc2UpXHJcbiAgICAgICAgYWN0aXZlUGxheWVyQmFzZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW3BsYXllci1pZD1cIiR7cGxheWVyfVwiXS5wbGF5ZXItYmFzZWApLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGVuYWJsZURpY2UoKXtcclxuICAgICAgICBkaWNlQnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZGlzYWJsZURpY2UoKXtcclxuICAgICAgICBkaWNlQnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywnJyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaGlnaGxpZ2h0UGllY2VzKHBsYXllcjonUDEnfCdQMicsIHBpZWNlczpudW1iZXJbXSl7XHJcbiAgICAgICAgcGllY2VzLmZvckVhY2gocGllY2U9PntcclxuICAgICAgICAgICAgY29uc3QgcGllY2VFbGVtZW50ID0gcGxheWVyUGllY2VzRWxlbWVudHNbcGxheWVyXVtwaWVjZV07XHJcbiAgICAgICAgICAgIHBpZWNlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgc3RhdGljIHVuaGlnaGxpZ2h0UGllY2VzKCl7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllci1waWVjZS5oaWdobGlnaHQnKS5mb3JFYWNoKGVsPT57XHJcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc2V0RGljZVZhbHVlKHZhbHVlOm51bWJlcil7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGljZS12YWx1ZScpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIGVsLmlubmVySFRNTD12YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmV4cG9ydCB2YXIgaW50ZXJ2YWxQcm92aWRlciA9IHtcbiAgICBzZXRJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gaW50ZXJ2YWxQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldEludGVydmFsLmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbaGFuZGxlciwgdGltZW91dF0sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBpbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJJbnRlcnZhbCkgfHwgY2xlYXJJbnRlcnZhbCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWxQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbmltcG9ydCB7IGludGVydmFsUHJvdmlkZXIgfSBmcm9tICcuL2ludGVydmFsUHJvdmlkZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIEFzeW5jQWN0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXN5bmNBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSAoX2EgPSB0aGlzLmlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIF9pZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBpbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChfc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIGlmIChkZWxheSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW50ZXJ2YWxQcm92aWRlci5jbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgX2RlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gZSA/IGUgOiBuZXcgRXJyb3IoJ1NjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgaWQgPSBfYS5pZCwgc2NoZWR1bGVyID0gX2Euc2NoZWR1bGVyO1xuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlciA9IHtcbiAgICBub3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChkYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGVUaW1lc3RhbXBQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSBzY2hlZHVsZXJBY3Rpb25DdG9yO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcCIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5leHBvcnQgdmFyIGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY1NjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIG5vdykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RpbmN0VW50aWxDaGFuZ2VkKGNvbXBhcmF0b3IsIGtleVNlbGVjdG9yKSB7XG4gICAgaWYgKGtleVNlbGVjdG9yID09PSB2b2lkIDApIHsga2V5U2VsZWN0b3IgPSBpZGVudGl0eTsgfVxuICAgIGNvbXBhcmF0b3IgPSBjb21wYXJhdG9yICE9PSBudWxsICYmIGNvbXBhcmF0b3IgIT09IHZvaWQgMCA/IGNvbXBhcmF0b3IgOiBkZWZhdWx0Q29tcGFyZTtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBwcmV2aW91c0tleTtcbiAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEtleSA9IGtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChmaXJzdCB8fCAhY29tcGFyYXRvcihwcmV2aW91c0tleSwgY3VycmVudEtleSkpIHtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzS2V5ID0gY3VycmVudEtleTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXN0aW5jdFVudGlsQ2hhbmdlZC5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnNjaGVkdWxlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuL2lzU2NoZWR1bGVyJztcbmZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gICAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5leHBvcnQgZnVuY3Rpb24gcG9wUmVzdWx0U2VsZWN0b3IoYXJncykge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BTY2hlZHVsZXIoYXJncykge1xuICAgIHJldHVybiBpc1NjaGVkdWxlcihsYXN0KGFyZ3MpKSA/IGFyZ3MucG9wKCkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9wTnVtYmVyKGFyZ3MsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgbGFzdChhcmdzKSA9PT0gJ251bWJlcicgPyBhcmdzLnBvcCgpIDogZGVmYXVsdFZhbHVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJncy5qcy5tYXAiLCJpbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9LCBkZWxheSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb24oaXRlcmF0b3IgPT09IG51bGwgfHwgaXRlcmF0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZXJhdG9yLnJldHVybikgJiYgaXRlcmF0b3IucmV0dXJuKCk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICByZXR1cm4gZnJvbShhcmdzLCBzY2hlZHVsZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpc0NvbXBsZXRlICYmICFpbm5lclN1YnNjcmliZXIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlubmVyU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBpbm5lclN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlubmVyU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdmFyIGlubmVySW5kZXggPSAwO1xuICAgICAgICAgICAgdmFyIG91dGVySW5kZXggPSBpbmRleCsrO1xuICAgICAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIG91dGVySW5kZXgpKS5zdWJzY3JpYmUoKGlubmVyU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IodmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgrKykgOiBpbm5lclZhbHVlKTsgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlubmVyU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaE1hcC5qcy5tYXAiLCJ2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgZ2V0S2V5cyA9IE9iamVjdC5rZXlzO1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGZpcnN0XzEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoaXNBcnJheShmaXJzdF8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYXJnczogZmlyc3RfMSwga2V5czogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1BPSk8oZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gZ2V0S2V5cyhmaXJzdF8xKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXJnczoga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSxcbiAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhcmdzOiBhcmdzLCBrZXlzOiBudWxsIH07XG59XG5mdW5jdGlvbiBpc1BPSk8ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBnZXRQcm90b3R5cGVPZihvYmopID09PSBvYmplY3RQcm90bztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3NBcmdBcnJheU9yT2JqZWN0LmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFyZ3NBcmdBcnJheU9yT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9hcmdzQXJnQXJyYXlPck9iamVjdCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBtYXBPbmVPck1hbnlBcmdzIH0gZnJvbSAnLi4vdXRpbC9tYXBPbmVPck1hbnlBcmdzJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yLCBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgY3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9jcmVhdGVPYmplY3QnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUxhdGVzdCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICB2YXIgX2EgPSBhcmdzQXJnQXJyYXlPck9iamVjdChhcmdzKSwgb2JzZXJ2YWJsZXMgPSBfYS5hcmdzLCBrZXlzID0gX2Eua2V5cztcbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmcm9tKFtdLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbmV3IE9ic2VydmFibGUoY29tYmluZUxhdGVzdEluaXQob2JzZXJ2YWJsZXMsIHNjaGVkdWxlciwga2V5c1xuICAgICAgICA/XG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiBjcmVhdGVPYmplY3Qoa2V5cywgdmFsdWVzKTsgfVxuICAgICAgICA6XG4gICAgICAgICAgICBpZGVudGl0eSkpO1xuICAgIHJldHVybiByZXN1bHRTZWxlY3RvciA/IHJlc3VsdC5waXBlKG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKSA6IHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0SW5pdChvYnNlcnZhYmxlcywgc2NoZWR1bGVyLCB2YWx1ZVRyYW5zZm9ybSkge1xuICAgIGlmICh2YWx1ZVRyYW5zZm9ybSA9PT0gdm9pZCAwKSB7IHZhbHVlVHJhbnNmb3JtID0gaWRlbnRpdHk7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgbWF5YmVTY2hlZHVsZShzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBvYnNlcnZhYmxlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0ZpcnN0VmFsdWVzID0gbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIG1heWJlU2NoZWR1bGUoc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBmcm9tKG9ic2VydmFibGVzW2ldLCBzY2hlZHVsZXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzRmlyc3RWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNGaXJzdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRmlyc3RWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nRmlyc3RWYWx1ZXMtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVtYWluaW5nRmlyc3RWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWVUcmFuc2Zvcm0odmFsdWVzLnNsaWNlKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEtLWFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0sIHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBfbG9vcF8xKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBzdWJzY3JpYmVyKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbWF5YmVTY2hlZHVsZShzY2hlZHVsZXIsIGV4ZWN1dGUsIHN1YnNjcmlwdGlvbikge1xuICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCBleGVjdXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4ZWN1dGUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21iaW5lTGF0ZXN0LmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSwgaSkgeyByZXR1cm4gKChyZXN1bHRba2V5XSA9IHZhbHVlc1tpXSksIHJlc3VsdCk7IH0sIHt9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZU9iamVjdC5qcy5tYXAiLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7XHJcbmdhbWUuc3RhcnRHYW1lKCk7IiwiaW1wb3J0IHsgY3VycmVudFBvc2l0aW9ucyB9IGZyb20gXCIuL2ludGVyZmFjZXNcIlxyXG5pbXBvcnQgeyBSZW5kZXJlciwgZGljZUJ1dHRvbkVsZW1lbnQsIHBsYXllclBpZWNlRWxlbWVudCwgcGxheWVyUGllY2VzRWxlbWVudHMsIHJlc2V0QnV0dG9uRWxlbWVudCB9IGZyb20gXCIuL3JlbmRlcmVyXCI7XHJcbmltcG9ydCB7IEJBU0VfUE9TSVRJT05TLCBIT01FX0VOVFJBTkNFLCBIT01FX1BPU0lUSU9OUywgUExBWUVSUywgU0FGRV9QT1NJVElPTlMsIFNUQVJUX1BPU0lUSU9OUywgU1RBVEUsIFRVUk5JTkdfUE9JTlRTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiwgY29tYmluZUxhdGVzdCwgY29uY2F0TWFwLCBkZWJvdW5jZVRpbWUsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBmaWx0ZXIsIGZpbmFsaXplLCBmcm9tLCBmcm9tRXZlbnQsIGludGVydmFsLCBtYXAsIG1lcmdlTWFwLCBvZiwgc3dpdGNoTWFwLCB0YWtlVW50aWwsIHRha2VXaGlsZSwgdGFwIH0gZnJvbSBcInJ4anNcIjtcclxuZXhwb3J0IGNsYXNzIEdhbWV7XHJcbiAgICBjdXJyZW50UG9zaXRpb25zIDogY3VycmVudFBvc2l0aW9ucz0ge1xyXG4gICAgICAgIFAxOltdLFxyXG4gICAgICAgIFAyOltdXHJcbiAgICB9XHJcbiAgICBfZGljZVZhbHVlIDogbnVtYmVyIDtcclxuICAgIGdldCBkaWNlVmFsdWUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGljZVZhbHVlO1xyXG4gICAgfSBcclxuICAgIHNldCBkaWNlVmFsdWUodmFsdWUpe1xyXG4gICAgICAgIHRoaXMuX2RpY2VWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIFJlbmRlcmVyLnNldERpY2VWYWx1ZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBfdHVybjpudW1iZXI7IFxyXG4gICAgZ2V0IHR1cm4oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHVybjtcclxuICAgIH1cclxuICAgIHNldCB0dXJuKHZhbHVlKXtcclxuICAgICAgICB0aGlzLl90dXJuID0gdmFsdWU7XHJcbiAgICAgICAgUmVuZGVyZXIuc2V0VHVybih2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBfc3RhdGUgOiBzdHJpbmcgOyBcclxuICAgIGdldCBzdGF0ZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcclxuICAgIH1cclxuICAgIHNldCBzdGF0ZSh2YWx1ZSl7XHJcbiAgICAgICAgdGhpcy5fc3RhdGU9IHZhbHVlIDsgXHJcbiAgICAgICAgaWYodmFsdWUgPT09IFNUQVRFLkRJQ0VfTk9UX1JPTExFRClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFJlbmRlcmVyLmVuYWJsZURpY2UoKTtcclxuICAgICAgICAgICAgUmVuZGVyZXIudW5oaWdobGlnaHRQaWVjZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUmVuZGVyZXIuZGlzYWJsZURpY2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGFydEdhbWUoKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhJyk7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5EaWNlQ2xpY2soKTtcclxuICAgICAgICB0aGlzLmxpc3RlblJlc2V0Q2xpY2soKTtcclxuICAgICAgICB0aGlzLmxpc3RlblBpZWNlQ2xpY2soKTtcclxuICAgICAgICB0aGlzLnJlc2V0R2FtZSgpO1xyXG4gICAgfVxyXG4gICAgbGlzdGVuRGljZUNsaWNrKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBidXR0b25DbGljayQgPSBmcm9tRXZlbnQoZGljZUJ1dHRvbkVsZW1lbnQsJ2NsaWNrJykucGlwZShcclxuICAgICAgICAgICAgZGVib3VuY2VUaW1lKDMwMCksIC8vSWdub3Jpc2UgYnJ6ZSB1emFzdG9wbmUga2xpa292ZVxyXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLC8vSWdub3Jpc2FuamUgdXphc3RvcG5paCBpc3RpaCBrbGlrb3ZhXHJcbiAgICAgICAgKTtcclxuICAgICAgICAgICAgYnV0dG9uQ2xpY2skLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGljZUNsaWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25EaWNlQ2xpY2soKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkaWNlIGlzIGNsaWNrZWQnKTtcclxuICAgICAgICB0aGlzLmRpY2VWYWx1ZT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2KSArIDE7XHJcbiAgICAgICAgdGhpcy5zdGF0ZT1TVEFURS5ESUNFX1JPTExFRDtcclxuICAgICAgICB0aGlzLmNoZWNrRm9yRWxpZ2libGVQaWVjZXMoKTtcclxuICAgIH1cclxuICAgIGxpc3RlblJlc2V0Q2xpY2soKXtcclxuICAgICAgICBjb25zdCByZXNldENsaWNrJCA9IGZyb21FdmVudChyZXNldEJ1dHRvbkVsZW1lbnQsJ2NsaWNrJykucGlwZShcclxuICAgICAgICAgICAgdGFwKCgpPT57XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0R2FtZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICkuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgICByZXNldEdhbWUoKXtcclxuICAgICAgICBjb25zdCByZXNldEdhbWUkID0gb2YobnVsbCkucGlwZShcclxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbnMgPSBzdHJ1Y3R1cmVkQ2xvbmUoQkFTRV9QT1NJVElPTlMpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoXHJcbiAgICAgICAgICAgICAgICBQTEFZRVJTLm1hcChwbGF5ZXIgPT4gZnJvbShbMCwgMSwgMiwgM10pLnBpcGUoXHJcbiAgICAgICAgICAgICAgICAgIG1hcChwaWVjZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyPT0nUDEnfHxwbGF5ZXI9PT0nUDInKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGllY2VQb3NpdGlvbihwbGF5ZXIsIHBpZWNlLCBCQVNFX1BPU0lUSU9OU1twbGF5ZXJdW3BpZWNlXSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXNldEdhbWUkLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gU3ZlIGZpZ3VyZSBzdSBwb3N0YXZsamVuZSBuYSBwb8SNZXRuZSBwb3ppY2lqZVxyXG4gICAgICAgICAgICAgIHRoaXMudHVybiA9IDA7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFLkRJQ0VfTk9UX1JPTExFRDtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR2FtZSByZXNldCBjb21wbGV0ZWQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbGlzdGVuUGllY2VDbGljaygpe1xyXG4gICAgICAgIGNvbnN0IHBpZWNlQ2xpY2skID0gZnJvbUV2ZW50KHBsYXllclBpZWNlRWxlbWVudCwnY2xpY2snKS5waXBlKFxyXG4gICAgICAgICAgICBmaWx0ZXIoKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXllci1waWVjZScpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbWFwKChldmVudCk9PntcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3BsYXllci1pZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdwaWVjZScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJue3BsYXllcixwaWVjZX07XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKHtwbGF5ZXIscGllY2V9KT0+e1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUGllY2VDbGljayhwbGF5ZXIscGllY2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgICAgICBwaWVjZUNsaWNrJC5zdWJzY3JpYmUoKCk9PmNvbnNvbGUubG9nKCdwaWVjZSB3YXMgY2xpY2tlZCcpKTtcclxuICAgIH1cclxuICAgIGhhbmRsZVBpZWNlQ2xpY2socGxheWVyOiBzdHJpbmcsIHBpZWNlOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gb2YocGxheWVyKS5waXBlKFxyXG4gICAgICAgICAgICBtYXAoKCkgPT4gcGFyc2VJbnQocGllY2UsIDEwKSksIC8vIFByZXR2YXJhbmplIHBpZWNlIHUgYnJvalxyXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKHBpZWNlTnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyID09PSAnUDEnIHx8IHBsYXllciA9PT0gJ1AyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlTnVtYmVyXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQkFTRV9QT1NJVElPTlNbcGxheWVyXS5pbmNsdWRlcyhjdXJyZW50UG9zaXRpb24pICYmdGhpcy5kaWNlVmFsdWU9PT02ICYmIHRoaXMuc3RhdGU9PT1TVEFURS5ESUNFX1JPTExFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBa28gamUgdHJlbnV0bmEgcG96aWNpamEgdWtsanXEjWVuYSB1IEJBU0VfUE9TSVRJT05TLCBwb3N0YXZpdGUgbmEgU1RBUlRfUE9TSVRJT05TXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGllY2VQb3NpdGlvbihwbGF5ZXIsIHBpZWNlTnVtYmVyLCBTVEFSVF9QT1NJVElPTlNbcGxheWVyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURS5ESUNFX05PVF9ST0xMRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5hxI1lLCBwb3pvdml0ZSBtb3ZlUGllY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZT09PVNUQVRFLkRJQ0VfUk9MTEVEKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlUGllY2UocGxheWVyLCBwaWVjZU51bWJlciwgdGhpcy5kaWNlVmFsdWUpOyAvLyBQb3ppdiBmdW5rY2lqZSBtb3ZlUGllY2Ugc2EgcGxheWVyIGkgYnJvamVtIHBpZWNlLWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gb2YobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKG51bGwpOyAvLyBWcmHEh2FtbyBudWxsIGthbyByZXp1bHRhdCBha28gbmVtYSBha2NpamVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgc2V0UGllY2VQb3NpdGlvbihwbGF5ZXI6J1AxJ3wnUDInLHBpZWNlOm51bWJlcixuZXdQb3NpdGlvbjpudW1iZXIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHBsYXllcixwaWVjZSxuZXdQb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25zW3BsYXllcl1bcGllY2VdPW5ld1Bvc2l0aW9uO1xyXG4gICAgICAgIFJlbmRlcmVyLnNldFBpZWNlUG9zaXRpb24ocGxheWVyLHBpZWNlLG5ld1Bvc2l0aW9uKTtcclxuICAgICAgIH1cclxuICAgICAgIG1vdmVQaWVjZShwbGF5ZXI6ICdQMScgfCAnUDInLCBwaWVjZTogbnVtYmVyLCBtb3ZlQnk6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGludGVydmFsJCA9IGludGVydmFsKDIwMCkucGlwZShcclxuICAgICAgICAgICAgdGFrZVdoaWxlKCgpID0+IG1vdmVCeSA+IDApLFxyXG4gICAgICAgICAgICBjb25jYXRNYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRQaWVjZVBvc2l0aW9uKHBsYXllciwgcGllY2UpO1xyXG4gICAgICAgICAgICAgICAgbW92ZUJ5LS07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2YobnVsbCk7IC8vIFZyYcSHYW5qZSBPYnNlcnZhYmxlIHNhIG51bGwgdnJlZG5vxaHEh3VcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChtb3ZlQnkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmhhc1BsYXllcldvbihwbGF5ZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIHsgYWxlcnQoYFBsYXllciAke3BsYXllcn0gd29uYCk7IHRoaXMucmVzZXRHYW1lKCk7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5jaGVja0ZvcktpbGwocGxheWVyLHBpZWNlKXx8dGhpcy5kaWNlVmFsdWUgPT09IDYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFLkRJQ0VfTk9UX1JPTExFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlVHVybigpOyAvLyBQb3ppdiBpbmNyZW1lbnRUdXJuIGthZGEgamUgbW92ZUJ5ID09PSAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gaW50ZXJ2YWwkOyAvLyBWcmHEh2FuamUgT2JzZXJ2YWJsZSBzYSBpbnRlcnZhbG9tXHJcbiAgICB9XHJcbiAgICAgICBpbmNyZW1lbnRQaWVjZVBvc2l0aW9uKHBsYXllcjonUDEnfCdQMicscGllY2U6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnNldFBpZWNlUG9zaXRpb24ocGxheWVyLHBpZWNlLHRoaXMuZ2V0SW5jcmVtZW50ZWRQb3NpdGlvbihwbGF5ZXIscGllY2UpKVxyXG4gICAgICAgfVxyXG4gICAgICAgZ2V0SW5jcmVtZW50ZWRQb3NpdGlvbihwbGF5ZXI6J1AxJ3wnUDInLHBpZWNlOm51bWJlcil7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb25zW3BsYXllcl1bcGllY2VdO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgaWYoY3VycmVudFBvc2l0aW9uPT09VFVSTklOR19QT0lOVFNbcGxheWVyXSl7XHJcbiAgICAgICAgICAgIHJldHVybiBIT01FX0VOVFJBTkNFW3BsYXllcl1bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgZWxzZSBpZihjdXJyZW50UG9zaXRpb249PT01MSl7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uKzE7XHJcbiAgICAgICB9XHJcbiAgICAgICBjaGFuZ2VUdXJuKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnR1cm49dGhpcy50dXJuPT09MD8xOjA7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGU9U1RBVEUuRElDRV9OT1RfUk9MTEVEO1xyXG4gICAgfVxyXG4gICAgY2hlY2tGb3JFbGlnaWJsZVBpZWNlcygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gUExBWUVSU1t0aGlzLnR1cm5dO1xyXG4gICAgICAgIGlmKHBsYXllciA9PT0nUDEnfHxwbGF5ZXI9PT0nUDInKVxyXG4gICAgICAgIHtjb25zdCBlbGlnaWJsZVBpZWNlczpudW1iZXJbXT10aGlzLmdldEVsaWdpYmxlUGllY2VzKHBsYXllcik7XHJcbiAgICAgICAgaWYoZWxpZ2libGVQaWVjZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgUmVuZGVyZXIuaGlnaGxpZ2h0UGllY2VzKHBsYXllcixlbGlnaWJsZVBpZWNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlVHVybigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH1cclxuICAgIGdldEVsaWdpYmxlUGllY2VzKHBsYXllcjonUDEnfCdQMicpOm51bWJlcltdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFswLDEsMiwzXS5maWx0ZXIocGllY2U9PntcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb25zW3BsYXllcl1bcGllY2VdXHJcbiAgICAgICAgICAgIGlmKGN1cnJlbnRQb3NpdGlvbj09SE9NRV9QT1NJVElPTlNbcGxheWVyXSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoQkFTRV9QT1NJVElPTlNbcGxheWVyXS5pbmNsdWRlcyhjdXJyZW50UG9zaXRpb24pJiYgdGhpcy5kaWNlVmFsdWUhPT02KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoSE9NRV9FTlRSQU5DRVtwbGF5ZXJdLmluY2x1ZGVzKGN1cnJlbnRQb3NpdGlvbikmJiB0aGlzLl9kaWNlVmFsdWU+SE9NRV9QT1NJVElPTlNbcGxheWVyXS1jdXJyZW50UG9zaXRpb24pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBoYXNQbGF5ZXJXb24ocGxheWVyOidQMSd8J1AyJyl7XHJcbiAgICAgICAgcmV0dXJuIFswLDEsMiwzXS5ldmVyeShwaWVjZT0+dGhpcy5jdXJyZW50UG9zaXRpb25zW3BsYXllcl1bcGllY2VdPT09SE9NRV9QT1NJVElPTlNbcGxheWVyXSlcclxuICAgICAgIH1cclxuICAgICAgIGNoZWNrRm9yS2lsbChwbGF5ZXI6J1AxJ3wnUDInLHBpZWNlOm51bWJlcilcclxuICAge1xyXG4gICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb25zW3BsYXllcl1bcGllY2VdO1xyXG4gICAgY29uc3Qgb3Bwb25lbnQgPSBwbGF5ZXIgPT09J1AxJz8nUDInOidQMSc7XHJcbiAgICBsZXQga2lsbCA9IGZhbHNlO1xyXG4gICAgWzAsMSwyLDNdLmZvckVhY2gocGllY2U9PntcclxuICAgICAgICBjb25zdCBvcHBvbmVudFBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb25zW29wcG9uZW50XVtwaWVjZV07XHJcbiAgICAgICAgaWYoY3VycmVudFBvc2l0aW9uPT09b3Bwb25lbnRQb3NpdGlvbiYmIVNBRkVfUE9TSVRJT05TLmluY2x1ZGVzKGN1cnJlbnRQb3NpdGlvbikpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBpZWNlUG9zaXRpb24ob3Bwb25lbnQscGllY2UsQkFTRV9QT1NJVElPTlNbb3Bwb25lbnRdW3BpZWNlXSk7XHJcbiAgICAgICAgICAgIGtpbGw9dHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIGtpbGw7XHJcbiAgIH1cclxufSIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlVGltZShkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0VGltZSA9IG51bGw7XG4gICAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVRhc2spIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFzayA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gbGFzdFZhbHVlO1xuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZW1pdFdoZW5JZGxlKCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldFRpbWUgPSBsYXN0VGltZSArIGR1ZVRpbWU7XG4gICAgICAgICAgICB2YXIgbm93ID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICAgICAgaWYgKG5vdyA8IHRhcmdldFRpbWUpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIHRhcmdldFRpbWUgLSBub3cpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGFjdGl2ZVRhc2spO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICBpZiAoIWFjdGl2ZVRhc2spIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gc2NoZWR1bGVyLnNjaGVkdWxlKGVtaXRXaGVuSWRsZSwgZHVlVGltZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVtaXQoKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVib3VuY2VUaW1lLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHRhcChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgdmFyIHRhcE9ic2VydmVyID0gaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgZXJyb3IgfHwgY29tcGxldGVcbiAgICAgICAgP1xuICAgICAgICAgICAgeyBuZXh0OiBvYnNlcnZlck9yTmV4dCwgZXJyb3I6IGVycm9yLCBjb21wbGV0ZTogY29tcGxldGUgfVxuICAgICAgICA6IG9ic2VydmVyT3JOZXh0O1xuICAgIHJldHVybiB0YXBPYnNlcnZlclxuICAgICAgICA/IG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICB2YXIgaXNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuY29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIGVycik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIudW5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gdGFwT2JzZXJ2ZXIuZmluYWxpemUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YXAuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluYWxpemUuanMubWFwIiwiaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSA/IG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCAxKSA6IG1lcmdlTWFwKHByb2plY3QsIDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0TWFwLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VXaGlsZShwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgIGlmIChpbmNsdXNpdmUgPT09IHZvaWQgMCkgeyBpbmNsdXNpdmUgPSBmYWxzZTsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrKTtcbiAgICAgICAgICAgIChyZXN1bHQgfHwgaW5jbHVzaXZlKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgIXJlc3VsdCAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VXaGlsZS5qcy5tYXAiLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4vdGltZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHBlcmlvZCA9PT0gdm9pZCAwKSB7IHBlcmlvZCA9IDA7IH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cbiAgICBpZiAocGVyaW9kIDwgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gdGltZXIocGVyaW9kLCBwZXJpb2QsIHNjaGVkdWxlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyBhcyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5leHBvcnQgZnVuY3Rpb24gdGltZXIoZHVlVGltZSwgaW50ZXJ2YWxPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkgeyBkdWVUaW1lID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY1NjaGVkdWxlcjsgfVxuICAgIHZhciBpbnRlcnZhbER1cmF0aW9uID0gLTE7XG4gICAgaWYgKGludGVydmFsT3JTY2hlZHVsZXIgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXIoaW50ZXJ2YWxPclNjaGVkdWxlcikpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnZhbER1cmF0aW9uID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGR1ZSA9IGlzVmFsaWREYXRlKGR1ZVRpbWUpID8gK2R1ZVRpbWUgLSBzY2hlZHVsZXIubm93KCkgOiBkdWVUaW1lO1xuICAgICAgICBpZiAoZHVlIDwgMCkge1xuICAgICAgICAgICAgZHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChuKyspO1xuICAgICAgICAgICAgICAgIGlmICgwIDw9IGludGVydmFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIGludGVydmFsRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZHVlKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHZhbHVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXAiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfX2V4dGVuZHMiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJuZXh0IiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibiIsInYiLCJvcCIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsImxlbmd0aCIsInB1c2giLCJlIiwic3RlcCIsIl9fdmFsdWVzIiwibyIsInMiLCJtIiwiaSIsIl9fcmVhZCIsInIiLCJhciIsImVycm9yIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJhcmd1bWVudHMiLCJsIiwic2xpY2UiLCJjb25jYXQiLCJfX2F3YWl0IiwiU3VwcHJlc3NlZEVycm9yIiwiaXNBcnJheUxpa2UiLCJ4IiwiaXNGdW5jdGlvbiIsImlzUHJvbWlzZSIsInRoZW4iLCJjdG9yRnVuYyIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJlcnJvcnMiLCJpbnN0YW5jZSIsIkVycm9yIiwic3RhY2siLCJtZXNzYWdlIiwibWFwIiwiZXJyIiwidG9TdHJpbmciLCJqb2luIiwibmFtZSIsImFyclJlbW92ZSIsImFyciIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJTdWJzY3JpcHRpb24iLCJpbml0aWFsVGVhcmRvd24iLCJjbG9zZWQiLCJfcGFyZW50YWdlIiwiX2ZpbmFsaXplcnMiLCJlbXB0eSIsInVuc3Vic2NyaWJlIiwiZV8xIiwiX2EiLCJlXzIiLCJfYiIsImlzQXJyYXkiLCJfcGFyZW50YWdlXzEiLCJfcGFyZW50YWdlXzFfMSIsInJlbW92ZSIsImVfMV8xIiwicmV0dXJuIiwiaW5pdGlhbEZpbmFsaXplciIsIl9maW5hbGl6ZXJzXzEiLCJfZmluYWxpemVyc18xXzEiLCJmaW5hbGl6ZXIiLCJleGVjRmluYWxpemVyIiwiZV8yXzEiLCJhZGQiLCJ0ZWFyZG93biIsIl9oYXNQYXJlbnQiLCJfYWRkUGFyZW50IiwicGFyZW50IiwiaW5jbHVkZXMiLCJfcmVtb3ZlUGFyZW50IiwiRU1QVFkiLCJpc1N1YnNjcmlwdGlvbiIsImNvbmZpZyIsIm9uVW5oYW5kbGVkRXJyb3IiLCJvblN0b3BwZWROb3RpZmljYXRpb24iLCJQcm9taXNlIiwidW5kZWZpbmVkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsInRpbWVvdXRQcm92aWRlciIsInNldFRpbWVvdXQiLCJoYW5kbGVyIiwidGltZW91dCIsImFyZ3MiLCJfaSIsImRlbGVnYXRlIiwiYXBwbHkiLCJjbGVhclRpbWVvdXQiLCJoYW5kbGUiLCJyZXBvcnRVbmhhbmRsZWRFcnJvciIsIm5vb3AiLCJDT01QTEVURV9OT1RJRklDQVRJT04iLCJjcmVhdGVOb3RpZmljYXRpb24iLCJraW5kIiwiY29udGV4dCIsIlN1YnNjcmliZXIiLCJfc3VwZXIiLCJkZXN0aW5hdGlvbiIsIl90aGlzIiwiaXNTdG9wcGVkIiwiRU1QVFlfT0JTRVJWRVIiLCJjb21wbGV0ZSIsIlNhZmVTdWJzY3JpYmVyIiwiaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbiIsIm5leHROb3RpZmljYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl9iaW5kIiwiRnVuY3Rpb24iLCJiaW5kIiwiZm4iLCJDb25zdW1lck9ic2VydmVyIiwicGFydGlhbE9ic2VydmVyIiwiaGFuZGxlVW5oYW5kbGVkRXJyb3IiLCJvYnNlcnZlck9yTmV4dCIsImNvbnRleHRfMSIsImVycm9yVGhyb3duIiwibm90aWZpY2F0aW9uIiwic3Vic2NyaWJlciIsIm9ic2VydmFibGUiLCJpZGVudGl0eSIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwiaXNPYnNlcnZlciIsImNiIiwiaXNSb290IiwiZXJyb3JDb250ZXh0IiwiX3RyeVN1YnNjcmliZSIsInNpbmsiLCJmb3JFYWNoIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJwaXBlIiwib3BlcmF0aW9ucyIsImZucyIsImlucHV0IiwicmVkdWNlIiwicHJldiIsInRvUHJvbWlzZSIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0FzeW5jSXRlcmFibGUiLCJvYmoiLCJhc3luY0l0ZXJhdG9yIiwiY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IiLCJpc0l0ZXJhYmxlIiwicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsInJlYWRhYmxlU3RyZWFtIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsInEiLCJhIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0dlbmVyYXRvciIsInJlYWRlciIsImdldFJlYWRlciIsInJlYWQiLCJyZWxlYXNlTG9jayIsImlzUmVhZGFibGVTdHJlYW1MaWtlIiwiaW5uZXJGcm9tIiwib2JzIiwiYXJyYXkiLCJwcm9taXNlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhc3luY0l0ZXJhYmxlIiwiYXN5bmNJdGVyYWJsZV8xIiwiYXN5bmNJdGVyYWJsZV8xXzEiLCJQIiwiX19hc3luY1ZhbHVlcyIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicmVzdWx0IiwicHJvY2VzcyIsImNhdGNoIiwib3BlcmF0ZSIsImluaXQiLCJoYXNMaWZ0IiwibGlmdGVkU291cmNlIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsInByb2plY3QiLCJleGVjdXRlU2NoZWR1bGUiLCJwYXJlbnRTdWJzY3JpcHRpb24iLCJzY2hlZHVsZXIiLCJ3b3JrIiwiZGVsYXkiLCJyZXBlYXQiLCJzY2hlZHVsZVN1YnNjcmlwdGlvbiIsInNjaGVkdWxlIiwibWVyZ2VNYXAiLCJyZXN1bHRTZWxlY3RvciIsImNvbmN1cnJlbnQiLCJJbmZpbml0eSIsImlpIiwib25CZWZvcmVOZXh0IiwiZXhwYW5kIiwiaW5uZXJTdWJTY2hlZHVsZXIiLCJhZGRpdGlvbmFsRmluYWxpemVyIiwiYnVmZmVyIiwiYWN0aXZlIiwiaXNDb21wbGV0ZSIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJidWZmZXJlZFZhbHVlIiwibWVyZ2VJbnRlcm5hbHMiLCJtYXBPbmVPck1hbnlBcmdzIiwiY2FsbE9yQXBwbHkiLCJub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyIsImV2ZW50VGFyZ2V0TWV0aG9kcyIsImpxdWVyeU1ldGhvZHMiLCJmcm9tRXZlbnQiLCJ0YXJnZXQiLCJldmVudE5hbWUiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0IiwibWV0aG9kTmFtZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5Iiwib24iLCJvZmYiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic3ViVGFyZ2V0IiwiQ09PUkRJTkFURVNfTUFQIiwiUExBWUVSUyIsIkJBU0VfUE9TSVRJT05TIiwiUDEiLCJQMiIsIlNUQVJUX1BPU0lUSU9OUyIsIkhPTUVfRU5UUkFOQ0UiLCJIT01FX1BPU0lUSU9OUyIsIlRVUk5JTkdfUE9JTlRTIiwiU0FGRV9QT1NJVElPTlMiLCJTVEFURSIsImRpY2VCdXR0b25FbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVzZXRCdXR0b25FbGVtZW50IiwicGxheWVyUGllY2VFbGVtZW50IiwicGxheWVyUGllY2VzRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGlzdGVuRGljZUNsaWNrIiwiY2FsbGJhY2siLCJsaXN0ZW5SZXNldENsaWNrIiwibGlzdGVuUGllY2VDbGljayIsInNldFBpZWNlUG9zaXRpb24iLCJwbGF5ZXIiLCJwaWVjZSIsIm5ld1Bvc2l0aW9uIiwiY29uc29sZSIsImxvZyIsInBpZWNlRWxlbWVudCIsInN0eWxlIiwidG9wIiwibGVmdCIsInNldFR1cm4iLCJpbm5lclRleHQiLCJhY3RpdmVQbGF5ZXJCYXNlIiwiY2xhc3NMaXN0IiwiZW5hYmxlRGljZSIsInJlbW92ZUF0dHJpYnV0ZSIsImRpc2FibGVEaWNlIiwic2V0QXR0cmlidXRlIiwiaGlnaGxpZ2h0UGllY2VzIiwicGllY2VzIiwidW5oaWdobGlnaHRQaWVjZXMiLCJlbCIsInNldERpY2VWYWx1ZSIsImlubmVySFRNTCIsIkFjdGlvbiIsInN0YXRlIiwiaW50ZXJ2YWxQcm92aWRlciIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIkFzeW5jQWN0aW9uIiwicGVuZGluZyIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsIl9pZCIsImZsdXNoIiwiX3NjaGVkdWxlciIsImV4ZWN1dGUiLCJfZXhlY3V0ZSIsIl9kZWxheSIsImVycm9yVmFsdWUiLCJlcnJvcmVkIiwiYWN0aW9ucyIsImRhdGVUaW1lc3RhbXBQcm92aWRlciIsIm5vdyIsIkRhdGUiLCJTY2hlZHVsZXIiLCJzY2hlZHVsZXJBY3Rpb25DdG9yIiwiYXN5bmNTY2hlZHVsZXIiLCJBc3luY1NjaGVkdWxlciIsIlNjaGVkdWxlckFjdGlvbiIsIl9hY3RpdmUiLCJhY3Rpb24iLCJkZWZhdWx0Q29tcGFyZSIsImlzU2NoZWR1bGVyIiwibGFzdCIsInBvcFNjaGVkdWxlciIsIm9ic2VydmVPbiIsInN1YnNjcmliZU9uIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVBcnJheSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlSXRlcmFibGUiLCJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsInNjaGVkdWxlZCIsIm9mIiwic3dpdGNoTWFwIiwiaW5uZXJTdWJzY3JpYmVyIiwiaW5uZXJJbmRleCIsIm91dGVySW5kZXgiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdFByb3RvIiwiZ2V0S2V5cyIsImtleXMiLCJjb21iaW5lTGF0ZXN0IiwicG9wUmVzdWx0U2VsZWN0b3IiLCJmaXJzdF8xIiwia2V5IiwiYXJnc0FyZ0FycmF5T3JPYmplY3QiLCJvYnNlcnZhYmxlcyIsInZhbHVlVHJhbnNmb3JtIiwibWF5YmVTY2hlZHVsZSIsInZhbHVlcyIsInJlbWFpbmluZ0ZpcnN0VmFsdWVzIiwiX2xvb3BfMSIsImhhc0ZpcnN0VmFsdWUiLCJjb21iaW5lTGF0ZXN0SW5pdCIsImNyZWF0ZU9iamVjdCIsInN1YnNjcmlwdGlvbiIsImN1cnJlbnRQb3NpdGlvbnMiLCJfZGljZVZhbHVlIiwiUmVuZGVyZXIiLCJfdHVybiIsIl9zdGF0ZSIsInN0YXJ0R2FtZSIsInJlc2V0R2FtZSIsImNvbXBhcmF0b3IiLCJrZXlTZWxlY3RvciIsImFjdGl2ZVRhc2siLCJsYXN0VmFsdWUiLCJsYXN0VGltZSIsImVtaXQiLCJlbWl0V2hlbklkbGUiLCJ0YXJnZXRUaW1lIiwicHJldmlvdXNLZXkiLCJmaXJzdCIsImN1cnJlbnRLZXkiLCJvbkRpY2VDbGljayIsImRpY2VWYWx1ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNoZWNrRm9yRWxpZ2libGVQaWVjZXMiLCJ0YXBPYnNlcnZlciIsImlzVW5zdWIiLCJmaW5hbGl6ZSIsInN0cnVjdHVyZWRDbG9uZSIsInR1cm4iLCJwcmVkaWNhdGUiLCJldmVudCIsImNvbnRhaW5zIiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlUGllY2VDbGljayIsInBhcnNlSW50IiwicGllY2VOdW1iZXIiLCJjdXJyZW50UG9zaXRpb24iLCJtb3ZlUGllY2UiLCJtb3ZlQnkiLCJpbmNsdXNpdmUiLCJwZXJpb2QiLCJkdWVUaW1lIiwiaW50ZXJ2YWxPclNjaGVkdWxlciIsImludGVydmFsRHVyYXRpb24iLCJkdWUiLCJpc05hTiIsInRpbWVyIiwiaW5jcmVtZW50UGllY2VQb3NpdGlvbiIsImhhc1BsYXllcldvbiIsImFsZXJ0IiwiY2hlY2tGb3JLaWxsIiwiY2hhbmdlVHVybiIsImdldEluY3JlbWVudGVkUG9zaXRpb24iLCJlbGlnaWJsZVBpZWNlcyIsImdldEVsaWdpYmxlUGllY2VzIiwiZmlsdGVyIiwiZXZlcnkiLCJvcHBvbmVudCIsImtpbGwiLCJvcHBvbmVudFBvc2l0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==