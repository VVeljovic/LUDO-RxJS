(()=>{"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(e,t){var n,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=t.call(e,c)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return c}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function c(e){return this instanceof c?(this.v=e,this):new c(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var u=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function s(e){return"function"==typeof e}function l(e){return s(null==e?void 0:e.then)}var a,f=((a=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),a.prototype.constructor=a,a);function h(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var p=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,c,u;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var a=r(l),h=a.next();!h.done;h=a.next())h.value.remove(this)}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else l.remove(this);var p=this.initialTeardown;if(s(p))try{p()}catch(e){u=e instanceof f?e.errors:[e]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var y=r(d),b=y.next();!b.done;b=y.next()){var m=b.value;try{v(m)}catch(e){u=null!=u?u:[],e instanceof f?u=o(o([],i(u)),i(e.errors)):u.push(e)}}}catch(e){n={error:e}}finally{try{b&&!b.done&&(c=y.return)&&c.call(y)}finally{if(n)throw n.error}}}if(u)throw new f(u)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)v(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&h(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&h(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function d(e){return e instanceof p||e&&"closed"in e&&s(e.remove)&&s(e.add)&&s(e.unsubscribe)}function v(e){s(e)?e():e.unsubscribe()}p.EMPTY;var y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var c=b.delegate;return(null==c?void 0:c.setTimeout)?c.setTimeout.apply(c,o([e,t],i(n))):setTimeout.apply(void 0,o([e,t],i(n)))},clearTimeout:function(e){var t=b.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function m(e){b.setTimeout((function(){var t=y.onUnhandledError;if(!t)throw e;t(e)}))}function g(){}var P=w("C",void 0,void 0);function w(e,t,n){return{kind:e,value:t,error:n}}var x=null,_=function(e){function n(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,d(t)&&t.add(n)):n.destination=C,n}return t(n,e),n.create=function(e,t,n){return new I(e,t,n)},n.prototype.next=function(e){this.isStopped?A(function(e){return w("N",e,void 0)}(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?A(w("E",void 0,e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?A(P,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(p),S=Function.prototype.bind;function k(e,t){return S.call(e,t)}var E=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){T(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){T(e)}else T(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){T(e)}},e}(),I=function(e){function n(t,n,r){var i,o,c=e.call(this)||this;return s(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:c&&y.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},i={next:t.next&&k(t.next,o),error:t.error&&k(t.error,o),complete:t.complete&&k(t.complete,o)}):i=t,c.destination=new E(i),c}return t(n,e),n}(_);function T(e){var t;y.useDeprecatedSynchronousErrorHandling?(t=e,y.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=t)):m(e)}function A(e,t){var n=y.onStoppedNotification;n&&b.setTimeout((function(){return n(e,t)}))}var C={closed:!0,next:g,error:function(e){throw e},complete:g},O="function"==typeof Symbol&&Symbol.observable||"@@observable";function D(e){return e}var L=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof _||function(e){return e&&s(e.next)&&s(e.error)&&s(e.complete)}(r)&&d(r)?e:new I(e,t,n);return function(e){if(y.useDeprecatedSynchronousErrorHandling){var t=!x;if(t&&(x={errorThrown:!1,error:null}),e(),t){var n=x,r=n.errorThrown,i=n.error;if(x=null,r)throw i}}else e()}((function(){var e=i,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=j(t))((function(t,r){var i=new I({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[O]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?D:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=j(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function j(e){var t;return null!==(t=null!=e?e:y.Promise)&&void 0!==t?t:Promise}function q(e){return s(e[O])}function V(e){return Symbol.asyncIterator&&s(null==e?void 0:e[Symbol.asyncIterator])}function z(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var F="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function M(e){return s(null==e?void 0:e[F])}function N(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof c?Promise.resolve(n.value.v).then(l,a):f(o[0][2],n)}catch(e){f(o[0][3],e)}var n}function l(e){s("next",e)}function a(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,(function(){var t,r,i;return n(this,(function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,c(t.read())];case 3:return r=n.sent(),i=r.value,r.done?[4,c(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,c(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function R(e){return s(null==e?void 0:e.getReader)}function U(e){if(e instanceof L)return e;if(null!=e){if(q(e))return o=e,new L((function(e){var t=o[O]();if(s(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(u(e))return i=e,new L((function(e){for(var t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()}));if(l(e))return n=e,new L((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,m)}));if(V(e))return G(e);if(M(e))return t=e,new L((function(e){var n,i;try{for(var o=r(t),c=o.next();!c.done;c=o.next()){var u=c.value;if(e.next(u),e.closed)return}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}e.complete()}));if(R(e))return G(N(e))}var t,n,i,o;throw z(e)}function G(e){return new L((function(t){(function(e,t){var i,o,c,u,s,l,a,f;return s=this,l=void 0,f=function(){var s,l;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,5,6,11]),i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=r(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}(e),n.label=1;case 1:return[4,i.next()];case 2:if((o=n.sent()).done)return[3,4];if(s=o.value,t.next(s),t.closed)return[2];n.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=n.sent(),c={error:l},[3,11];case 6:return n.trys.push([6,,9,10]),o&&!o.done&&(u=i.return)?[4,u.call(i)]:[3,8];case 7:n.sent(),n.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{i(f.next(e))}catch(e){t(e)}}function r(e){try{i(f.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,r)}i((f=f.apply(s,l||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function H(e){return function(t){if(function(e){return s(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Y(e,t,n,r,i){return new K(e,t,n,r,i)}var K=function(e){function n(t,n,r,i,o,c){var u=e.call(this,t)||this;return u.onFinalize=o,u.shouldUnsubscribe=c,u._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t(n,e),n.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},n}(_);function W(e,t){return H((function(n,r){var i=0;n.subscribe(Y(r,(function(n){r.next(e.call(t,n,i++))})))}))}function B(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function J(e,t,n){return void 0===n&&(n=1/0),s(t)?J((function(n,r){return W((function(e,i){return t(n,e,r,i)}))(U(e(n,r)))}),n):("number"==typeof t&&(n=t),H((function(t,r){return function(e,t,n,r,i,o,c,u){var s=[],l=0,a=0,f=!1,h=function(){!f||s.length||l||t.complete()},p=function(e){return l<r?d(e):s.push(e)},d=function(e){l++;var i=!1;U(n(e,a++)).subscribe(Y(t,(function(e){t.next(e)}),(function(){i=!0}),void 0,(function(){if(i)try{l--;for(;s.length&&l<r;)e=void 0,e=s.shift(),d(e);h()}catch(e){t.error(e)}var e})))};return e.subscribe(Y(t,p,(function(){f=!0,h()}))),function(){}}(t,r,e,n)})))}var Q=Array.isArray;var X=["addListener","removeListener"],Z=["addEventListener","removeEventListener"],$=["on","off"];function ee(e,t,n,r){if(s(n)&&(r=n,n=void 0),r)return ee(e,t,n).pipe((c=r,W((function(e){return function(e,t){return Q(t)?e.apply(void 0,o([],i(t))):e(t)}(c,e)}))));var c,l=i(function(e){return s(e.addEventListener)&&s(e.removeEventListener)}(e)?Z.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return s(e.addListener)&&s(e.removeListener)}(e)?X.map(te(e,t)):function(e){return s(e.on)&&s(e.off)}(e)?$.map(te(e,t)):[],2),a=l[0],f=l[1];if(!a&&u(e))return J((function(e){return ee(e,t,n)}))(U(e));if(!a)throw new TypeError("Invalid event target");return new L((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return a(t),function(){return f(t)}}))}function te(e,t){return function(n){return function(r){return e[n](t,r)}}}var ne={0:[6,13],1:[6,12],2:[6,11],3:[6,10],4:[6,9],5:[5,8],6:[4,8],7:[3,8],8:[2,8],9:[1,8],10:[0,8],11:[0,7],12:[0,6],13:[1,6],14:[2,6],15:[3,6],16:[4,6],17:[5,6],18:[6,5],19:[6,4],20:[6,3],21:[6,2],22:[6,1],23:[6,0],24:[7,0],25:[8,0],26:[8,1],27:[8,2],28:[8,3],29:[8,4],30:[8,5],31:[9,6],32:[10,6],33:[11,6],34:[12,6],35:[13,6],36:[14,6],37:[14,7],38:[14,8],39:[13,8],40:[12,8],41:[11,8],42:[10,8],43:[9,8],44:[8,9],45:[8,10],46:[8,11],47:[8,12],48:[8,13],49:[8,14],50:[7,14],51:[6,14],100:[7,13],101:[7,12],102:[7,11],103:[7,10],104:[7,9],105:[7,8],200:[7,1],201:[7,2],202:[7,3],203:[7,4],204:[7,5],205:[7,6],500:[1.5,10.58],501:[3.57,10.58],502:[1.5,12.43],503:[3.57,12.43],600:[10.5,1.58],601:[12.54,1.58],602:[10.5,3.45],603:[12.54,3.45]},re=["P1","P2"],ie={P1:[500,501,502,503],P2:[600,601,602,603]},oe={P1:0,P2:26},ce={P1:[100,101,102,103,104],P2:[200,201,202,203,204]},ue={P1:105,P2:205},se={P1:50,P2:24},le=[0,8,13,21,26,34,39,47],ae="DICE_NOT_ROLLED",fe="DICE_ROLLED",he=document.querySelector("#dice-btn"),pe=document.querySelector("button#reset-btn"),de=document.querySelector(".player-pieces"),ve={P1:document.querySelectorAll('[player-id="P1"].player-piece'),P2:document.querySelectorAll('[player-id="P2"].player-piece')},ye=function(){function e(){}return e.listenDiceClick=function(e){ee(he,"click").subscribe(e)},e.listenResetClick=function(e){ee(pe,"click").subscribe(e)},e.listenPieceClick=function(e){ee(de,"click").subscribe(e)},e.setPiecePosition=function(e,t,n){ve[e]&&ve[e][t]||console.log("greska");var r=ne[n],i=r[0],o=r[1],c=ve[e][t];c.style.top=6.66*o+"%",c.style.left=6.66*i+"%"},e.setTurn=function(e){if(e<0||e>re.length)console.error("index out of bound");else{var t=re[e];document.querySelector(".active-player span").innerText=t;var n=document.querySelector(".player-base.highlight");n&&n.classList.remove("highlight"),document.querySelector('[player-id="'.concat(t,'"].player-base')).classList.add("highlight")}},e.enableDice=function(){he.removeAttribute("disabled")},e.disableDice=function(){he.setAttribute("disabled","")},e.highlightPieces=function(e,t){t.forEach((function(t){ve[e][t].classList.add("highlight")}))},e.unhighlightPieces=function(){document.querySelectorAll(".player-piece.highlight").forEach((function(e){e.classList.remove("highlight")}))},e.setDiceValue=function(e){document.querySelector(".dice-value").innerHTML=e.toString()},e}();function be(e,t){return void 0===t&&(t=0),H((function(n,r){n.subscribe(Y(r,(function(n){return B(r,e,(function(){return r.next(n)}),t)}),(function(){return B(r,e,(function(){return r.complete()}),t)}),(function(n){return B(r,e,(function(){return r.error(n)}),t)})))}))}function me(e,t){return void 0===t&&(t=0),H((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function ge(e,t){if(!e)throw new Error("Iterable cannot be null");return new L((function(n){B(n,t,(function(){var r=e[Symbol.asyncIterator]();B(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Pe(e,t){return t?function(e,t){if(null!=e){if(q(e))return function(e,t){return U(e).pipe(me(t),be(t))}(e,t);if(u(e))return function(e,t){return new L((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(l(e))return function(e,t){return U(e).pipe(me(t),be(t))}(e,t);if(V(e))return ge(e,t);if(M(e))return function(e,t){return new L((function(n){var r;return B(n,t,(function(){r=e[F](),B(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){return void n.error(e)}i?n.complete():n.next(t)}),0,!0)})),function(){return s(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(R(e))return function(e,t){return ge(N(e),t)}(e,t)}throw z(e)}(e,t):U(e)}var we=function(e){function n(t,n){return e.call(this)||this}return t(n,e),n.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},n}(p),xe={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var c=xe.delegate;return(null==c?void 0:c.setInterval)?c.setInterval.apply(c,o([e,t],i(n))):setInterval.apply(void 0,o([e,t],i(n)))},clearInterval:function(e){var t=xe.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},_e=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return t(n,e),n.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},n.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),xe.setInterval(e.flush.bind(e,this),n)},n.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&xe.clearInterval(t)},n.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},n.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,h(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n}(we),Se={now:function(){return(Se.delegate||Date).now()},delegate:void 0},ke=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Se.now,e}(),Ee=new(function(e){function n(t,n){void 0===n&&(n=ke.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return t(n,e),n.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},n}(ke))(_e),Ie=Ee;function Te(e){return e&&s(e.schedule)}new(function(){function e(){var e=this;this.currentPositions={P1:[],P2:[]},this.resetGame=new L((function(t){console.log("reset game"),e.currentPositions=structuredClone(ie),Pe(re).pipe(J((function(t){return Pe([0,1,2,3]).pipe(W((function(n){"P1"!==t&&"P2"!==t||e.setPiecePosition(t,n,e.currentPositions[t][n])})))}))).subscribe({complete:function(){e.turn=0,e.state=ae,t.complete()}})})),this.listenDiceClick(),this.listenResetClick(),this.listenPieceClick(),this.resetGame.subscribe()}return Object.defineProperty(e.prototype,"diceValue",{get:function(){return this._diceValue},set:function(e){this._diceValue=e,ye.setDiceValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"turn",{get:function(){return this._turn},set:function(e){this._turn=e,ye.setTurn(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){this._state=e,e===ae?(ye.enableDice(),ye.unhighlightPieces()):ye.disableDice()},enumerable:!1,configurable:!0}),e.prototype.listenDiceClick=function(){var e=this;ee(he,"click").pipe(W((function(){return Math.floor(7*Math.random())}))).subscribe((function(t){console.log("dice clicked"),e.diceValue=t,e.state=fe,e.checkForEligiblePieces()}))},e.prototype.onDiceClick=function(){console.log("dice clicked"),this.diceValue=Math.floor(7*Math.random()),this.state=fe,this.checkForEligiblePieces()},e.prototype.checkForEligiblePieces=function(){var e=re[this.turn];if("P1"===e||"P2"===e){var t=this.getEligiblePieces(e);t.length?ye.highlightPieces(e,t):this.changeTurn()}},e.prototype.changeTurn=function(){this.turn=0===this.turn?1:0,this.state=ae},e.prototype.getEligiblePieces=function(e){var t=this;return[0,1,2,3].filter((function(n){var r=t.currentPositions[e][n];return!(r==ue[e]||ie[e].includes(r)&&6!==t.diceValue||ce[e].includes(r)&&t._diceValue>ue[e]-r)}))},e.prototype.listenResetClick=function(){var e,t,n,r,i=this;ee(pe,"click").pipe((r=s(e=function(){console.log("reset button clicked"),i.resetGame.subscribe()})?{next:e,error:t,complete:n}:e)?H((function(e,t){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var i=!0;e.subscribe(Y(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;i=!1,null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)}),(function(){var e,t;i&&(null===(e=r.unsubscribe)||void 0===e||e.call(r)),null===(t=r.finalize)||void 0===t||t.call(r)})))})):D).subscribe()},e.prototype.listenPieceClick=function(){var e,t,n,r=this;ee(de,"click").pipe((n=function(e){return e.target.classList.contains("player-piece")},H((function(e,t){var r=0;e.subscribe(Y(t,(function(e){return n.call(undefined,e,r++)&&t.next(e)})))}))),W((function(e){var t=e.target;return{player:t.getAttribute("player-id"),piece:t.getAttribute("piece")}})),(t=function(e){var t=e.player,n=e.piece;return r.handlePieceClick(t,n)},H((function(e,n){var r=null,i=!1,o=function(){return i&&!r&&n.complete()};e.subscribe(Y(n,(function(e){null==r||r.unsubscribe();0;U(t(e)).subscribe(r=Y(n,(function(e){return n.next(e)}),(function(){r=null,o()})))}),(function(){i=!0,o()})))}))),(e=ee(pe,"click"),H((function(t,n){U(e).subscribe(Y(n,(function(){return n.complete()}),g)),!n.closed&&t.subscribe(n)})))).subscribe()},e.prototype.onPieceClick=function(e){var t=e.target;if(t.classList.contains("player-piece")){console.log("piece clicked");var n=t.getAttribute("player-id"),r=t.getAttribute("piece");this.handlePieceClick(n,r)}},e.prototype.handlePieceClick=function(e,t){var n=this;return new L((function(r){console.log(e,t);var i=parseInt(t,10);if("P1"===e||"P2"===e){var o=n.currentPositions[e][i];ie[e].includes(o)?(n.setPiecePosition(e,i,oe[e]),n.state=ae,r.complete()):(ye.unhighlightPieces(),n.movePiece(e,i,n.diceValue).subscribe({complete:function(){r.complete()}}))}else r.complete()}))},e.prototype.setPiecePosition=function(e,t,n){this.currentPositions[e][t]=n,ye.setPiecePosition(e,t,n)},e.prototype.movePiece=function(e,t,n){var r=this;return new L((function(i){var o,c,u,l,a,f,h=(a=200,void 0===a&&(a=0),void 0===f&&(f=Ee),a<0&&(a=0),function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Ie);var r=-1;return null!=t&&(Te(t)?n=t:r=t),new L((function(t){var i,o=(i=e)instanceof Date&&!isNaN(i)?+e-n.now():e;o<0&&(o=0);var c=0;return n.schedule((function(){t.closed||(t.next(c++),0<=r?this.schedule(void 0,r):t.complete())}),o)}))}(a,a,f)).pipe((u=function(){return n>0},void 0===l&&(l=!1),H((function(e,t){e.subscribe(Y(t,(function(e){var n=u(0);(n||l)&&t.next(e),!n&&t.complete()})))}))),(o=function(){return r.incrementPiecePosition(e,t),0==--n&&(r.hasPlayerWon(e)?(alert("Player:".concat(e," has won!")),r.resetGame.subscribe({complete:function(){i.complete()}})):((r.checkForKill(e,t)||6===r.diceValue)&&(r.state=ae),r.changeTurn(),i.complete())),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return Te((t=e)[t.length-1])?e.pop():void 0;var t}(e);return Pe(e,n)}(null)},s(c)?J(o,c,1):J(o,1)));r.movePieceSubscription=h.subscribe()}))},e.prototype.cancelMovePieceSubscription=function(){this.movePieceSubscription&&this.movePieceSubscription.unsubscribe()},e.prototype.checkForKill=function(e,t){var n=this,r=this.currentPositions[e][t],i="P1"===e?"P2":"P1",o=!1;return[0,1,2,3].forEach((function(e){var t=n.currentPositions[i][e];r!==t||le.includes(r)||(n.setPiecePosition(i,e,ie[i][e]),o=!0)})),o},e.prototype.hasPlayerWon=function(e){var t=this;return[0,1,2,3].every((function(n){return t.currentPositions[e][n]===ue[e]}))},e.prototype.incrementPiecePosition=function(e,t){this.setPiecePosition(e,t,this.getIncrementedPosition(e,t))},e.prototype.getIncrementedPosition=function(e,t){var n=this.currentPositions[e][t];return console.log(n),n===se[e]?ce[e][0]:51===n?0:n+1},e}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxDQUFDLEVBQUcsR0FDUCxFQUFHLENBQUMsRUFBRyxHQUNQLEVBQUcsQ0FBQyxFQUFHLEdBQ1AsRUFBRyxDQUFDLEVBQUcsR0FDUCxHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsR0FDUixHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsR0FBSSxHQUNULEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsR0FBSSxHQUNULEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsR0FBSSxHQUNULEdBQUksQ0FBQyxHQUFJLEdBQ1QsR0FBSSxDQUFDLEdBQUksR0FDVCxHQUFJLENBQUMsRUFBRyxHQUNSLEdBQUksQ0FBQyxFQUFHLEdBQ1IsR0FBSSxDQUFDLEVBQUcsSUFDUixHQUFJLENBQUMsRUFBRyxJQUNSLEdBQUksQ0FBQyxFQUFHLElBQ1IsR0FBSSxDQUFDLEVBQUcsSUFDUixHQUFJLENBQUMsRUFBRyxJQUNSLEdBQUksQ0FBQyxFQUFHLElBQ1IsR0FB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YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlRXJyb3JDbGFzcy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9hcnJSZW1vdmUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL05vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9lcnJvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvaW5uZXJGcm9tLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2xpZnQuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUludGVybmFscy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9tYXBPbmVPck1hbnlBcmdzLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9zcmMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL3J3YS8uL3NyYy9yZW5kZXJlci50cyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL29ic2VydmVPbi5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZU9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvaW50ZXJ2YWxQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3J3YS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9yd2EvLi9zcmMvZ2FtZS50cyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3RhcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VVbnRpbC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0RhdGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvb2YuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJncy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgb1trMl0gPSBtW2tdO1xufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xuICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XG4gIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICB9XG4gIH07XG4gIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gIHRyeSB7XG4gICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgfVxuICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gIH1cbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICByW2tdID0gYVtqXTtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XG4gIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcbiAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XG4gIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XG4gIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xuICAgIHZhciBkaXNwb3NlO1xuICAgIGlmIChhc3luYykge1xuICAgICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5hc3luY0Rpc3Bvc2VdO1xuICAgIH1cbiAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICB3aGlsZSAoZW52LnN0YWNrLmxlbmd0aCkge1xuICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWMuZGlzcG9zZSAmJiByZWMuZGlzcG9zZS5jYWxsKHJlYy52YWx1ZSk7XG4gICAgICAgIGlmIChyZWMuYXN5bmMpIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgIGZhaWwoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG59O1xuIiwiZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gXCIuL2lzRnVuY3Rpb25cIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUudGhlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xuICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgfTtcbiAgICB2YXIgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JGdW5jO1xuICAgIHJldHVybiBjdG9yRnVuYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyclJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXksIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgICAgIGlmIChfcGFyZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcmVudGFnZV8xID0gX192YWx1ZXMoX3BhcmVudGFnZSksIF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKTsgIV9wYXJlbnRhZ2VfMV8xLmRvbmU7IF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRhZ2VfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2VfMV8xICYmICFfcGFyZW50YWdlXzFfMS5kb25lICYmIChfYSA9IF9wYXJlbnRhZ2VfMS5yZXR1cm4pKSBfYS5jYWxsKF9wYXJlbnRhZ2VfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbml0aWFsRmluYWxpemVyID0gdGhpcy5pbml0aWFsVGVhcmRvd247XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihpbml0aWFsRmluYWxpemVyKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxGaW5hbGl6ZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBlLmVycm9ycyA6IFtlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xuICAgICAgICAgICAgaWYgKF9maW5hbGl6ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2ZpbmFsaXplcnNfMSA9IF9fdmFsdWVzKF9maW5hbGl6ZXJzKSwgX2ZpbmFsaXplcnNfMV8xID0gX2ZpbmFsaXplcnNfMS5uZXh0KCk7ICFfZmluYWxpemVyc18xXzEuZG9uZTsgX2ZpbmFsaXplcnNfMV8xID0gX2ZpbmFsaXplcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbGl6ZXIgPSBfZmluYWxpemVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgIT09IG51bGwgJiYgZXJyb3JzICE9PSB2b2lkIDAgPyBlcnJvcnMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnNfMV8xICYmICFfZmluYWxpemVyc18xXzEuZG9uZSAmJiAoX2IgPSBfZmluYWxpemVyc18xLnJldHVybikpIF9iLmNhbGwoX2ZpbmFsaXplcnNfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcih0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duLmNsb3NlZCB8fCB0ZWFyZG93bi5faGFzUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHRoaXMuX2ZpbmFsaXplcnMgPSAoX2EgPSB0aGlzLl9maW5hbGl6ZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2hhc1BhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgPyAoX3BhcmVudGFnZS5wdXNoKHBhcmVudCksIF9wYXJlbnRhZ2UpIDogX3BhcmVudGFnZSA/IFtfcGFyZW50YWdlLCBwYXJlbnRdIDogcGFyZW50O1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgaWYgKF9wYXJlbnRhZ2UgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICBhcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF9maW5hbGl6ZXJzID0gdGhpcy5fZmluYWxpemVycztcbiAgICAgICAgX2ZpbmFsaXplcnMgJiYgYXJyUmVtb3ZlKF9maW5hbGl6ZXJzLCB0ZWFyZG93bik7XG4gICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGVhcmRvd24uX3JlbW92ZVBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZXhwb3J0IHZhciBFTVBUWV9TVUJTQ1JJUFRJT04gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG5leHBvcnQgZnVuY3Rpb24gaXNTdWJzY3JpcHRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uIHx8XG4gICAgICAgICh2YWx1ZSAmJiAnY2xvc2VkJyBpbiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnJlbW92ZSkgJiYgaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb24odmFsdWUudW5zdWJzY3JpYmUpKSk7XG59XG5mdW5jdGlvbiBleGVjRmluYWxpemVyKGZpbmFsaXplcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKGZpbmFsaXplcikpIHtcbiAgICAgICAgZmluYWxpemVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmaW5hbGl6ZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwIiwiZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgb25VbmhhbmRsZWRFcnJvcjogbnVsbCxcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb246IG51bGwsXG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6IGZhbHNlLFxuICAgIHVzZURlcHJlY2F0ZWROZXh0Q29udGV4dDogZmFsc2UsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IHZhciB0aW1lb3V0UHJvdmlkZXIgPSB7XG4gICAgc2V0VGltZW91dDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLnNldFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5zZXRUaW1lb3V0LmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXRQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyKSB7XG4gICAgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb25VbmhhbmRsZWRFcnJvciA9IGNvbmZpZy5vblVuaGFuZGxlZEVycm9yO1xuICAgICAgICBpZiAob25VbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBvcnRVbmhhbmRsZWRFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXAiLCJleHBvcnQgdmFyIENPTVBMRVRFX05PVElGSUNBVElPTiA9IChmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JOb3RpZmljYXRpb24oZXJyb3IpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnJvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gbmV4dE5vdGlmaWNhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSwgdW5kZWZpbmVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xudmFyIGNvbnRleHQgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yQ29udGV4dChjYikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICB2YXIgaXNSb290ID0gIWNvbnRleHQ7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYigpO1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBjb250ZXh0LCBlcnJvclRocm93biA9IF9hLmVycm9yVGhyb3duLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZUVycm9yKGVycikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICBjb250ZXh0LmVycm9yID0gZXJyO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yQ29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbC9ub29wJztcbmltcG9ydCB7IG5leHROb3RpZmljYXRpb24sIGVycm9yTm90aWZpY2F0aW9uLCBDT01QTEVURV9OT1RJRklDQVRJT04gfSBmcm9tICcuL05vdGlmaWNhdGlvbkZhY3Rvcmllcyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xuaW1wb3J0IHsgY2FwdHVyZUVycm9yIH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IEVNUFRZX09CU0VSVkVSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FmZVN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5leHROb3RpZmljYXRpb24odmFsdWUpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKGVycm9yTm90aWZpY2F0aW9uKGVyciksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihDT01QTEVURV9OT1RJRklDQVRJT04sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcbn1cbnZhciBDb25zdW1lck9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcikge1xuICAgICAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHBhcnRpYWxPYnNlcnZlcjtcbiAgICB9XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc3VtZXJPYnNlcnZlcjtcbn0oKSk7XG52YXIgU2FmZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCAhb2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICBuZXh0OiAob2JzZXJ2ZXJPck5leHQgIT09IG51bGwgJiYgb2JzZXJ2ZXJPck5leHQgIT09IHZvaWQgMCA/IG9ic2VydmVyT3JOZXh0IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCA/IGVycm9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSAhPT0gbnVsbCAmJiBjb21wbGV0ZSAhPT0gdm9pZCAwID8gY29tcGxldGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRfMTtcbiAgICAgICAgICAgIGlmIChfdGhpcyAmJiBjb25maWcudXNlRGVwcmVjYXRlZE5leHRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudW5zdWJzY3JpYmUoKTsgfTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0Lm5leHQgJiYgYmluZChvYnNlcnZlck9yTmV4dC5uZXh0LCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuY29tcGxldGUsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG5mdW5jdGlvbiBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xufVxuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgb25TdG9wcGVkTm90aWZpY2F0aW9uID0gY29uZmlnLm9uU3RvcHBlZE5vdGlmaWNhdGlvbjtcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0IHZhciBFTVBUWV9PQlNFUlZFUiA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogbm9vcCxcbiAgICBlcnJvcjogZGVmYXVsdEVycm9ySGFuZGxlcixcbiAgICBjb21wbGV0ZTogbm9vcCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcCIsImV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXAiLCJpbXBvcnQgeyBTYWZlU3Vic2NyaWJlciwgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZXJyb3JDb250ZXh0IH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG52YXIgT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IGlzU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCkgPyBvYnNlcnZlck9yTmV4dCA6IG5ldyBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLCBvcGVyYXRvciA9IF9hLm9wZXJhdG9yLCBzb3VyY2UgPSBfYS5zb3VyY2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvclxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmliZShzdWJzY3JpYmVyKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTYWZlU3Vic2NyaWJlcih7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IHJlamVjdCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHZhbHVlID0geCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHByb21pc2VDdG9yICE9PSBudWxsICYmIHByb21pc2VDdG9yICE9PSB2b2lkIDAgPyBwcm9taXNlQ3RvciA6IGNvbmZpZy5Qcm9taXNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBQcm9taXNlO1xufVxuZnVuY3Rpb24gaXNPYnNlcnZlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLm5leHQpICYmIGlzRnVuY3Rpb24odmFsdWUuZXJyb3IpICYmIGlzRnVuY3Rpb24odmFsdWUuY29tcGxldGUpO1xufVxuZnVuY3Rpb24gaXNTdWJzY3JpYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHx8IChpc09ic2VydmVyKHZhbHVlKSAmJiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcCIsImltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xuICAgIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyBpbnB1dCArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0IHZhciBpdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY0dlbmVyYXRvciwgX19hd2FpdCwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcbiAgICAgICAgdmFyIHJlYWRlciwgX2EsIHZhbHVlLCBkb25lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQodm9pZCAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jVmFsdWVzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSwgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBpbm5lckZyb20oaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZShhcnJheSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXJhYmxlXzEgPSBfX3ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpOyAhaXRlcmFibGVfMV8xLmRvbmU7IGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYWJsZV8xXzEgJiYgIWl0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGl0ZXJhYmxlXzEucmV0dXJuKSkgX2EuY2FsbChpdGVyYWJsZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBoYXNMaWZ0KHNvdXJjZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvdXJjZS5saWZ0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVyYXRlKGluaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzTGlmdChzb3VyY2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQoZnVuY3Rpb24gKGxpZnRlZFNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0KGxpZnRlZFNvdXJjZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZSB0byBsaWZ0IHVua25vd24gT2JzZXJ2YWJsZSB0eXBlJyk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZnQuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcGVyYXRvclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUsIHNob3VsZFVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkZpbmFsaXplID0gb25GaW5hbGl6ZTtcbiAgICAgICAgX3RoaXMuc2hvdWxkVW5zdWJzY3JpYmUgPSBzaG91bGRVbnN1YnNjcmliZTtcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9lcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPcGVyYXRvclN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZWRfMSA9IHRoaXMuY2xvc2VkO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgIWNsb3NlZF8xICYmICgoX2EgPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9wZXJhdG9yU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShwYXJlbnRTdWJzY3JpcHRpb24sIHNjaGVkdWxlciwgd29yaywgZGVsYXksIHJlcGVhdCkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIGlmIChyZXBlYXQgPT09IHZvaWQgMCkgeyByZXBlYXQgPSBmYWxzZTsgfVxuICAgIHZhciBzY2hlZHVsZVN1YnNjcmlwdGlvbiA9IHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdvcmsoKTtcbiAgICAgICAgaWYgKHJlcGVhdCkge1xuICAgICAgICAgICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZCh0aGlzLnNjaGVkdWxlKG51bGwsIGRlbGF5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZChzY2hlZHVsZVN1YnNjcmlwdGlvbik7XG4gICAgaWYgKCFyZXBlYXQpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlU3Vic2NyaXB0aW9uO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4ZWN1dGVTY2hlZHVsZS5qcy5tYXAiLCJpbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG1lcmdlSW50ZXJuYWxzIH0gZnJvbSAnLi9tZXJnZUludGVybmFscyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgaWYgKGlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gbWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KShpbm5lckZyb20ocHJvamVjdChhLCBpKSkpOyB9LCBjb25jdXJyZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHsgcmV0dXJuIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCwgb25CZWZvcmVOZXh0LCBleHBhbmQsIGlubmVyU3ViU2NoZWR1bGVyLCBhZGRpdGlvbmFsRmluYWxpemVyKSB7XG4gICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgIHZhciBhY3RpdmUgPSAwO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzQ29tcGxldGUgJiYgIWJ1ZmZlci5sZW5ndGggJiYgIWFjdGl2ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgb3V0ZXJOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoYWN0aXZlIDwgY29uY3VycmVudCA/IGRvSW5uZXJTdWIodmFsdWUpIDogYnVmZmVyLnB1c2godmFsdWUpKTsgfTtcbiAgICB2YXIgZG9Jbm5lclN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBleHBhbmQgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgYWN0aXZlKys7XG4gICAgICAgIHZhciBpbm5lckNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIGlubmVyRnJvbShwcm9qZWN0KHZhbHVlLCBpbmRleCsrKSkuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICAgICAgb25CZWZvcmVOZXh0ID09PSBudWxsIHx8IG9uQmVmb3JlTmV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25CZWZvcmVOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgaWYgKGV4cGFuZCkge1xuICAgICAgICAgICAgICAgIG91dGVyTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5uZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlubmVyQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyZWRWYWx1ZSA9IGJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyU3ViU2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIGlubmVyU3ViU2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChidWZmZXIubGVuZ3RoICYmIGFjdGl2ZSA8IGNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgb3V0ZXJOZXh0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgfSkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZGl0aW9uYWxGaW5hbGl6ZXIgPT09IG51bGwgfHwgYWRkaXRpb25hbEZpbmFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRkaXRpb25hbEZpbmFsaXplcigpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZUludGVybmFscy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gXCIuLi9vcGVyYXRvcnMvbWFwXCI7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBjYWxsT3JBcHBseShmbiwgYXJncykge1xuICAgIHJldHVybiBpc0FycmF5KGFyZ3MpID8gZm4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKSA6IGZuKGFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcE9uZU9yTWFueUFyZ3MoZm4pIHtcbiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBjYWxsT3JBcHBseShmbiwgYXJncyk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwT25lT3JNYW55QXJncy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21lcmdlTWFwJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xudmFyIG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzID0gWydhZGRMaXN0ZW5lcicsICdyZW1vdmVMaXN0ZW5lciddO1xudmFyIGV2ZW50VGFyZ2V0TWV0aG9kcyA9IFsnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJ107XG52YXIganF1ZXJ5TWV0aG9kcyA9IFsnb24nLCAnb2ZmJ107XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpO1xuICAgIH1cbiAgICB2YXIgX2EgPSBfX3JlYWQoaXNFdmVudFRhcmdldCh0YXJnZXQpXG4gICAgICAgID8gZXZlbnRUYXJnZXRNZXRob2RzLm1hcChmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9OyB9KVxuICAgICAgICA6XG4gICAgICAgICAgICBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgPyBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgIDogaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgID8ganF1ZXJ5TWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICA6IFtdLCAyKSwgYWRkID0gX2FbMF0sIHJlbW92ZSA9IF9hWzFdO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKHN1YlRhcmdldCkgeyByZXR1cm4gZnJvbUV2ZW50KHN1YlRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKTsgfSkoaW5uZXJGcm9tKHRhcmdldCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYWRkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLm5leHQoMSA8IGFyZ3MubGVuZ3RoID8gYXJncyA6IGFyZ3NbMF0pO1xuICAgICAgICB9O1xuICAgICAgICBhZGQoaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmUoaGFuZGxlcik7IH07XG4gICAgfSk7XG59XG5mdW5jdGlvbiB0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIpOyB9OyB9O1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVMaXN0ZW5lcik7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5vbikgJiYgaXNGdW5jdGlvbih0YXJnZXQub2ZmKTtcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcCIsImV4cG9ydCBjb25zdCBDT09SRElOQVRFU19NQVAgPSB7XHJcbiAgICAwOiBbNiwgMTNdLFxyXG4gICAgMTogWzYsIDEyXSxcclxuICAgIDI6IFs2LCAxMV0sXHJcbiAgICAzOiBbNiwgMTBdLFxyXG4gICAgNDogWzYsIDldLFxyXG4gICAgNTogWzUsIDhdLFxyXG4gICAgNjogWzQsIDhdLFxyXG4gICAgNzogWzMsIDhdLFxyXG4gICAgODogWzIsIDhdLFxyXG4gICAgOTogWzEsIDhdLFxyXG4gICAgMTA6IFswLCA4XSxcclxuICAgIDExOiBbMCwgN10sXHJcbiAgICAxMjogWzAsIDZdLFxyXG4gICAgMTM6IFsxLCA2XSxcclxuICAgIDE0OiBbMiwgNl0sXHJcbiAgICAxNTogWzMsIDZdLFxyXG4gICAgMTY6IFs0LCA2XSxcclxuICAgIDE3OiBbNSwgNl0sXHJcbiAgICAxODogWzYsIDVdLFxyXG4gICAgMTk6IFs2LCA0XSxcclxuICAgIDIwOiBbNiwgM10sXHJcbiAgICAyMTogWzYsIDJdLFxyXG4gICAgMjI6IFs2LCAxXSxcclxuICAgIDIzOiBbNiwgMF0sXHJcbiAgICAyNDogWzcsIDBdLFxyXG4gICAgMjU6IFs4LCAwXSxcclxuICAgIDI2OiBbOCwgMV0sXHJcbiAgICAyNzogWzgsIDJdLFxyXG4gICAgMjg6IFs4LCAzXSxcclxuICAgIDI5OiBbOCwgNF0sXHJcbiAgICAzMDogWzgsIDVdLFxyXG4gICAgMzE6IFs5LCA2XSxcclxuICAgIDMyOiBbMTAsIDZdLFxyXG4gICAgMzM6IFsxMSwgNl0sXHJcbiAgICAzNDogWzEyLCA2XSxcclxuICAgIDM1OiBbMTMsIDZdLFxyXG4gICAgMzY6IFsxNCwgNl0sXHJcbiAgICAzNzogWzE0LCA3XSxcclxuICAgIDM4OiBbMTQsIDhdLFxyXG4gICAgMzk6IFsxMywgOF0sXHJcbiAgICA0MDogWzEyLCA4XSxcclxuICAgIDQxOiBbMTEsIDhdLFxyXG4gICAgNDI6IFsxMCwgOF0sXHJcbiAgICA0MzogWzksIDhdLFxyXG4gICAgNDQ6IFs4LCA5XSxcclxuICAgIDQ1OiBbOCwgMTBdLFxyXG4gICAgNDY6IFs4LCAxMV0sXHJcbiAgICA0NzogWzgsIDEyXSxcclxuICAgIDQ4OiBbOCwgMTNdLFxyXG4gICAgNDk6IFs4LCAxNF0sXHJcbiAgICA1MDogWzcsIDE0XSxcclxuICAgIDUxOiBbNiwgMTRdLFxyXG5cclxuICAgIFxyXG4gICAgMTAwOiBbNywgMTNdLFxyXG4gICAgMTAxOiBbNywgMTJdLFxyXG4gICAgMTAyOiBbNywgMTFdLFxyXG4gICAgMTAzOiBbNywgMTBdLFxyXG4gICAgMTA0OiBbNywgOV0sXHJcbiAgICAxMDU6IFs3LCA4XSxcclxuXHJcbiAgXHJcbiAgICAyMDA6IFs3LCAxXSxcclxuICAgIDIwMTogWzcsIDJdLFxyXG4gICAgMjAyOiBbNywgM10sXHJcbiAgICAyMDM6IFs3LCA0XSxcclxuICAgIDIwNDogWzcsIDVdLFxyXG4gICAgMjA1OiBbNywgNl0sXHJcblxyXG5cclxuXHJcbiAgXHJcbiAgICA1MDA6IFsxLjUsIDEwLjU4XSxcclxuICAgIDUwMTogWzMuNTcsIDEwLjU4XSxcclxuICAgIDUwMjogWzEuNSwgMTIuNDNdLFxyXG4gICAgNTAzOiBbMy41NywgMTIuNDNdLFxyXG5cclxuICAgIDYwMDogWzEwLjUsIDEuNThdLFxyXG4gICAgNjAxOiBbMTIuNTQsIDEuNThdLFxyXG4gICAgNjAyOiBbMTAuNSwgMy40NV0sXHJcbiAgICA2MDM6IFsxMi41NCwgMy40NV0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgU1RFUF9MRU5HVEggPSA2LjY2O1xyXG5cclxuZXhwb3J0IGNvbnN0IFBMQVlFUlMgPSBbJ1AxJywgJ1AyJ107XHJcblxyXG5leHBvcnQgY29uc3QgQkFTRV9QT1NJVElPTlMgPSB7XHJcbiAgICBQMTogWzUwMCwgNTAxLCA1MDIsIDUwM10sXHJcbiAgICBQMjogWzYwMCwgNjAxLCA2MDIsIDYwM10sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTVEFSVF9QT1NJVElPTlMgPSB7XHJcbiAgICBQMTogMCxcclxuICAgIFAyOiAyNlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSE9NRV9FTlRSQU5DRSA9IHtcclxuICAgIFAxOiBbMTAwLCAxMDEsIDEwMiwgMTAzLCAxMDRdLFxyXG4gICAgUDI6IFsyMDAsIDIwMSwgMjAyLCAyMDMsIDIwNF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEhPTUVfUE9TSVRJT05TID0ge1xyXG4gICAgUDE6IDEwNSxcclxuICAgIFAyOiAyMDVcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFRVUk5JTkdfUE9JTlRTID0ge1xyXG4gICAgUDE6IDUwLFxyXG4gICAgUDI6IDI0XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTQUZFX1BPU0lUSU9OUyA9IFswLCA4LCAxMywgMjEsIDI2LCAzNCwgMzksIDQ3XTtcclxuXHJcbmV4cG9ydCBjb25zdCBTVEFURSA9IHtcclxuICAgIERJQ0VfTk9UX1JPTExFRDogJ0RJQ0VfTk9UX1JPTExFRCcsXHJcbiAgICBESUNFX1JPTExFRDogJ0RJQ0VfUk9MTEVEJyxcclxufSIsImltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7IENPT1JESU5BVEVTX01BUCwgUExBWUVSUywgU1RFUF9MRU5HVEggfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcclxuZXhwb3J0IGNvbnN0IGRpY2VCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RpY2UtYnRuJyk7XHJcbmV4cG9ydCBjb25zdCByZXNldEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jcmVzZXQtYnRuJyk7XHJcbmV4cG9ydCBjb25zdCBwbGF5ZXJQaWVjZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLXBpZWNlcycpO1xyXG5leHBvcnQgY29uc3QgcGxheWVyUGllY2VzRWxlbWVudHMgPSB7XHJcbiAgICBQMTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbcGxheWVyLWlkPVwiUDFcIl0ucGxheWVyLXBpZWNlJyksXHJcbiAgICBQMjpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbcGxheWVyLWlkPVwiUDJcIl0ucGxheWVyLXBpZWNlJylcclxufVxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xyXG4gICAgc3RhdGljIGxpc3RlbkRpY2VDbGljayhjYWxsYmFjazphbnkpe1xyXG4gICAgICAgIGNvbnN0IGNsaWNrT2JzZXJ2YWJsZSA9IGZyb21FdmVudChkaWNlQnV0dG9uRWxlbWVudCwgJ2NsaWNrJyk7XHJcbiAgICBcclxuICAgICAgICBjbGlja09ic2VydmFibGUuc3Vic2NyaWJlKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBsaXN0ZW5SZXNldENsaWNrKGNhbGxiYWNrOmFueSlcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjbGlja09ic2VydmFibGUgPSBmcm9tRXZlbnQocmVzZXRCdXR0b25FbGVtZW50LCAnY2xpY2snKTtcclxuICAgIFxyXG4gICAgICAgIGNsaWNrT2JzZXJ2YWJsZS5zdWJzY3JpYmUoY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGxpc3RlblBpZWNlQ2xpY2soY2FsbGJhY2s6YW55KVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGNsaWNrT2JzZXJ2YWJsZSA9IGZyb21FdmVudChwbGF5ZXJQaWVjZUVsZW1lbnQsICdjbGljaycpO1xyXG4gICAgXHJcbiAgICAgICAgY2xpY2tPYnNlcnZhYmxlLnN1YnNjcmliZShjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc2V0UGllY2VQb3NpdGlvbihwbGF5ZXI6J1AxJ3wnUDInLHBpZWNlOm51bWJlcixuZXdQb3NpdGlvbjpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoIXBsYXllclBpZWNlc0VsZW1lbnRzW3BsYXllcl18fCFwbGF5ZXJQaWVjZXNFbGVtZW50c1twbGF5ZXJdW3BpZWNlXSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdncmVza2EnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgW3gsIHldID0gQ09PUkRJTkFURVNfTUFQW25ld1Bvc2l0aW9uIGFzIGtleW9mIHR5cGVvZiBDT09SRElOQVRFU19NQVBdO1xyXG4gICAgICAgIGNvbnN0IHBpZWNlRWxlbWVudCA9IHBsYXllclBpZWNlc0VsZW1lbnRzW3BsYXllcl1bcGllY2VdIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHBpZWNlRWxlbWVudC5zdHlsZS50b3A9eSpTVEVQX0xFTkdUSCsnJSc7XHJcbiAgICAgICAgcGllY2VFbGVtZW50LnN0eWxlLmxlZnQ9eCpTVEVQX0xFTkdUSCsnJSc7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc2V0VHVybihpbmRleDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoaW5kZXg8MHx8IGluZGV4PlBMQVlFUlMubGVuZ3RoKVxyXG4gICAgICAgIHtjb25zb2xlLmVycm9yKCdpbmRleCBvdXQgb2YgYm91bmQnKTtyZXR1cm47fVxyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IFBMQVlFUlNbaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVBsYXllclNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlLXBsYXllciBzcGFuJykgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgYWN0aXZlUGxheWVyU3Bhbi5pbm5lclRleHQgPSBwbGF5ZXI7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyQmFzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXItYmFzZS5oaWdobGlnaHQnKTtcclxuICAgICAgICBpZihhY3RpdmVQbGF5ZXJCYXNlKVxyXG4gICAgICAgIGFjdGl2ZVBsYXllckJhc2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0Jyk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtwbGF5ZXItaWQ9XCIke3BsYXllcn1cIl0ucGxheWVyLWJhc2VgKS5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBlbmFibGVEaWNlKCl7XHJcbiAgICAgICAgZGljZUJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGRpc2FibGVEaWNlKCl7XHJcbiAgICAgICAgZGljZUJ1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsJycpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGhpZ2hsaWdodFBpZWNlcyhwbGF5ZXI6J1AxJ3wnUDInLCBwaWVjZXM6bnVtYmVyW10pe1xyXG4gICAgICAgIHBpZWNlcy5mb3JFYWNoKHBpZWNlPT57XHJcbiAgICAgICAgICAgIGNvbnN0IHBpZWNlRWxlbWVudCA9IHBsYXllclBpZWNlc0VsZW1lbnRzW3BsYXllcl1bcGllY2VdO1xyXG4gICAgICAgICAgICBwaWVjZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHN0YXRpYyB1bmhpZ2hsaWdodFBpZWNlcygpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5ZXItcGllY2UuaGlnaGxpZ2h0JykuZm9yRWFjaChlbD0+e1xyXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgc3RhdGljIHNldERpY2VWYWx1ZSh2YWx1ZTpudW1iZXIpe1xyXG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpY2UtdmFsdWUnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBlbC5pbm5lckhUTUw9dmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9LCBkZWxheSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb24oaXRlcmF0b3IgPT09IG51bGwgfHwgaXRlcmF0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZXJhdG9yLnJldHVybikgJiYgaXRlcmF0b3IucmV0dXJuKCk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmV4cG9ydCB2YXIgaW50ZXJ2YWxQcm92aWRlciA9IHtcbiAgICBzZXRJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gaW50ZXJ2YWxQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldEludGVydmFsLmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbaGFuZGxlciwgdGltZW91dF0sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBpbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJJbnRlcnZhbCkgfHwgY2xlYXJJbnRlcnZhbCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWxQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbmltcG9ydCB7IGludGVydmFsUHJvdmlkZXIgfSBmcm9tICcuL2ludGVydmFsUHJvdmlkZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIEFzeW5jQWN0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXN5bmNBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSAoX2EgPSB0aGlzLmlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIF9pZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBpbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChfc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIGlmIChkZWxheSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW50ZXJ2YWxQcm92aWRlci5jbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgX2RlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gZSA/IGUgOiBuZXcgRXJyb3IoJ1NjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgaWQgPSBfYS5pZCwgc2NoZWR1bGVyID0gX2Euc2NoZWR1bGVyO1xuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlciA9IHtcbiAgICBub3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChkYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGVUaW1lc3RhbXBQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSBzY2hlZHVsZXJBY3Rpb25DdG9yO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcCIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5leHBvcnQgdmFyIGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY1NjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIG5vdykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5zY2hlZHVsZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXAiLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7IiwiaW1wb3J0IHsgY3VycmVudFBvc2l0aW9ucyB9IGZyb20gXCIuL2ludGVyZmFjZXNcIlxyXG5pbXBvcnQgeyBSZW5kZXJlciwgZGljZUJ1dHRvbkVsZW1lbnQsIHBsYXllclBpZWNlRWxlbWVudCwgcGxheWVyUGllY2VzRWxlbWVudHMsIHJlc2V0QnV0dG9uRWxlbWVudCB9IGZyb20gXCIuL3JlbmRlcmVyXCI7XHJcbmltcG9ydCB7IEJBU0VfUE9TSVRJT05TLCBIT01FX0VOVFJBTkNFLCBIT01FX1BPU0lUSU9OUywgUExBWUVSUywgU0FGRV9QT1NJVElPTlMsIFNUQVJUX1BPU0lUSU9OUywgU1RBVEUsIFRVUk5JTkdfUE9JTlRTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiwgY29uY2F0TWFwLCBmaWx0ZXIsIGZyb20sIGZyb21FdmVudCwgaW50ZXJ2YWwsIG1hcCwgbWVyZ2VNYXAsIG9mLCBzd2l0Y2hNYXAsIHRha2VVbnRpbCwgdGFrZVdoaWxlLCB0YXAgfSBmcm9tIFwicnhqc1wiO1xyXG5leHBvcnQgY2xhc3MgR2FtZXtcclxuICAgIGN1cnJlbnRQb3NpdGlvbnMgOiBjdXJyZW50UG9zaXRpb25zPSB7XHJcbiAgICAgICAgUDE6W10sXHJcbiAgICAgICAgUDI6W11cclxuICAgIH1cclxuICAgIF9kaWNlVmFsdWUgOiBudW1iZXIgO1xyXG4gICAgZ2V0IGRpY2VWYWx1ZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaWNlVmFsdWU7XHJcbiAgICB9IFxyXG4gICAgc2V0IGRpY2VWYWx1ZSh2YWx1ZSl7XHJcbiAgICAgICAgdGhpcy5fZGljZVZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgUmVuZGVyZXIuc2V0RGljZVZhbHVlKHZhbHVlKTtcclxuICAgIH1cclxuICAgIF90dXJuOm51bWJlcjsgXHJcbiAgICBnZXQgdHVybigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90dXJuO1xyXG4gICAgfVxyXG4gICAgc2V0IHR1cm4odmFsdWUpe1xyXG4gICAgICAgIHRoaXMuX3R1cm4gPSB2YWx1ZTtcclxuICAgICAgICBSZW5kZXJlci5zZXRUdXJuKHZhbHVlKTtcclxuICAgIH1cclxuICAgIF9zdGF0ZSA6IHN0cmluZyA7IFxyXG4gICAgZ2V0IHN0YXRlKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG4gICAgfVxyXG4gICAgc2V0IHN0YXRlKHZhbHVlKXtcclxuICAgICAgICB0aGlzLl9zdGF0ZT0gdmFsdWUgOyBcclxuICAgICAgICBpZih2YWx1ZSA9PT0gU1RBVEUuRElDRV9OT1RfUk9MTEVEKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUmVuZGVyZXIuZW5hYmxlRGljZSgpO1xyXG4gICAgICAgICAgICBSZW5kZXJlci51bmhpZ2hsaWdodFBpZWNlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBSZW5kZXJlci5kaXNhYmxlRGljZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5EaWNlQ2xpY2soKTtcclxuICAgICAgICB0aGlzLmxpc3RlblJlc2V0Q2xpY2soKTtcclxuICAgICAgICB0aGlzLmxpc3RlblBpZWNlQ2xpY2soKTtcclxuICAgICAgICB0aGlzLnJlc2V0R2FtZS5zdWJzY3JpYmUoKTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGxpc3RlbkRpY2VDbGljaygpe1xyXG4gICAgICBcclxuICAgICAgIGNvbnN0IGRpY2VDbGlja09ic2VydmFibGUgPSBmcm9tRXZlbnQoZGljZUJ1dHRvbkVsZW1lbnQsICdjbGljaycpLnBpcGUoXHJcbiAgICAgICAgbWFwKCgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpKVxyXG4gICAgICApO1xyXG4gIFxyXG4gICAgICBkaWNlQ2xpY2tPYnNlcnZhYmxlLnN1YnNjcmliZSgoZGljZVZhbHVlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RpY2UgY2xpY2tlZCcpO1xyXG4gICAgICAgIHRoaXMuZGljZVZhbHVlID0gZGljZVZhbHVlO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURS5ESUNFX1JPTExFRDtcclxuICBcclxuICAgICAgICB0aGlzLmNoZWNrRm9yRWxpZ2libGVQaWVjZXMoKTtcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgIH1cclxuICAgIG9uRGljZUNsaWNrKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RpY2UgY2xpY2tlZCcpO1xyXG4gICAgICAgIHRoaXMuZGljZVZhbHVlPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo3KTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEUuRElDRV9ST0xMRUQ7XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tGb3JFbGlnaWJsZVBpZWNlcygpO1xyXG4gICAgfVxyXG4gICAgY2hlY2tGb3JFbGlnaWJsZVBpZWNlcygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gUExBWUVSU1t0aGlzLnR1cm5dO1xyXG4gICAgICAgIGlmKHBsYXllciA9PT0nUDEnfHxwbGF5ZXI9PT0nUDInKVxyXG4gICAgICAgIHtjb25zdCBlbGlnaWJsZVBpZWNlczpudW1iZXJbXT10aGlzLmdldEVsaWdpYmxlUGllY2VzKHBsYXllcik7XHJcbiAgICAgICAgaWYoZWxpZ2libGVQaWVjZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgUmVuZGVyZXIuaGlnaGxpZ2h0UGllY2VzKHBsYXllcixlbGlnaWJsZVBpZWNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlVHVybigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH1cclxuICAgIGNoYW5nZVR1cm4oKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudHVybj10aGlzLnR1cm49PT0wPzE6MDtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZT1TVEFURS5ESUNFX05PVF9ST0xMRUQ7XHJcbiAgICB9XHJcbiAgICBnZXRFbGlnaWJsZVBpZWNlcyhwbGF5ZXI6J1AxJ3wnUDInKTpudW1iZXJbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbMCwxLDIsM10uZmlsdGVyKHBpZWNlPT57XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXVxyXG4gICAgICAgICAgICBpZihjdXJyZW50UG9zaXRpb249PUhPTUVfUE9TSVRJT05TW3BsYXllcl0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKEJBU0VfUE9TSVRJT05TW3BsYXllcl0uaW5jbHVkZXMoY3VycmVudFBvc2l0aW9uKSYmIHRoaXMuZGljZVZhbHVlIT09NilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKEhPTUVfRU5UUkFOQ0VbcGxheWVyXS5pbmNsdWRlcyhjdXJyZW50UG9zaXRpb24pJiYgdGhpcy5fZGljZVZhbHVlPkhPTUVfUE9TSVRJT05TW3BsYXllcl0tY3VycmVudFBvc2l0aW9uKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgbGlzdGVuUmVzZXRDbGljaygpe1xyXG4gICAgICAgIGNvbnN0IHJlc2V0Q2xpY2tPYnNlcnZhYmxlID0gZnJvbUV2ZW50KHJlc2V0QnV0dG9uRWxlbWVudCwgJ2NsaWNrJykucGlwZShcclxuICAgICAgICAgICAgdGFwKCgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzZXQgYnV0dG9uIGNsaWNrZWQnKTtcclxuICAgICAgICAgICAgICB0aGlzLnJlc2V0R2FtZS5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICAgICAgcmVzZXRDbGlja09ic2VydmFibGUuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICByZXNldEdhbWUgPSBuZXcgT2JzZXJ2YWJsZTx2b2lkPigob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzZXQgZ2FtZScpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9ucyA9IHN0cnVjdHVyZWRDbG9uZShCQVNFX1BPU0lUSU9OUyk7XHJcbiAgICAgIFxyXG4gICAgICAgIC8vIEl0ZXJpcmFtbyBrcm96IFBMQVlFUlMgaSBrb3Jpc3RpbW8gbWVyZ2VNYXAgemEgb2JyYWR1IHN2YWtvZyBpZ3JhxI1hIGFzaW5ocm9ub1xyXG4gICAgICAgIGZyb20oUExBWUVSUykucGlwZShcclxuICAgICAgICAgIG1lcmdlTWFwKChwbGF5ZXIpID0+XHJcbiAgICAgICAgICAgIC8vIEdlbmVyacWhZW1vIGJyb2pldmUgb2QgMCBkbyAzIHphIHN2YWtvZyBpZ3JhxI1hXHJcbiAgICAgICAgICAgIGZyb20oWzAsIDEsIDIsIDNdKS5waXBlKFxyXG4gICAgICAgICAgICAgIC8vIE92ZGUgbW/FvmV0ZSBkb2RhdGkgbG9naWt1IHphIHBvc3RhdmxqYW5qZSBwb3ppY2lqYSBpZ3JhxI1hXHJcbiAgICAgICAgICAgICAgbWFwKChwaWVjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllciA9PT0gJ1AxJyB8fCBwbGF5ZXIgPT09ICdQMicpIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQaWVjZVBvc2l0aW9uKHBsYXllciwgcGllY2UsIHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkuc3Vic2NyaWJlKHtcclxuICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEthZGEgc3Ugc3ZlIG9wZXJhY2lqZSB6YXZyxaFlbmUsIHBvc3Rhdml0ZSBvc3RhbGEgc3RhbmphXHJcbiAgICAgICAgICAgIHRoaXMudHVybiA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURS5ESUNFX05PVF9ST0xMRUQ7XHJcbiAgICAgICAgICAgIC8vIEVtaXR1amVtbyAnY29tcGxldGUnIGRvZ2HEkWFqIGthZGEgamUgcmVzZXRpcmFuamUgaWdyZSB6YXZyxaFlbm9cclxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICBsaXN0ZW5QaWVjZUNsaWNrKCl7XHJcbiAgICBjb25zdCBwaWVjZUNsaWNrT2JzZXJ2YWJsZSA9IGZyb21FdmVudChwbGF5ZXJQaWVjZUVsZW1lbnQsICdjbGljaycpLnBpcGUoXHJcbiAgICAgICAgZmlsdGVyKChldmVudCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgcmV0dXJuIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXllci1waWVjZScpO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIG1hcCgoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3BsYXllci1pZCcpO1xyXG4gICAgICAgICAgY29uc3QgcGllY2UgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdwaWVjZScpO1xyXG4gICAgICAgICAgcmV0dXJuIHsgcGxheWVyLCBwaWVjZSB9O1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIHN3aXRjaE1hcCgoeyBwbGF5ZXIsIHBpZWNlIH0pID0+IHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVBpZWNlQ2xpY2socGxheWVyLCBwaWVjZSk7XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdGFrZVVudGlsKGZyb21FdmVudChyZXNldEJ1dHRvbkVsZW1lbnQsICdjbGljaycpKVxyXG4gICAgICApO1xyXG4gIFxyXG4gICAgICBwaWVjZUNsaWNrT2JzZXJ2YWJsZS5zdWJzY3JpYmUoKTtcclxuICAgfVxyXG4gICBvblBpZWNlQ2xpY2soZXZlbnQ6RXZlbnQpe1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgaWYoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXllci1waWVjZScpKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygncGllY2UgY2xpY2tlZCcpO1xyXG4gICAgY29uc3QgcGxheWVyID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgncGxheWVyLWlkJyk7XHJcbiAgICBjb25zdCBwaWVjZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3BpZWNlJyk7XHJcbiAgICB0aGlzLmhhbmRsZVBpZWNlQ2xpY2socGxheWVyLHBpZWNlKTtcclxuICAgfVxyXG4gICBoYW5kbGVQaWVjZUNsaWNrKHBsYXllcjogc3RyaW5nLCBwaWVjZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8dm9pZD4oKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHBsYXllciwgcGllY2UpO1xyXG4gICAgICBjb25zdCBwaWVjZU51bTogbnVtYmVyID0gcGFyc2VJbnQocGllY2UsIDEwKTtcclxuICAgICAgaWYgKHBsYXllciA9PT0gJ1AxJyB8fCBwbGF5ZXIgPT09ICdQMicpIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRQb3NpdGlvbnNbcGxheWVyXVtwaWVjZU51bV07XHJcbiAgICAgICAgaWYgKEJBU0VfUE9TSVRJT05TW3BsYXllcl0uaW5jbHVkZXMoY3VycmVudFBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRQaWVjZVBvc2l0aW9uKHBsYXllciwgcGllY2VOdW0sIFNUQVJUX1BPU0lUSU9OU1twbGF5ZXJdKTtcclxuICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURS5ESUNFX05PVF9ST0xMRUQ7XHJcbiAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBSZW5kZXJlci51bmhpZ2hsaWdodFBpZWNlcygpO1xyXG4gICAgICAgICAgdGhpcy5tb3ZlUGllY2UocGxheWVyLCBwaWVjZU51bSwgdGhpcy5kaWNlVmFsdWUpLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgIHNldFBpZWNlUG9zaXRpb24ocGxheWVyOidQMSd8J1AyJyxwaWVjZTpudW1iZXIsbmV3UG9zaXRpb246bnVtYmVyKXtcclxuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXT1uZXdQb3NpdGlvbjtcclxuICAgIFJlbmRlcmVyLnNldFBpZWNlUG9zaXRpb24ocGxheWVyLHBpZWNlLG5ld1Bvc2l0aW9uKTtcclxuICAgfVxyXG4gICBtb3ZlUGllY2UocGxheWVyOiAnUDEnIHwgJ1AyJywgcGllY2U6IG51bWJlciwgbW92ZUJ5OiBudW1iZXIpOiBPYnNlcnZhYmxlPHZvaWQ+IHtcclxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTx2b2lkPigob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgY29uc3QgaW50ZXJ2YWwkID0gaW50ZXJ2YWwoMjAwKS5waXBlKFxyXG4gICAgICAgIHRha2VXaGlsZSgoKSA9PiBtb3ZlQnkgPiAwKSxcclxuICAgICAgICBjb25jYXRNYXAoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5pbmNyZW1lbnRQaWVjZVBvc2l0aW9uKHBsYXllciwgcGllY2UpO1xyXG4gICAgICAgICAgbW92ZUJ5LS07XHJcblxyXG4gICAgICAgICAgaWYgKG1vdmVCeSA9PT0gMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYXNQbGF5ZXJXb24ocGxheWVyKSkge1xyXG4gICAgICAgICAgICAgIGFsZXJ0KGBQbGF5ZXI6JHtwbGF5ZXJ9IGhhcyB3b24hYCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5yZXNldEdhbWUuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGlzS2lsbCA9IHRoaXMuY2hlY2tGb3JLaWxsKHBsYXllciwgcGllY2UpO1xyXG4gICAgICAgICAgICAgIGlmIChpc0tpbGwgfHwgdGhpcy5kaWNlVmFsdWUgPT09IDYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURS5ESUNFX05PVF9ST0xMRUQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMuY2hhbmdlVHVybigpO1xyXG4gICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBvZihudWxsKTtcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG5cclxuICAgICAgdGhpcy5tb3ZlUGllY2VTdWJzY3JpcHRpb24gPSBpbnRlcnZhbCQuc3Vic2NyaWJlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcHJpdmF0ZSBtb3ZlUGllY2VTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiB8IHVuZGVmaW5lZDtcclxuICAvLyBEb2RhanRlIG1ldG9kdSB6YSBvdGtheml2YW5qZSBwcmV0cGxhdGUgYWtvIGplIHBvdHJlYm5vXHJcbiAgY2FuY2VsTW92ZVBpZWNlU3Vic2NyaXB0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMubW92ZVBpZWNlU3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgIHRoaXMubW92ZVBpZWNlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gICBjaGVja0ZvcktpbGwocGxheWVyOidQMSd8J1AyJyxwaWVjZTpudW1iZXIpXHJcbiAgIHtcclxuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXTtcclxuICAgIGNvbnN0IG9wcG9uZW50ID0gcGxheWVyID09PSdQMSc/J1AyJzonUDEnO1xyXG4gICAgbGV0IGtpbGwgPSBmYWxzZTtcclxuICAgIFswLDEsMiwzXS5mb3JFYWNoKHBpZWNlPT57XHJcbiAgICAgICAgY29uc3Qgb3Bwb25lbnRQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uc1tvcHBvbmVudF1bcGllY2VdO1xyXG4gICAgICAgIGlmKGN1cnJlbnRQb3NpdGlvbj09PW9wcG9uZW50UG9zaXRpb24mJiFTQUZFX1BPU0lUSU9OUy5pbmNsdWRlcyhjdXJyZW50UG9zaXRpb24pKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQaWVjZVBvc2l0aW9uKG9wcG9uZW50LHBpZWNlLEJBU0VfUE9TSVRJT05TW29wcG9uZW50XVtwaWVjZV0pO1xyXG4gICAgICAgICAgICBraWxsPXRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiBraWxsO1xyXG4gICB9XHJcbiAgIGhhc1BsYXllcldvbihwbGF5ZXI6J1AxJ3wnUDInKXtcclxuICAgIHJldHVybiBbMCwxLDIsM10uZXZlcnkocGllY2U9PnRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXT09PUhPTUVfUE9TSVRJT05TW3BsYXllcl0pXHJcbiAgIH1cclxuICAgaW5jcmVtZW50UGllY2VQb3NpdGlvbihwbGF5ZXI6J1AxJ3wnUDInLHBpZWNlOm51bWJlcil7XHJcbiAgICB0aGlzLnNldFBpZWNlUG9zaXRpb24ocGxheWVyLHBpZWNlLHRoaXMuZ2V0SW5jcmVtZW50ZWRQb3NpdGlvbihwbGF5ZXIscGllY2UpKVxyXG4gICB9XHJcbiAgIGdldEluY3JlbWVudGVkUG9zaXRpb24ocGxheWVyOidQMSd8J1AyJyxwaWVjZTpudW1iZXIpe1xyXG4gICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb25zW3BsYXllcl1bcGllY2VdO1xyXG4gICAgY29uc29sZS5sb2coY3VycmVudFBvc2l0aW9uKTtcclxuICAgIGlmKGN1cnJlbnRQb3NpdGlvbj09PVRVUk5JTkdfUE9JTlRTW3BsYXllcl0pe1xyXG4gICAgICAgIHJldHVybiBIT01FX0VOVFJBTkNFW3BsYXllcl1bMF07XHJcbiAgICB9XHJcbiAgIGVsc2UgaWYoY3VycmVudFBvc2l0aW9uPT09NTEpe1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICBcclxuICAgICAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uKzE7XHJcbiAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gdGFwKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICB2YXIgdGFwT2JzZXJ2ZXIgPSBpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCBlcnJvciB8fCBjb21wbGV0ZVxuICAgICAgICA/XG4gICAgICAgICAgICB7IG5leHQ6IG9ic2VydmVyT3JOZXh0LCBlcnJvcjogZXJyb3IsIGNvbXBsZXRlOiBjb21wbGV0ZSB9XG4gICAgICAgIDogb2JzZXJ2ZXJPck5leHQ7XG4gICAgcmV0dXJuIHRhcE9ic2VydmVyXG4gICAgICAgID8gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIHZhciBpc1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5uZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaXNVbnN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIChfYSA9IHRhcE9ic2VydmVyLmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlciwgZXJyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbnN1Yikge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci51bnN1YnNjcmliZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoX2IgPSB0YXBPYnNlcnZlci5maW5hbGl6ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwodGFwT2JzZXJ2ZXIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KVxuICAgICAgICA6XG4gICAgICAgICAgICBpZGVudGl0eTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhcC5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlsL25vb3AnO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VVbnRpbChub3RpZmllcikge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgaW5uZXJGcm9tKG5vdGlmaWVyKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgbm9vcCkpO1xuICAgICAgICAhc3Vic2NyaWJlci5jbG9zZWQgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VVbnRpbC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzQ29tcGxldGUgJiYgIWlubmVyU3Vic2NyaWJlciAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID09PSBudWxsIHx8IGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB2YXIgaW5uZXJJbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgb3V0ZXJJbmRleCA9IGluZGV4Kys7XG4gICAgICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgb3V0ZXJJbmRleCkpLnN1YnNjcmliZSgoaW5uZXJTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvcih2YWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCsrKSA6IGlubmVyVmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoTWFwLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci5qcy5tYXAiLCJpbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0TWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpID8gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIDEpIDogbWVyZ2VNYXAocHJvamVjdCwgMSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25jYXRNYXAuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gdGFrZVdoaWxlKHByZWRpY2F0ZSwgaW5jbHVzaXZlKSB7XG4gICAgaWYgKGluY2x1c2l2ZSA9PT0gdm9pZCAwKSB7IGluY2x1c2l2ZSA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4KyspO1xuICAgICAgICAgICAgKHJlc3VsdCB8fCBpbmNsdXNpdmUpICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAhcmVzdWx0ICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFrZVdoaWxlLmpzLm1hcCIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi90aW1lcic7XG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocGVyaW9kID09PSB2b2lkIDApIHsgcGVyaW9kID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY1NjaGVkdWxlcjsgfVxuICAgIGlmIChwZXJpb2QgPCAwKSB7XG4gICAgICAgIHBlcmlvZCA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aW1lcihwZXJpb2QsIHBlcmlvZCwgc2NoZWR1bGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVydmFsLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzeW5jIGFzIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWwvaXNEYXRlJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lLCBpbnRlcnZhbE9yU2NoZWR1bGVyLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoZHVlVGltZSA9PT0gdm9pZCAwKSB7IGR1ZVRpbWUgPSAwOyB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jU2NoZWR1bGVyOyB9XG4gICAgdmFyIGludGVydmFsRHVyYXRpb24gPSAtMTtcbiAgICBpZiAoaW50ZXJ2YWxPclNjaGVkdWxlciAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcihpbnRlcnZhbE9yU2NoZWR1bGVyKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVydmFsRHVyYXRpb24gPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNWYWxpZERhdGUoZHVlVGltZSkgPyArZHVlVGltZSAtIHNjaGVkdWxlci5ub3coKSA6IGR1ZVRpbWU7XG4gICAgICAgIGlmIChkdWUgPCAwKSB7XG4gICAgICAgICAgICBkdWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG4rKyk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gaW50ZXJ2YWxEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgaW50ZXJ2YWxEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkdWUpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWREYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4odmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNEYXRlLmpzLm1hcCIsImltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICByZXR1cm4gZnJvbShhcmdzLCBzY2hlZHVsZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4vaXNTY2hlZHVsZXInO1xuZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24obGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcFNjaGVkdWxlcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzU2NoZWR1bGVyKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BOdW1iZXIoYXJncywgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBsYXN0KGFyZ3MpID09PSAnbnVtYmVyJyA/IGFyZ3MucG9wKCkgOiBkZWZhdWx0VmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzLmpzLm1hcCJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9fZXh0ZW5kcyIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19nZW5lcmF0b3IiLCJ0aGlzQXJnIiwiYm9keSIsImYiLCJ5IiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuIiwidiIsIm9wIiwiZG9uZSIsInZhbHVlIiwicG9wIiwibGVuZ3RoIiwicHVzaCIsImUiLCJzdGVwIiwiX192YWx1ZXMiLCJvIiwicyIsIm0iLCJpIiwiX19yZWFkIiwiciIsImFyIiwiZXJyb3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImFyZ3VtZW50cyIsImwiLCJzbGljZSIsImNvbmNhdCIsIl9fYXdhaXQiLCJTdXBwcmVzc2VkRXJyb3IiLCJpc0FycmF5TGlrZSIsIngiLCJpc1Byb21pc2UiLCJ0aGVuIiwiY3RvckZ1bmMiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiZXJyb3JzIiwiaW5zdGFuY2UiLCJFcnJvciIsInN0YWNrIiwibWVzc2FnZSIsIm1hcCIsImVyciIsInRvU3RyaW5nIiwiam9pbiIsIm5hbWUiLCJhcnJSZW1vdmUiLCJhcnIiLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiU3Vic2NyaXB0aW9uIiwiaW5pdGlhbFRlYXJkb3duIiwiY2xvc2VkIiwiX3BhcmVudGFnZSIsIl9maW5hbGl6ZXJzIiwiZW1wdHkiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsImluaXRpYWxGaW5hbGl6ZXIiLCJfZmluYWxpemVyc18xIiwiX2ZpbmFsaXplcnNfMV8xIiwiZmluYWxpemVyIiwiZXhlY0ZpbmFsaXplciIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiaXNTdWJzY3JpcHRpb24iLCJjb25maWciLCJvblVuaGFuZGxlZEVycm9yIiwib25TdG9wcGVkTm90aWZpY2F0aW9uIiwiUHJvbWlzZSIsInVuZGVmaW5lZCIsInVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmciLCJ1c2VEZXByZWNhdGVkTmV4dENvbnRleHQiLCJ0aW1lb3V0UHJvdmlkZXIiLCJzZXRUaW1lb3V0IiwiaGFuZGxlciIsInRpbWVvdXQiLCJhcmdzIiwiX2kiLCJkZWxlZ2F0ZSIsImFwcGx5IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlIiwicmVwb3J0VW5oYW5kbGVkRXJyb3IiLCJub29wIiwiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwia2luZCIsImNvbnRleHQiLCJTdWJzY3JpYmVyIiwiX3N1cGVyIiwiZGVzdGluYXRpb24iLCJfdGhpcyIsImlzU3RvcHBlZCIsIkVNUFRZX09CU0VSVkVSIiwiY29tcGxldGUiLCJTYWZlU3Vic2NyaWJlciIsImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCJuZXh0Tm90aWZpY2F0aW9uIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfYmluZCIsIkZ1bmN0aW9uIiwiYmluZCIsImZuIiwiQ29uc3VtZXJPYnNlcnZlciIsInBhcnRpYWxPYnNlcnZlciIsImhhbmRsZVVuaGFuZGxlZEVycm9yIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0XzEiLCJlcnJvclRocm93biIsIm5vdGlmaWNhdGlvbiIsInN1YnNjcmliZXIiLCJvYnNlcnZhYmxlIiwiaWRlbnRpdHkiLCJPYnNlcnZhYmxlIiwic3Vic2NyaWJlIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsInNvdXJjZSIsImlzT2JzZXJ2ZXIiLCJjYiIsImlzUm9vdCIsImVycm9yQ29udGV4dCIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwicGlwZSIsIm9wZXJhdGlvbnMiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJ0b1Byb21pc2UiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNBc3luY0l0ZXJhYmxlIiwib2JqIiwiYXN5bmNJdGVyYXRvciIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiaXNJdGVyYWJsZSIsInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCJyZWFkYWJsZVN0cmVhbSIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJxIiwiYSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsImZyb21Bc3luY0l0ZXJhYmxlIiwiaXRlcmFibGUiLCJpdGVyYWJsZV8xIiwiaXRlcmFibGVfMV8xIiwiYXN5bmNJdGVyYWJsZSIsImFzeW5jSXRlcmFibGVfMSIsImFzeW5jSXRlcmFibGVfMV8xIiwiUCIsIl9fYXN5bmNWYWx1ZXMiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInByb2Nlc3MiLCJjYXRjaCIsIm9wZXJhdGUiLCJpbml0IiwiaGFzTGlmdCIsImxpZnRlZFNvdXJjZSIsImNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsIk9wZXJhdG9yU3Vic2NyaWJlciIsInNob3VsZFVuc3Vic2NyaWJlIiwiY2xvc2VkXzEiLCJwcm9qZWN0IiwiZXhlY3V0ZVNjaGVkdWxlIiwicGFyZW50U3Vic2NyaXB0aW9uIiwic2NoZWR1bGVyIiwid29yayIsImRlbGF5IiwicmVwZWF0Iiwic2NoZWR1bGVTdWJzY3JpcHRpb24iLCJzY2hlZHVsZSIsIm1lcmdlTWFwIiwicmVzdWx0U2VsZWN0b3IiLCJjb25jdXJyZW50IiwiSW5maW5pdHkiLCJpaSIsIm9uQmVmb3JlTmV4dCIsImV4cGFuZCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbEZpbmFsaXplciIsImJ1ZmZlciIsImFjdGl2ZSIsImlzQ29tcGxldGUiLCJjaGVja0NvbXBsZXRlIiwib3V0ZXJOZXh0IiwiZG9Jbm5lclN1YiIsImlubmVyQ29tcGxldGUiLCJpbm5lclZhbHVlIiwiYnVmZmVyZWRWYWx1ZSIsIm1lcmdlSW50ZXJuYWxzIiwibm9kZUV2ZW50RW1pdHRlck1ldGhvZHMiLCJldmVudFRhcmdldE1ldGhvZHMiLCJqcXVlcnlNZXRob2RzIiwiZnJvbUV2ZW50IiwidGFyZ2V0IiwiZXZlbnROYW1lIiwib3B0aW9ucyIsImNhbGxPckFwcGx5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0IiwibWV0aG9kTmFtZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5Iiwib24iLCJvZmYiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic3ViVGFyZ2V0IiwiQ09PUkRJTkFURVNfTUFQIiwiUExBWUVSUyIsIkJBU0VfUE9TSVRJT05TIiwiUDEiLCJQMiIsIlNUQVJUX1BPU0lUSU9OUyIsIkhPTUVfRU5UUkFOQ0UiLCJIT01FX1BPU0lUSU9OUyIsIlRVUk5JTkdfUE9JTlRTIiwiU0FGRV9QT1NJVElPTlMiLCJTVEFURSIsImRpY2VCdXR0b25FbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVzZXRCdXR0b25FbGVtZW50IiwicGxheWVyUGllY2VFbGVtZW50IiwicGxheWVyUGllY2VzRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGlzdGVuRGljZUNsaWNrIiwiY2FsbGJhY2siLCJsaXN0ZW5SZXNldENsaWNrIiwibGlzdGVuUGllY2VDbGljayIsInNldFBpZWNlUG9zaXRpb24iLCJwbGF5ZXIiLCJwaWVjZSIsIm5ld1Bvc2l0aW9uIiwiY29uc29sZSIsImxvZyIsInBpZWNlRWxlbWVudCIsInN0eWxlIiwidG9wIiwibGVmdCIsInNldFR1cm4iLCJpbm5lclRleHQiLCJhY3RpdmVQbGF5ZXJCYXNlIiwiY2xhc3NMaXN0IiwiZW5hYmxlRGljZSIsInJlbW92ZUF0dHJpYnV0ZSIsImRpc2FibGVEaWNlIiwic2V0QXR0cmlidXRlIiwiaGlnaGxpZ2h0UGllY2VzIiwicGllY2VzIiwidW5oaWdobGlnaHRQaWVjZXMiLCJlbCIsInNldERpY2VWYWx1ZSIsImlubmVySFRNTCIsIm9ic2VydmVPbiIsInN1YnNjcmliZU9uIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVBcnJheSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlSXRlcmFibGUiLCJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsInNjaGVkdWxlZCIsIkFjdGlvbiIsInN0YXRlIiwiaW50ZXJ2YWxQcm92aWRlciIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIkFzeW5jQWN0aW9uIiwicGVuZGluZyIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsIl9pZCIsImZsdXNoIiwiX3NjaGVkdWxlciIsImV4ZWN1dGUiLCJfZXhlY3V0ZSIsIl9kZWxheSIsImVycm9yVmFsdWUiLCJlcnJvcmVkIiwiYWN0aW9ucyIsImRhdGVUaW1lc3RhbXBQcm92aWRlciIsIm5vdyIsIkRhdGUiLCJTY2hlZHVsZXIiLCJzY2hlZHVsZXJBY3Rpb25DdG9yIiwiYXN5bmNTY2hlZHVsZXIiLCJBc3luY1NjaGVkdWxlciIsIlNjaGVkdWxlckFjdGlvbiIsIl9hY3RpdmUiLCJhY3Rpb24iLCJpc1NjaGVkdWxlciIsImN1cnJlbnRQb3NpdGlvbnMiLCJyZXNldEdhbWUiLCJvYnNlcnZlciIsInN0cnVjdHVyZWRDbG9uZSIsInR1cm4iLCJfZGljZVZhbHVlIiwiUmVuZGVyZXIiLCJfdHVybiIsIl9zdGF0ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImRpY2VWYWx1ZSIsImNoZWNrRm9yRWxpZ2libGVQaWVjZXMiLCJvbkRpY2VDbGljayIsImVsaWdpYmxlUGllY2VzIiwiZ2V0RWxpZ2libGVQaWVjZXMiLCJjaGFuZ2VUdXJuIiwiZmlsdGVyIiwiY3VycmVudFBvc2l0aW9uIiwidGFwT2JzZXJ2ZXIiLCJpc1Vuc3ViIiwiZmluYWxpemUiLCJub3RpZmllciIsInByZWRpY2F0ZSIsImV2ZW50IiwiY29udGFpbnMiLCJnZXRBdHRyaWJ1dGUiLCJoYW5kbGVQaWVjZUNsaWNrIiwiaW5uZXJTdWJzY3JpYmVyIiwib25QaWVjZUNsaWNrIiwicGllY2VOdW0iLCJwYXJzZUludCIsIm1vdmVQaWVjZSIsIm1vdmVCeSIsImluY2x1c2l2ZSIsInBlcmlvZCIsImludGVydmFsJCIsImR1ZVRpbWUiLCJpbnRlcnZhbE9yU2NoZWR1bGVyIiwiaW50ZXJ2YWxEdXJhdGlvbiIsImR1ZSIsImlzTmFOIiwidGltZXIiLCJpbmNyZW1lbnRQaWVjZVBvc2l0aW9uIiwiaGFzUGxheWVyV29uIiwiYWxlcnQiLCJjaGVja0ZvcktpbGwiLCJwb3BTY2hlZHVsZXIiLCJvZiIsIm1vdmVQaWVjZVN1YnNjcmlwdGlvbiIsImNhbmNlbE1vdmVQaWVjZVN1YnNjcmlwdGlvbiIsIm9wcG9uZW50Iiwia2lsbCIsIm9wcG9uZW50UG9zaXRpb24iLCJldmVyeSIsImdldEluY3JlbWVudGVkUG9zaXRpb24iXSwic291cmNlUm9vdCI6IiJ9