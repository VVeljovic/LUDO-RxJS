(()=>{"use strict";var t={0:[6,13],1:[6,12],2:[6,11],3:[6,10],4:[6,9],5:[5,8],6:[4,8],7:[3,8],8:[2,8],9:[1,8],10:[0,8],11:[0,7],12:[0,6],13:[1,6],14:[2,6],15:[3,6],16:[4,6],17:[5,6],18:[6,5],19:[6,4],20:[6,3],21:[6,2],22:[6,1],23:[6,0],24:[7,0],25:[8,0],26:[8,1],27:[8,2],28:[8,3],29:[8,4],30:[8,5],31:[9,6],32:[10,6],33:[11,6],34:[12,6],35:[13,6],36:[14,6],37:[14,7],38:[14,8],39:[13,8],40:[12,8],41:[11,8],42:[10,8],43:[9,8],44:[8,9],45:[8,10],46:[8,11],47:[8,12],48:[8,13],49:[8,14],50:[7,14],51:[6,14],100:[7,13],101:[7,12],102:[7,11],103:[7,10],104:[7,9],105:[7,8],200:[7,1],201:[7,2],202:[7,3],203:[7,4],204:[7,5],205:[7,6],500:[1.5,10.58],501:[3.57,10.58],502:[1.5,12.43],503:[3.57,12.43],600:[10.5,1.58],601:[12.54,1.58],602:[10.5,3.45],603:[12.54,3.45]},e=["P1","P2"],n={P1:[500,501,502,503],P2:[600,601,602,603]},r={P1:0,P2:26},i={P1:[100,101,102,103,104],P2:[200,201,202,203,204]},o={P1:105,P2:205},u={P1:50,P2:24},c=[0,8,13,21,26,34,39,47],s="DICE_NOT_ROLLED",l="DICE_ROLLED",a=document.querySelector("#dice-btn"),f=document.querySelector("button#reset-btn"),h=document.querySelector(".player-pieces"),p={P1:document.querySelectorAll('[player-id="P1"].player-piece'),P2:document.querySelectorAll('[player-id="P2"].player-piece')},d=function(){function n(){}return n.setPiecePosition=function(e,n,r){p[e]&&p[e][n]||console.log("greska");var i=t[r],o=i[0],u=i[1],c=p[e][n];c.style.top=6.66*u+"%",c.style.left=6.66*o+"%"},n.setTurn=function(t){if(t<0||t>e.length)console.error("index out of bound");else{var n=e[t];document.querySelector(".active-player span").innerText=n;var r=document.querySelector(".player-base.highlight");r&&r.classList.remove("highlight"),document.querySelector('[player-id="'.concat(n,'"].player-base')).classList.add("highlight")}},n.enableDice=function(){a.removeAttribute("disabled")},n.disableDice=function(){a.setAttribute("disabled","")},n.highlightPieces=function(t,e){e.forEach((function(e){p[t][e].classList.add("highlight")}))},n.unhighlightPieces=function(){document.querySelectorAll(".player-piece.highlight").forEach((function(t){t.classList.remove("highlight")}))},n.setDiceValue=function(t){document.querySelector(".dice-value").innerHTML=t.toString()},n}();function v(t){return"function"==typeof t}function y(t){return t&&v(t.schedule)}function b(t){return t[t.length-1]}function m(t){return y(b(t))?t.pop():void 0}var g=function(t,e){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},g(t,e)};function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function P(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(u=0)),u;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){u.label=c[1];break}if(6===c[0]&&u.label<i[1]){u.label=i[1],i=c;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(c);break}i[2]&&u.ops.pop(),u.trys.pop();continue}c=e.call(t,u)}catch(t){c=[6,t],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}function x(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function S(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function E(t){return this instanceof E?(this.v=t,this):new E(t)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var T=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function k(t){return v(null==t?void 0:t.then)}var I,A=((I=function(t){var e;e=this,Error.call(e),e.stack=(new Error).stack,this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}).prototype=Object.create(Error.prototype),I.prototype.constructor=I,I);function O(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var D=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var u=x(o),c=u.next();!c.done;c=u.next())c.value.remove(this)}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}else o.remove(this);var s=this.initialTeardown;if(v(s))try{s()}catch(t){i=t instanceof A?t.errors:[t]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var a=x(l),f=a.next();!f.done;f=a.next()){var h=f.value;try{j(h)}catch(t){i=null!=i?i:[],t instanceof A?i=S(S([],_(i)),_(t.errors)):i.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}if(i)throw new A(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)j(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&O(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&O(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}();function C(t){return t instanceof D||t&&"closed"in t&&v(t.remove)&&v(t.add)&&v(t.unsubscribe)}function j(t){v(t)?t():t.unsubscribe()}D.EMPTY;var L={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},V={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=V.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,S([t,e],_(n))):setTimeout.apply(void 0,S([t,e],_(n)))},clearTimeout:function(t){var e=V.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function q(t){V.setTimeout((function(){var e=L.onUnhandledError;if(!e)throw t;e(t)}))}function z(){}var N=G("C",void 0,void 0);function G(t,e,n){return{kind:t,value:e,error:n}}var F=null,R=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,C(e)&&e.add(n)):n.destination=J,n}return w(e,t),e.create=function(t,e,n){return new Y(t,e,n)},e.prototype.next=function(t){this.isStopped?W(function(t){return G("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?W(G("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?W(N,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(D),U=Function.prototype.bind;function H(t,e){return U.call(t,e)}var M=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){K(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){K(t)}else K(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){K(t)}},t}(),Y=function(t){function e(e,n,r){var i,o,u=t.call(this)||this;return v(e)||!e?i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:u&&L.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return u.unsubscribe()},i={next:e.next&&H(e.next,o),error:e.error&&H(e.error,o),complete:e.complete&&H(e.complete,o)}):i=e,u.destination=new M(i),u}return w(e,t),e}(R);function K(t){var e;L.useDeprecatedSynchronousErrorHandling?(e=t,L.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=e)):q(t)}function W(t,e){var n=L.onStoppedNotification;n&&V.setTimeout((function(){return n(t,e)}))}var J={closed:!0,next:z,error:function(t){throw t},complete:z},B="function"==typeof Symbol&&Symbol.observable||"@@observable";function Q(t){return t}var X=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=this,o=(r=t)&&r instanceof R||function(t){return t&&v(t.next)&&v(t.error)&&v(t.complete)}(r)&&C(r)?t:new Y(t,e,n);return function(t){if(L.useDeprecatedSynchronousErrorHandling){var e=!F;if(e&&(F={errorThrown:!1,error:null}),t(),e){var n=F,r=n.errorThrown,i=n.error;if(F=null,r)throw i}}else t()}((function(){var t=i,e=t.operator,n=t.source;o.add(e?e.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Z(e))((function(e,r){var i=new Y({next:function(e){try{t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:e});n.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[B]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(n=t).length?Q:1===n.length?n[0]:function(t){return n.reduce((function(t,e){return e(t)}),t)})(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=Z(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Z(t){var e;return null!==(e=null!=t?t:L.Promise)&&void 0!==e?e:Promise}function $(t){return v(t[B])}function tt(t){return Symbol.asyncIterator&&v(null==t?void 0:t[Symbol.asyncIterator])}function et(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var nt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rt(t){return v(null==t?void 0:t[nt])}function it(t){return function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||c(t,e)}))})}function c(t,e){try{(n=i[t](e)).value instanceof E?Promise.resolve(n.value.v).then(s,l):a(o[0][2],n)}catch(t){a(o[0][3],t)}var n}function s(t){c("next",t)}function l(t){c("throw",t)}function a(t,e){t(e),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,(function(){var e,n,r;return P(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,E(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,E(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,E(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function ot(t){return v(null==t?void 0:t.getReader)}function ut(t){if(t instanceof X)return t;if(null!=t){if($(t))return i=t,new X((function(t){var e=i[B]();if(v(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(T(t))return r=t,new X((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if(k(t))return n=t,new X((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,q)}));if(tt(t))return ct(t);if(rt(t))return e=t,new X((function(t){var n,r;try{for(var i=x(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()}));if(ot(t))return ct(it(t))}var e,n,r,i;throw et(t)}function ct(t){return new X((function(e){(function(t,e){var n,r,i,o,u,c,s,l;return u=this,c=void 0,l=function(){var u,c;return P(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=x(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}(t),s.label=1;case 1:return[4,n.next()];case 2:if((r=s.sent()).done)return[3,4];if(u=r.value,e.next(u),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),i={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))},new((s=void 0)||(s=Promise))((function(t,e){function n(t){try{i(l.next(t))}catch(t){e(t)}}function r(t){try{i(l.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(n,r)}i((l=l.apply(u,c||[])).next())}))})(t,e).catch((function(t){return e.error(t)}))}))}function st(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=e.schedule((function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function lt(t){return function(e){if(function(t){return v(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new ft(t,e,n,r,i)}var ft=function(t){function e(e,n,r,i,o,u){var c=t.call(this,e)||this;return c.onFinalize=o,c.shouldUnsubscribe=u,c._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,c._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,c}return w(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(R);function ht(t,e){return void 0===e&&(e=0),lt((function(n,r){n.subscribe(at(r,(function(n){return st(r,t,(function(){return r.next(n)}),e)}),(function(){return st(r,t,(function(){return r.complete()}),e)}),(function(n){return st(r,t,(function(){return r.error(n)}),e)})))}))}function pt(t,e){return void 0===e&&(e=0),lt((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function dt(t,e){if(!t)throw new Error("Iterable cannot be null");return new X((function(n){st(n,e,(function(){var r=t[Symbol.asyncIterator]();st(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function vt(t,e){return e?function(t,e){if(null!=t){if($(t))return function(t,e){return ut(t).pipe(pt(e),ht(e))}(t,e);if(T(t))return function(t,e){return new X((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if(k(t))return function(t,e){return ut(t).pipe(pt(e),ht(e))}(t,e);if(tt(t))return dt(t,e);if(rt(t))return function(t,e){return new X((function(n){var r;return st(n,e,(function(){r=t[nt](),st(n,e,(function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(t){return void n.error(t)}i?n.complete():n.next(e)}),0,!0)})),function(){return v(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(ot(t))return function(t,e){return dt(it(t),e)}(t,e)}throw et(t)}(t,e):ut(t)}function yt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vt(t,m(t))}function bt(t,e){return lt((function(n,r){var i=0;n.subscribe(at(r,(function(n){r.next(t.call(e,n,i++))})))}))}function mt(t,e,n){return void 0===n&&(n=1/0),v(e)?mt((function(n,r){return bt((function(t,i){return e(n,t,r,i)}))(ut(t(n,r)))}),n):("number"==typeof e&&(n=e),lt((function(e,r){return function(t,e,n,r,i,o,u,c){var s=[],l=0,a=0,f=!1,h=function(){!f||s.length||l||e.complete()},p=function(t){return l<r?d(t):s.push(t)},d=function(t){l++;var i=!1;ut(n(t,a++)).subscribe(at(e,(function(t){e.next(t)}),(function(){i=!0}),void 0,(function(){if(i)try{l--;for(;s.length&&l<r;)t=void 0,t=s.shift(),d(t);h()}catch(t){e.error(t)}var t})))};return t.subscribe(at(e,p,(function(){f=!0,h()}))),function(){}}(e,r,t,n)})))}var gt=new X((function(t){return t.complete()}));function wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=m(t),r=function(t,e){return"number"==typeof b(t)?t.pop():1/0}(t),i=t;return i.length?1===i.length?ut(i[0]):function(t){return void 0===t&&(t=1/0),mt(Q,t)}(r)(vt(i,n)):gt}function Pt(t,e,n){var r=v(t)||e||n?{next:t,error:e,complete:n}:t;return r?lt((function(t,e){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var i=!0;t.subscribe(at(e,(function(t){var n;null===(n=r.next)||void 0===n||n.call(r,t),e.next(t)}),(function(){var t;i=!1,null===(t=r.complete)||void 0===t||t.call(r),e.complete()}),(function(t){var n;i=!1,null===(n=r.error)||void 0===n||n.call(r,t),e.error(t)}),(function(){var t,e;i&&(null===(t=r.unsubscribe)||void 0===t||t.call(r)),null===(e=r.finalize)||void 0===e||e.call(r)})))})):Q}function xt(t,e){return lt((function(n,r){var i=null,o=0,u=!1,c=function(){return u&&!i&&r.complete()};n.subscribe(at(r,(function(n){null==i||i.unsubscribe();var u=0,s=o++;ut(t(n,s)).subscribe(i=at(r,(function(t){return r.next(e?e(n,t,s,u++):t)}),(function(){i=null,c()})))}),(function(){u=!0,c()})))}))}function _t(t){return lt((function(e,n){var r,i=null,o=!1;i=e.subscribe(at(n,void 0,void 0,(function(u){r=ut(t(u,_t(t)(e))),i?(i.unsubscribe(),i=null,r.subscribe(n)):o=!0}))),o&&(i.unsubscribe(),i=null,r.subscribe(n))}))}var St=Array.isArray;var Et=["addListener","removeListener"],Tt=["addEventListener","removeEventListener"],kt=["on","off"];function It(t,e,n,r){if(v(n)&&(r=n,n=void 0),r)return It(t,e,n).pipe((i=r,bt((function(t){return function(t,e){return St(e)?t.apply(void 0,S([],_(e))):t(e)}(i,t)}))));var i,o=_(function(t){return v(t.addEventListener)&&v(t.removeEventListener)}(t)?Tt.map((function(r){return function(i){return t[r](e,i,n)}})):function(t){return v(t.addListener)&&v(t.removeListener)}(t)?Et.map(At(t,e)):function(t){return v(t.on)&&v(t.off)}(t)?kt.map(At(t,e)):[],2),u=o[0],c=o[1];if(!u&&T(t))return mt((function(t){return It(t,e,n)}))(ut(t));if(!u)throw new TypeError("Invalid event target");return new X((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return u(e),function(){return c(e)}}))}function At(t,e){return function(n){return function(r){return t[n](e,r)}}}var Ot=function(t){function e(e,n){return t.call(this)||this}return w(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(D),Dt={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Dt.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,S([t,e],_(n))):setInterval.apply(void 0,S([t,e],_(n)))},clearInterval:function(t){var e=Dt.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Ct=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return w(e,t),e.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),Dt.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&Dt.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,O(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Ot),jt={now:function(){return(jt.delegate||Date).now()},delegate:void 0},Lt=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=jt.now,t}(),Vt=new(function(t){function e(e,n){void 0===n&&(n=Lt.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return w(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Lt))(Ct),qt=Vt;function zt(t,e){return t===e}(new(function(){function t(){this.currentPositions={P1:[],P2:[]},this._sum1=0,this._sum2=0}return t.prototype.startGame=function(){var t=this;console.log("a"),this.listenDiceClick();var e=this.listenResetClick();this.listenPieceClick(),wt(yt(null),e).pipe(Pt((function(){return t.resetGame()}))).subscribe()},t.prototype.updatePlayer=function(t,e){return vt(fetch("http://localhost:3000/players/"+t,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).pipe(xt((function(t){if(t.ok)return console.log(t),vt(t.json());throw new Error("Player data update failed")})),_t((function(t){throw console.error(t),t})))},t.prototype.listenDiceClick=function(){var t,e,n,r=this;It(a,"click").pipe((300,void 0===n&&(n=Vt),lt((function(t,e){var r=null,i=null,o=null,u=function(){if(r){r.unsubscribe(),r=null;var t=i;i=null,e.next(t)}};function c(){var t=o+300,i=n.now();if(i<t)return r=this.schedule(void 0,t-i),void e.add(r);u()}t.subscribe(at(e,(function(t){i=t,o=n.now(),r||(r=n.schedule(c,300),e.add(r))}),(function(){u(),e.complete()}),void 0,(function(){i=r=null})))}))),(void 0===e&&(e=Q),t=null!=t?t:zt,lt((function(n,r){var i,o=!0;n.subscribe(at(r,(function(n){var u=e(n);!o&&t(i,u)||(o=!1,i=u,r.next(n))})))})))).subscribe((function(){r.onDiceClick()}))},t.prototype.listenResetClick=function(){var t=this;return It(f,"click").pipe(Pt((function(){t.resetGame()})))},t.prototype.resetGame=function(){var t=this,r=vt(e),i=vt([0,1,2,3]);wt(r.pipe(mt((function(t){return i.pipe(bt((function(e){return{player:t,piece:e}})))})))).pipe(xt((function(e){var r=e.player,i=e.piece;return t.currentPositions=structuredClone(n),t.setPiecePosition(r,i,n[r][i]),yt(null)}))).subscribe({complete:function(){t.turn=0,t.state=s,console.log("Game reset completed.")}})},t.prototype.listenPieceClick=function(){var t,e=this;It(h,"click").pipe((t=function(t){return t.target.classList.contains("player-piece")},lt((function(e,n){var r=0;e.subscribe(at(n,(function(e){return t.call(undefined,e,r++)&&n.next(e)})))}))),bt((function(t){var e=t.target;return{player:e.getAttribute("player-id"),piece:e.getAttribute("piece")}})),xt((function(t){var n=t.player,r=t.piece;return e.handlePieceClick(n,r)}))).subscribe((function(){return console.log("piece was clicked")}))},t.prototype.handlePieceClick=function(t,e){var i=this;return yt(t).pipe(bt((function(){return parseInt(e,10)})),xt((function(e){if("P1"===t||"P2"===t){var o=i.currentPositions[t][e];if(!n[t].includes(o)||6!==i.diceValue||i.state!==l)return i.state!==l||n[t].includes(o)?yt(null):i.movePiece(t,e,i.diceValue);i.setPiecePosition(t,e,r[t]),i.state=s}return yt(null)})))},t.prototype.setPiecePosition=function(t,e,n){console.log(t,e,n),this.currentPositions[t][e]=n,d.setPiecePosition(t,e,n)},t.prototype.movePiece=function(t,e,n){var r,i,o,u,c,l,a,f=this;return(l=200,void 0===l&&(l=0),void 0===a&&(a=Vt),l<0&&(l=0),function(t,e,n){void 0===t&&(t=0),void 0===n&&(n=qt);var r=-1;return null!=e&&(y(e)?n=e:r=e),new X((function(e){var i,o=(i=t)instanceof Date&&!isNaN(i)?+t-n.now():t;o<0&&(o=0);var u=0;return n.schedule((function(){e.closed||(e.next(u++),0<=r?this.schedule(void 0,r):e.complete())}),o)}))}(l,l,a)).pipe((u=function(){return n>0},void 0===c&&(c=!1),lt((function(t,e){t.subscribe(at(e,(function(t){var n=u(0);(n||c)&&e.next(t),!n&&e.complete()})))}))),(i=function(){return f.incrementPiecePosition(t,e),n--,yt(null)},v(o)?mt(i,o,1):mt(i,1)),(r=function(){if(0===n)if(f.hasPlayerWon(t)){if(alert("Player ".concat(t," won")),0===f._turn){var r={id:"P1",numberOfSix:f.sum1};f.updatePlayer(r.id,r).subscribe((function(t){return t.preventDefault()}))}f.resetGame()}else f.checkForKill(t,e)||6===f.diceValue?f.state=s:f.changeTurn()},lt((function(t,e){try{t.subscribe(e)}finally{e.add(r)}}))))},t.prototype.incrementPiecePosition=function(t,e){this.setPiecePosition(t,e,this.getIncrementedPosition(t,e))},t.prototype.getIncrementedPosition=function(t,e){var n=this.currentPositions[t][e];return console.log(n),n===u[t]?i[t][0]:51===n?0:n+1},t.prototype.changeTurn=function(){this.turn=0===this.turn?1:0,this.state=s},t.prototype.checkForEligiblePieces=function(){var t=e[this.turn];if("P1"===t||"P2"===t){var n=this.getEligiblePieces(t);n.length?d.highlightPieces(t,n):this.changeTurn()}},t.prototype.getEligiblePieces=function(t){var e=this;return[0,1,2,3].filter((function(r){var u=e.currentPositions[t][r];return!(u==o[t]||n[t].includes(u)&&6!==e.diceValue||i[t].includes(u)&&e._diceValue>o[t]-u)}))},t.prototype.hasPlayerWon=function(t){var e=this;return[0,1].every((function(n){return e.currentPositions[t][n]===o[t]}))},t.prototype.checkForKill=function(t,e){var r=this,i=this.currentPositions[t][e],o="P1"===t?"P2":"P1",u=!1;return[0,1,2,3].forEach((function(t){var e=r.currentPositions[o][t];i!==e||c.includes(i)||(r.setPiecePosition(o,t,n[o][t]),u=!0)})),u},t.prototype.onDiceClick=function(){console.log("dice is clicked"),this.diceValue=Math.floor(6*Math.random())+1,6===this.diceValue&&0===this.turn&&(this.sum1=1),6===this.diceValue&&1===this.turn&&(this.sum2=1),console.log(this.sum1,this.sum2),this.state=l,this.checkForEligiblePieces()},Object.defineProperty(t.prototype,"diceValue",{get:function(){return this._diceValue},set:function(t){this._diceValue=t,d.setDiceValue(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"turn",{get:function(){return this._turn},set:function(t){this._turn=t,d.setTurn(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,t===s?(d.enableDice(),d.unhighlightPieces()):d.disableDice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sum1",{get:function(){return this._sum1},set:function(t){this._sum1+=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sum2",{get:function(){return this._sum2},set:function(t){this._sum2+=t},enumerable:!1,configurable:!0}),t}())).startGame()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNoQixFLElBQ0EsU0FBU3BaLEdBQ0wwQixLQUFLMFgsTUFBUXBaLEVBQ2JzWSxFQUFTelosUUFBUW1CLEVBQ3JCLEUsZ0NBRUEsc0JBQUksb0JBQUssQyxJQUFULFdBQ0ksT0FBTzBCLEtBQUsrWSxNQUNoQixFLElBQ0EsU0FBVXphLEdBQ04wQixLQUFLK1ksT0FBUXphLEVBQ1ZBLElBQVV2QyxHQUVUNmEsRUFBU2haLGFBQ1RnWixFQUFTelkscUJBSVR5WSxFQUFTOVksYUFFakIsRSxnQ0FFQSxzQkFBSSxtQkFBSSxDLElBQVIsV0FDSSxPQUFPa0MsS0FBS2dVLEtBQ2hCLEUsSUFDQSxTQUFTMVYsR0FDTDBCLEtBQUtnVSxPQUFPMVYsQ0FDaEIsRSxnQ0FFQSxzQkFBSSxtQkFBSSxDLElBQVIsV0FDSSxPQUFPMEIsS0FBS2lVLEtBQ2hCLEUsSUFDQSxTQUFTM1YsR0FDTDBCLEtBQUtpVSxPQUFPM1YsQ0FDaEIsRSxnQ0FDQSxFQXJTQSxLRERLNFYsVyIsInNvdXJjZXMiOlsid2VicGFjazovL3J3YS8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vcndhLy4vc3JjL3JlbmRlcmVyLnRzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJncy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jcmVhdGVFcnJvckNsYXNzLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyclJlbW92ZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9jb25maWcuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvTm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2Vycm9yQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbm5lckZyb20uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2xpZnQuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9zdWJzY3JpYmVPbi5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VJbnRlcm5hbHMuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUFsbC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3RhcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NhdGNoRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvbWFwT25lT3JNYW55QXJncy5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9pbnRlcnZhbFByb3ZpZGVyLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLmpzIiwid2VicGFjazovL3J3YS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kaXN0aW5jdFVudGlsQ2hhbmdlZC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcndhLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vcndhLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9maW5hbGl6ZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2NvbmNhdE1hcC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rha2VXaGlsZS5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly9yd2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0RhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IENPT1JESU5BVEVTX01BUCA9IHtcclxuICAgIDA6IFs2LCAxM10sXHJcbiAgICAxOiBbNiwgMTJdLFxyXG4gICAgMjogWzYsIDExXSxcclxuICAgIDM6IFs2LCAxMF0sXHJcbiAgICA0OiBbNiwgOV0sXHJcbiAgICA1OiBbNSwgOF0sXHJcbiAgICA2OiBbNCwgOF0sXHJcbiAgICA3OiBbMywgOF0sXHJcbiAgICA4OiBbMiwgOF0sXHJcbiAgICA5OiBbMSwgOF0sXHJcbiAgICAxMDogWzAsIDhdLFxyXG4gICAgMTE6IFswLCA3XSxcclxuICAgIDEyOiBbMCwgNl0sXHJcbiAgICAxMzogWzEsIDZdLFxyXG4gICAgMTQ6IFsyLCA2XSxcclxuICAgIDE1OiBbMywgNl0sXHJcbiAgICAxNjogWzQsIDZdLFxyXG4gICAgMTc6IFs1LCA2XSxcclxuICAgIDE4OiBbNiwgNV0sXHJcbiAgICAxOTogWzYsIDRdLFxyXG4gICAgMjA6IFs2LCAzXSxcclxuICAgIDIxOiBbNiwgMl0sXHJcbiAgICAyMjogWzYsIDFdLFxyXG4gICAgMjM6IFs2LCAwXSxcclxuICAgIDI0OiBbNywgMF0sXHJcbiAgICAyNTogWzgsIDBdLFxyXG4gICAgMjY6IFs4LCAxXSxcclxuICAgIDI3OiBbOCwgMl0sXHJcbiAgICAyODogWzgsIDNdLFxyXG4gICAgMjk6IFs4LCA0XSxcclxuICAgIDMwOiBbOCwgNV0sXHJcbiAgICAzMTogWzksIDZdLFxyXG4gICAgMzI6IFsxMCwgNl0sXHJcbiAgICAzMzogWzExLCA2XSxcclxuICAgIDM0OiBbMTIsIDZdLFxyXG4gICAgMzU6IFsxMywgNl0sXHJcbiAgICAzNjogWzE0LCA2XSxcclxuICAgIDM3OiBbMTQsIDddLFxyXG4gICAgMzg6IFsxNCwgOF0sXHJcbiAgICAzOTogWzEzLCA4XSxcclxuICAgIDQwOiBbMTIsIDhdLFxyXG4gICAgNDE6IFsxMSwgOF0sXHJcbiAgICA0MjogWzEwLCA4XSxcclxuICAgIDQzOiBbOSwgOF0sXHJcbiAgICA0NDogWzgsIDldLFxyXG4gICAgNDU6IFs4LCAxMF0sXHJcbiAgICA0NjogWzgsIDExXSxcclxuICAgIDQ3OiBbOCwgMTJdLFxyXG4gICAgNDg6IFs4LCAxM10sXHJcbiAgICA0OTogWzgsIDE0XSxcclxuICAgIDUwOiBbNywgMTRdLFxyXG4gICAgNTE6IFs2LCAxNF0sXHJcblxyXG4gICAgXHJcbiAgICAxMDA6IFs3LCAxM10sXHJcbiAgICAxMDE6IFs3LCAxMl0sXHJcbiAgICAxMDI6IFs3LCAxMV0sXHJcbiAgICAxMDM6IFs3LCAxMF0sXHJcbiAgICAxMDQ6IFs3LCA5XSxcclxuICAgIDEwNTogWzcsIDhdLFxyXG5cclxuICBcclxuICAgIDIwMDogWzcsIDFdLFxyXG4gICAgMjAxOiBbNywgMl0sXHJcbiAgICAyMDI6IFs3LCAzXSxcclxuICAgIDIwMzogWzcsIDRdLFxyXG4gICAgMjA0OiBbNywgNV0sXHJcbiAgICAyMDU6IFs3LCA2XSxcclxuXHJcblxyXG5cclxuICBcclxuICAgIDUwMDogWzEuNSwgMTAuNThdLFxyXG4gICAgNTAxOiBbMy41NywgMTAuNThdLFxyXG4gICAgNTAyOiBbMS41LCAxMi40M10sXHJcbiAgICA1MDM6IFszLjU3LCAxMi40M10sXHJcblxyXG4gICAgNjAwOiBbMTAuNSwgMS41OF0sXHJcbiAgICA2MDE6IFsxMi41NCwgMS41OF0sXHJcbiAgICA2MDI6IFsxMC41LCAzLjQ1XSxcclxuICAgIDYwMzogWzEyLjU0LCAzLjQ1XSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBTVEVQX0xFTkdUSCA9IDYuNjY7XHJcblxyXG5leHBvcnQgY29uc3QgUExBWUVSUyA9IFsnUDEnLCAnUDInXTtcclxuXHJcbmV4cG9ydCBjb25zdCBCQVNFX1BPU0lUSU9OUyA9IHtcclxuICAgIFAxOiBbNTAwLCA1MDEsIDUwMiwgNTAzXSxcclxuICAgIFAyOiBbNjAwLCA2MDEsIDYwMiwgNjAzXSxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNUQVJUX1BPU0lUSU9OUyA9IHtcclxuICAgIFAxOiAwLFxyXG4gICAgUDI6IDI2XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBIT01FX0VOVFJBTkNFID0ge1xyXG4gICAgUDE6IFsxMDAsIDEwMSwgMTAyLCAxMDMsIDEwNF0sXHJcbiAgICBQMjogWzIwMCwgMjAxLCAyMDIsIDIwMywgMjA0XVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgSE9NRV9QT1NJVElPTlMgPSB7XHJcbiAgICBQMTogMTA1LFxyXG4gICAgUDI6IDIwNVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVFVSTklOR19QT0lOVFMgPSB7XHJcbiAgICBQMTogNTAsXHJcbiAgICBQMjogMjRcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNBRkVfUE9TSVRJT05TID0gWzAsIDgsIDEzLCAyMSwgMjYsIDM0LCAzOSwgNDddO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNUQVRFID0ge1xyXG4gICAgRElDRV9OT1RfUk9MTEVEOiAnRElDRV9OT1RfUk9MTEVEJyxcclxuICAgIERJQ0VfUk9MTEVEOiAnRElDRV9ST0xMRUQnLFxyXG59XHJcbmV4cG9ydCBjb25zdCBVUkwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wbGF5ZXJzL1wiOyIsImltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7IENPT1JESU5BVEVTX01BUCwgUExBWUVSUywgU1RFUF9MRU5HVEggfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgUGxheWVycyB9IGZyb20gXCIuL2ludGVyZmFjZXNcIjtcclxuZXhwb3J0IGNvbnN0IGRpY2VCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RpY2UtYnRuJyk7XHJcbmV4cG9ydCBjb25zdCByZXNldEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24jcmVzZXQtYnRuJyk7XHJcbmV4cG9ydCBjb25zdCBwbGF5ZXJQaWVjZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLXBpZWNlcycpO1xyXG5leHBvcnQgY29uc3QgcGxheWVyUGllY2VzRWxlbWVudHMgPSB7XHJcbiAgICBQMTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbcGxheWVyLWlkPVwiUDFcIl0ucGxheWVyLXBpZWNlJyksXHJcbiAgICBQMjpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbcGxheWVyLWlkPVwiUDJcIl0ucGxheWVyLXBpZWNlJylcclxufVxyXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIge1xyXG4gIFxyXG4gICAgc3RhdGljIHNldFBpZWNlUG9zaXRpb24ocGxheWVyOlBsYXllcnMscGllY2U6bnVtYmVyLG5ld1Bvc2l0aW9uOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZighcGxheWVyUGllY2VzRWxlbWVudHNbcGxheWVyXXx8IXBsYXllclBpZWNlc0VsZW1lbnRzW3BsYXllcl1bcGllY2VdKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dyZXNrYScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBbeCwgeV0gPSBDT09SRElOQVRFU19NQVBbbmV3UG9zaXRpb24gYXMga2V5b2YgdHlwZW9mIENPT1JESU5BVEVTX01BUF07XHJcbiAgICAgICAgY29uc3QgcGllY2VFbGVtZW50ID0gcGxheWVyUGllY2VzRWxlbWVudHNbcGxheWVyXVtwaWVjZV0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgcGllY2VFbGVtZW50LnN0eWxlLnRvcD15KlNURVBfTEVOR1RIKyclJztcclxuICAgICAgICBwaWVjZUVsZW1lbnQuc3R5bGUubGVmdD14KlNURVBfTEVOR1RIKyclJztcclxuICAgIH1cclxuICAgIHN0YXRpYyBzZXRUdXJuKGluZGV4Om51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZihpbmRleDwwfHwgaW5kZXg+UExBWUVSUy5sZW5ndGgpXHJcbiAgICAgICAge2NvbnNvbGUuZXJyb3IoJ2luZGV4IG91dCBvZiBib3VuZCcpO3JldHVybjt9XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gUExBWUVSU1tpbmRleF07XHJcbiAgICAgICAgY29uc3QgYWN0aXZlUGxheWVyU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGxheWVyIHNwYW4nKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBhY3RpdmVQbGF5ZXJTcGFuLmlubmVyVGV4dCA9IHBsYXllcjtcclxuICAgICAgICBjb25zdCBhY3RpdmVQbGF5ZXJCYXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllci1iYXNlLmhpZ2hsaWdodCcpO1xyXG4gICAgICAgIGlmKGFjdGl2ZVBsYXllckJhc2UpXHJcbiAgICAgICAgYWN0aXZlUGxheWVyQmFzZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW3BsYXllci1pZD1cIiR7cGxheWVyfVwiXS5wbGF5ZXItYmFzZWApLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGVuYWJsZURpY2UoKXtcclxuICAgICAgICBkaWNlQnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZGlzYWJsZURpY2UoKXtcclxuICAgICAgICBkaWNlQnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywnJyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaGlnaGxpZ2h0UGllY2VzKHBsYXllcjpQbGF5ZXJzLCBwaWVjZXM6bnVtYmVyW10pe1xyXG4gICAgICAgIHBpZWNlcy5mb3JFYWNoKHBpZWNlPT57XHJcbiAgICAgICAgICAgIGNvbnN0IHBpZWNlRWxlbWVudCA9IHBsYXllclBpZWNlc0VsZW1lbnRzW3BsYXllcl1bcGllY2VdO1xyXG4gICAgICAgICAgICBwaWVjZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHN0YXRpYyB1bmhpZ2hsaWdodFBpZWNlcygpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5ZXItcGllY2UuaGlnaGxpZ2h0JykuZm9yRWFjaChlbD0+e1xyXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgc3RhdGljIHNldERpY2VWYWx1ZSh2YWx1ZTpudW1iZXIpe1xyXG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpY2UtdmFsdWUnKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICBlbC5pbm5lckhUTUw9dmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUuc2NoZWR1bGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNTY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4vaXNTY2hlZHVsZXInO1xuZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BSZXN1bHRTZWxlY3RvcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24obGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcFNjaGVkdWxlcihhcmdzKSB7XG4gICAgcmV0dXJuIGlzU2NoZWR1bGVyKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3BOdW1iZXIoYXJncywgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBsYXN0KGFyZ3MpID09PSAnbnVtYmVyJyA/IGFyZ3MucG9wKCkgOiBkZWZhdWx0VmFsdWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzLmpzLm1hcCIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2U7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICB2YXIgcmVjID0gZW52LnN0YWNrLnBvcCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbn07XG4iLCJleHBvcnQgdmFyIGlzQXJyYXlMaWtlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheUxpa2UuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gXCIuL2lzRnVuY3Rpb25cIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUudGhlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xuICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgfTtcbiAgICB2YXIgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JGdW5jO1xuICAgIHJldHVybiBjdG9yRnVuYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyclJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXksIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgICAgIGlmIChfcGFyZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcmVudGFnZV8xID0gX192YWx1ZXMoX3BhcmVudGFnZSksIF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKTsgIV9wYXJlbnRhZ2VfMV8xLmRvbmU7IF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRhZ2VfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2VfMV8xICYmICFfcGFyZW50YWdlXzFfMS5kb25lICYmIChfYSA9IF9wYXJlbnRhZ2VfMS5yZXR1cm4pKSBfYS5jYWxsKF9wYXJlbnRhZ2VfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbml0aWFsRmluYWxpemVyID0gdGhpcy5pbml0aWFsVGVhcmRvd247XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihpbml0aWFsRmluYWxpemVyKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxGaW5hbGl6ZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBlLmVycm9ycyA6IFtlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xuICAgICAgICAgICAgaWYgKF9maW5hbGl6ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2ZpbmFsaXplcnNfMSA9IF9fdmFsdWVzKF9maW5hbGl6ZXJzKSwgX2ZpbmFsaXplcnNfMV8xID0gX2ZpbmFsaXplcnNfMS5uZXh0KCk7ICFfZmluYWxpemVyc18xXzEuZG9uZTsgX2ZpbmFsaXplcnNfMV8xID0gX2ZpbmFsaXplcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbGl6ZXIgPSBfZmluYWxpemVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgIT09IG51bGwgJiYgZXJyb3JzICE9PSB2b2lkIDAgPyBlcnJvcnMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnNfMV8xICYmICFfZmluYWxpemVyc18xXzEuZG9uZSAmJiAoX2IgPSBfZmluYWxpemVyc18xLnJldHVybikpIF9iLmNhbGwoX2ZpbmFsaXplcnNfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcih0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duLmNsb3NlZCB8fCB0ZWFyZG93bi5faGFzUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHRoaXMuX2ZpbmFsaXplcnMgPSAoX2EgPSB0aGlzLl9maW5hbGl6ZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2hhc1BhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgPyAoX3BhcmVudGFnZS5wdXNoKHBhcmVudCksIF9wYXJlbnRhZ2UpIDogX3BhcmVudGFnZSA/IFtfcGFyZW50YWdlLCBwYXJlbnRdIDogcGFyZW50O1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgaWYgKF9wYXJlbnRhZ2UgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICBhcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF9maW5hbGl6ZXJzID0gdGhpcy5fZmluYWxpemVycztcbiAgICAgICAgX2ZpbmFsaXplcnMgJiYgYXJyUmVtb3ZlKF9maW5hbGl6ZXJzLCB0ZWFyZG93bik7XG4gICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGVhcmRvd24uX3JlbW92ZVBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZXhwb3J0IHZhciBFTVBUWV9TVUJTQ1JJUFRJT04gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG5leHBvcnQgZnVuY3Rpb24gaXNTdWJzY3JpcHRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uIHx8XG4gICAgICAgICh2YWx1ZSAmJiAnY2xvc2VkJyBpbiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnJlbW92ZSkgJiYgaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb24odmFsdWUudW5zdWJzY3JpYmUpKSk7XG59XG5mdW5jdGlvbiBleGVjRmluYWxpemVyKGZpbmFsaXplcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKGZpbmFsaXplcikpIHtcbiAgICAgICAgZmluYWxpemVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmaW5hbGl6ZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwIiwiZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgb25VbmhhbmRsZWRFcnJvcjogbnVsbCxcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb246IG51bGwsXG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6IGZhbHNlLFxuICAgIHVzZURlcHJlY2F0ZWROZXh0Q29udGV4dDogZmFsc2UsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IHZhciB0aW1lb3V0UHJvdmlkZXIgPSB7XG4gICAgc2V0VGltZW91dDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLnNldFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5zZXRUaW1lb3V0LmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXRQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyKSB7XG4gICAgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb25VbmhhbmRsZWRFcnJvciA9IGNvbmZpZy5vblVuaGFuZGxlZEVycm9yO1xuICAgICAgICBpZiAob25VbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBvcnRVbmhhbmRsZWRFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXAiLCJleHBvcnQgdmFyIENPTVBMRVRFX05PVElGSUNBVElPTiA9IChmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JOb3RpZmljYXRpb24oZXJyb3IpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnJvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gbmV4dE5vdGlmaWNhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSwgdW5kZWZpbmVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xudmFyIGNvbnRleHQgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yQ29udGV4dChjYikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICB2YXIgaXNSb290ID0gIWNvbnRleHQ7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYigpO1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBjb250ZXh0LCBlcnJvclRocm93biA9IF9hLmVycm9yVGhyb3duLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZUVycm9yKGVycikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICBjb250ZXh0LmVycm9yID0gZXJyO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yQ29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbC9ub29wJztcbmltcG9ydCB7IG5leHROb3RpZmljYXRpb24sIGVycm9yTm90aWZpY2F0aW9uLCBDT01QTEVURV9OT1RJRklDQVRJT04gfSBmcm9tICcuL05vdGlmaWNhdGlvbkZhY3Rvcmllcyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xuaW1wb3J0IHsgY2FwdHVyZUVycm9yIH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IEVNUFRZX09CU0VSVkVSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FmZVN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5leHROb3RpZmljYXRpb24odmFsdWUpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKGVycm9yTm90aWZpY2F0aW9uKGVyciksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihDT01QTEVURV9OT1RJRklDQVRJT04sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcbn1cbnZhciBDb25zdW1lck9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcikge1xuICAgICAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHBhcnRpYWxPYnNlcnZlcjtcbiAgICB9XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc3VtZXJPYnNlcnZlcjtcbn0oKSk7XG52YXIgU2FmZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCAhb2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICBuZXh0OiAob2JzZXJ2ZXJPck5leHQgIT09IG51bGwgJiYgb2JzZXJ2ZXJPck5leHQgIT09IHZvaWQgMCA/IG9ic2VydmVyT3JOZXh0IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCA/IGVycm9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSAhPT0gbnVsbCAmJiBjb21wbGV0ZSAhPT0gdm9pZCAwID8gY29tcGxldGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRfMTtcbiAgICAgICAgICAgIGlmIChfdGhpcyAmJiBjb25maWcudXNlRGVwcmVjYXRlZE5leHRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudW5zdWJzY3JpYmUoKTsgfTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0Lm5leHQgJiYgYmluZChvYnNlcnZlck9yTmV4dC5uZXh0LCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuY29tcGxldGUsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG5mdW5jdGlvbiBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xufVxuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgb25TdG9wcGVkTm90aWZpY2F0aW9uID0gY29uZmlnLm9uU3RvcHBlZE5vdGlmaWNhdGlvbjtcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0IHZhciBFTVBUWV9PQlNFUlZFUiA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogbm9vcCxcbiAgICBlcnJvcjogZGVmYXVsdEVycm9ySGFuZGxlcixcbiAgICBjb21wbGV0ZTogbm9vcCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcCIsImV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXAiLCJpbXBvcnQgeyBTYWZlU3Vic2NyaWJlciwgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZXJyb3JDb250ZXh0IH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG52YXIgT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IGlzU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCkgPyBvYnNlcnZlck9yTmV4dCA6IG5ldyBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLCBvcGVyYXRvciA9IF9hLm9wZXJhdG9yLCBzb3VyY2UgPSBfYS5zb3VyY2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvclxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmliZShzdWJzY3JpYmVyKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTYWZlU3Vic2NyaWJlcih7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IHJlamVjdCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHZhbHVlID0geCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHByb21pc2VDdG9yICE9PSBudWxsICYmIHByb21pc2VDdG9yICE9PSB2b2lkIDAgPyBwcm9taXNlQ3RvciA6IGNvbmZpZy5Qcm9taXNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBQcm9taXNlO1xufVxuZnVuY3Rpb24gaXNPYnNlcnZlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLm5leHQpICYmIGlzRnVuY3Rpb24odmFsdWUuZXJyb3IpICYmIGlzRnVuY3Rpb24odmFsdWUuY29tcGxldGUpO1xufVxuZnVuY3Rpb24gaXNTdWJzY3JpYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHx8IChpc09ic2VydmVyKHZhbHVlKSAmJiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcCIsImltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xuICAgIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyBpbnB1dCArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0IHZhciBpdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY0dlbmVyYXRvciwgX19hd2FpdCwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcbiAgICAgICAgdmFyIHJlYWRlciwgX2EsIHZhbHVlLCBkb25lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQodm9pZCAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jVmFsdWVzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSwgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBpbm5lckZyb20oaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZShhcnJheSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXJhYmxlXzEgPSBfX3ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpOyAhaXRlcmFibGVfMV8xLmRvbmU7IGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYWJsZV8xXzEgJiYgIWl0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGl0ZXJhYmxlXzEucmV0dXJuKSkgX2EuY2FsbChpdGVyYWJsZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKHBhcmVudFN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCB3b3JrLCBkZWxheSwgcmVwZWF0KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XG4gICAgdmFyIHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd29yaygpO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcbiAgICBpZiAoIXJlcGVhdCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZVNjaGVkdWxlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmxpZnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSkge1xuICAgIHJldHVybiBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpO1xufVxudmFyIE9wZXJhdG9yU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9wZXJhdG9yU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPcGVyYXRvclN1YnNjcmliZXIoZGVzdGluYXRpb24sIG9uTmV4dCwgb25Db21wbGV0ZSwgb25FcnJvciwgb25GaW5hbGl6ZSwgc2hvdWxkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uRmluYWxpemUgPSBvbkZpbmFsaXplO1xuICAgICAgICBfdGhpcy5zaG91bGRVbnN1YnNjcmliZSA9IHNob3VsZFVuc3Vic2NyaWJlO1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG9uTmV4dFxuICAgICAgICAgICAgPyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbk5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9uZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBvbkVycm9yXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2Vycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBvbkNvbXBsZXRlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9wZXJhdG9yU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xuICAgICAgICAgICAgdmFyIGNsb3NlZF8xID0gdGhpcy5jbG9zZWQ7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAhY2xvc2VkXzEgJiYgKChfYSA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gT3BlcmF0b3JTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPcGVyYXRvclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZXJhdG9yU3Vic2NyaWJlci5qcy5tYXAiLCJpbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9LCBkZWxheSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb24oaXRlcmF0b3IgPT09IG51bGwgfHwgaXRlcmF0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZXJhdG9yLnJldHVybikgJiYgaXRlcmF0b3IucmV0dXJuKCk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICByZXR1cm4gZnJvbShhcmdzLCBzY2hlZHVsZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHByb2plY3QuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwIiwiaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBtZXJnZUludGVybmFscyB9IGZyb20gJy4vbWVyZ2VJbnRlcm5hbHMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIGlmIChpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkoaW5uZXJGcm9tKHByb2plY3QoYSwgaSkpKTsgfSwgY29uY3VycmVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7IHJldHVybiBtZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQsIG9uQmVmb3JlTmV4dCwgZXhwYW5kLCBpbm5lclN1YlNjaGVkdWxlciwgYWRkaXRpb25hbEZpbmFsaXplcikge1xuICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICB2YXIgYWN0aXZlID0gMDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlICYmICFidWZmZXIubGVuZ3RoICYmICFhY3RpdmUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG91dGVyTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7IH07XG4gICAgdmFyIGRvSW5uZXJTdWIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgZXhwYW5kICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIGFjdGl2ZSsrO1xuICAgICAgICB2YXIgaW5uZXJDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgICAgIG9uQmVmb3JlTmV4dCA9PT0gbnVsbCB8fCBvbkJlZm9yZU5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQmVmb3JlTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIGlmIChleHBhbmQpIHtcbiAgICAgICAgICAgICAgICBvdXRlck5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlubmVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpbm5lckNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlcmVkVmFsdWUgPSBidWZmZXIuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclN1YlNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBpbm5lclN1YlNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCAmJiBhY3RpdmUgPCBjb25jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG91dGVyTmV4dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRpdGlvbmFsRmluYWxpemVyID09PSBudWxsIHx8IGFkZGl0aW9uYWxGaW5hbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkZGl0aW9uYWxGaW5hbGl6ZXIoKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VJbnRlcm5hbHMuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IHZhciBFTVBUWSA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIDogRU1QVFk7XG59XG5mdW5jdGlvbiBlbXB0eVNjaGVkdWxlZChzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtcHR5LmpzLm1hcCIsImltcG9ydCB7IG1lcmdlQWxsIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21lcmdlQWxsJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5pbXBvcnQgeyBwb3BOdW1iZXIsIHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICB2YXIgY29uY3VycmVudCA9IHBvcE51bWJlcihhcmdzLCBJbmZpbml0eSk7XG4gICAgdmFyIHNvdXJjZXMgPSBhcmdzO1xuICAgIHJldHVybiAhc291cmNlcy5sZW5ndGhcbiAgICAgICAgP1xuICAgICAgICAgICAgRU1QVFlcbiAgICAgICAgOiBzb3VyY2VzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgIGlubmVyRnJvbShzb3VyY2VzWzBdKVxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIG1lcmdlQWxsKGNvbmN1cnJlbnQpKGZyb20oc291cmNlcywgc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZS5qcy5tYXAiLCJpbXBvcnQgeyBtZXJnZU1hcCB9IGZyb20gJy4vbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUFsbChjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cbiAgICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VBbGwuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gdGFwKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICB2YXIgdGFwT2JzZXJ2ZXIgPSBpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCBlcnJvciB8fCBjb21wbGV0ZVxuICAgICAgICA/XG4gICAgICAgICAgICB7IG5leHQ6IG9ic2VydmVyT3JOZXh0LCBlcnJvcjogZXJyb3IsIGNvbXBsZXRlOiBjb21wbGV0ZSB9XG4gICAgICAgIDogb2JzZXJ2ZXJPck5leHQ7XG4gICAgcmV0dXJuIHRhcE9ic2VydmVyXG4gICAgICAgID8gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIHZhciBpc1Vuc3ViID0gdHJ1ZTtcbiAgICAgICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5uZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5jb21wbGV0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaXNVbnN1YiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIChfYSA9IHRhcE9ic2VydmVyLmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlciwgZXJyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBpZiAoaXNVbnN1Yikge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci51bnN1YnNjcmliZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoX2IgPSB0YXBPYnNlcnZlci5maW5hbGl6ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwodGFwT2JzZXJ2ZXIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KVxuICAgICAgICA6XG4gICAgICAgICAgICBpZGVudGl0eTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhcC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzQ29tcGxldGUgJiYgIWlubmVyU3Vic2NyaWJlciAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID09PSBudWxsIHx8IGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB2YXIgaW5uZXJJbmRleCA9IDA7XG4gICAgICAgICAgICB2YXIgb3V0ZXJJbmRleCA9IGluZGV4Kys7XG4gICAgICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgb3V0ZXJJbmRleCkpLnN1YnNjcmliZSgoaW5uZXJTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvcih2YWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCsrKSA6IGlubmVyVmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoTWFwLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIGNhdGNoRXJyb3Ioc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbm5lclN1YiA9IG51bGw7XG4gICAgICAgIHZhciBzeW5jVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhhbmRsZWRSZXN1bHQ7XG4gICAgICAgIGlubmVyU3ViID0gc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGhhbmRsZWRSZXN1bHQgPSBpbm5lckZyb20oc2VsZWN0b3IoZXJyLCBjYXRjaEVycm9yKHNlbGVjdG9yKShzb3VyY2UpKSk7XG4gICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICBoYW5kbGVkUmVzdWx0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHN5bmNVbnN1Yikge1xuICAgICAgICAgICAgaW5uZXJTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgIGhhbmRsZWRSZXN1bHQuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaEVycm9yLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcIi4uL29wZXJhdG9ycy9tYXBcIjtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xuICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGNhbGxPckFwcGx5KGZuLCBhcmdzKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG52YXIgbm9kZUV2ZW50RW1pdHRlck1ldGhvZHMgPSBbJ2FkZExpc3RlbmVyJywgJ3JlbW92ZUxpc3RlbmVyJ107XG52YXIgZXZlbnRUYXJnZXRNZXRob2RzID0gWydhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInXTtcbnZhciBqcXVlcnlNZXRob2RzID0gWydvbicsICdvZmYnXTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucykucGlwZShtYXBPbmVPck1hbnlBcmdzKHJlc3VsdFNlbGVjdG9yKSk7XG4gICAgfVxuICAgIHZhciBfYSA9IF9fcmVhZChpc0V2ZW50VGFyZ2V0KHRhcmdldClcbiAgICAgICAgPyBldmVudFRhcmdldE1ldGhvZHMubWFwKGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07IH0pXG4gICAgICAgIDpcbiAgICAgICAgICAgIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgICAgICAgICAgICA/IG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzLm1hcCh0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgOiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgPyBqcXVlcnlNZXRob2RzLm1hcCh0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIDogW10sIDIpLCBhZGQgPSBfYVswXSwgcmVtb3ZlID0gX2FbMV07XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoc3ViVGFyZ2V0KSB7IHJldHVybiBmcm9tRXZlbnQoc3ViVGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpOyB9KShpbm5lckZyb20odGFyZ2V0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIubmV4dCgxIDwgYXJncy5sZW5ndGggPyBhcmdzIDogYXJnc1swXSk7XG4gICAgICAgIH07XG4gICAgICAgIGFkZChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZShoYW5kbGVyKTsgfTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtZXRob2ROYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gdGFyZ2V0W21ldGhvZE5hbWVdKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07IH07XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkTGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUxpc3RlbmVyKTtcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0Lm9uKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5vZmYpO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldCh0YXJnZXQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgJiYgaXNGdW5jdGlvbih0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xudmFyIEFjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQWN0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IHZhciBpbnRlcnZhbFByb3ZpZGVyID0ge1xuICAgIHNldEludGVydmFsOiBmdW5jdGlvbiAoaGFuZGxlciwgdGltZW91dCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSBpbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLnNldEludGVydmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuc2V0SW50ZXJ2YWwuYXBwbHkoZGVsZWdhdGUsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0SW50ZXJ2YWwuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhckludGVydmFsOiBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhckludGVydmFsKSB8fCBjbGVhckludGVydmFsKShoYW5kbGUpO1xuICAgIH0sXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xuaW1wb3J0IHsgaW50ZXJ2YWxQcm92aWRlciB9IGZyb20gJy4vaW50ZXJ2YWxQcm92aWRlcic7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuLi91dGlsL2FyclJlbW92ZSc7XG52YXIgQXN5bmNBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5pZCA9IChfYSA9IHRoaXMuaWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgX2lkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIGludGVydmFsUHJvdmlkZXIuc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKF9zY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKGRlbGF5ICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbnRlcnZhbFByb3ZpZGVyLmNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBfZGVsYXkpIHtcbiAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yVmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSBlID8gZSA6IG5ldyBFcnJvcignU2NoZWR1bGVkIGFjdGlvbiB0aHJldyBmYWxzeSBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBpZCA9IF9hLmlkLCBzY2hlZHVsZXIgPSBfYS5zY2hlZHVsZXI7XG4gICAgICAgICAgICB2YXIgYWN0aW9ucyA9IHNjaGVkdWxlci5hY3Rpb25zO1xuICAgICAgICAgICAgdGhpcy53b3JrID0gdGhpcy5zdGF0ZSA9IHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgYXJyUmVtb3ZlKGFjdGlvbnMsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVsYXkgPSBudWxsO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNBY3Rpb247XG59KEFjdGlvbikpO1xuZXhwb3J0IHsgQXN5bmNBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcCIsImV4cG9ydCB2YXIgZGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0ge1xuICAgIG5vdzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKGRhdGVUaW1lc3RhbXBQcm92aWRlci5kZWxlZ2F0ZSB8fCBEYXRlKS5ub3coKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlcic7XG52YXIgU2NoZWR1bGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoc2NoZWR1bGVyQWN0aW9uQ3Rvciwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkgeyBub3cgPSBTY2hlZHVsZXIubm93OyB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyQWN0aW9uQ3RvciA9IHNjaGVkdWxlckFjdGlvbkN0b3I7XG4gICAgICAgIHRoaXMubm93ID0gbm93O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHdvcmssIGRlbGF5LCBzdGF0ZSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IodGhpcywgd29yaykuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5ub3cgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXIubm93O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xuZXhwb3J0IHsgU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFzeW5jU2NoZWR1bGVyID0gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbmV4cG9ydCB2YXIgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU2NoZWR1bGVyIH0gZnJvbSAnLi4vU2NoZWR1bGVyJztcbnZhciBBc3luY1NjaGVkdWxlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkgeyBub3cgPSBTY2hlZHVsZXIubm93OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgbm93KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIF90aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICgoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyO1xufShTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzeW5jU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1NjaGVkdWxlci5qcy5tYXAiLCJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3RVbnRpbENoYW5nZWQoY29tcGFyYXRvciwga2V5U2VsZWN0b3IpIHtcbiAgICBpZiAoa2V5U2VsZWN0b3IgPT09IHZvaWQgMCkgeyBrZXlTZWxlY3RvciA9IGlkZW50aXR5OyB9XG4gICAgY29tcGFyYXRvciA9IGNvbXBhcmF0b3IgIT09IG51bGwgJiYgY29tcGFyYXRvciAhPT0gdm9pZCAwID8gY29tcGFyYXRvciA6IGRlZmF1bHRDb21wYXJlO1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzS2V5O1xuICAgICAgICB2YXIgZmlyc3QgPSB0cnVlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5U2VsZWN0b3IodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGZpcnN0IHx8ICFjb21wYXJhdG9yKHByZXZpb3VzS2V5LCBjdXJyZW50S2V5KSkge1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNLZXkgPSBjdXJyZW50S2V5O1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3RpbmN0VW50aWxDaGFuZ2VkLmpzLm1hcCIsImltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcclxuZ2FtZS5zdGFydEdhbWUoKTsiLCJpbXBvcnQgeyBQbGF5ZXIsIFBsYXllcnMsIGN1cnJlbnRQb3NpdGlvbnMgfSBmcm9tIFwiLi9pbnRlcmZhY2VzXCJcclxuaW1wb3J0IHsgUmVuZGVyZXIsIGRpY2VCdXR0b25FbGVtZW50LCBwbGF5ZXJQaWVjZUVsZW1lbnQsIHBsYXllclBpZWNlc0VsZW1lbnRzLCByZXNldEJ1dHRvbkVsZW1lbnQgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBCQVNFX1BPU0lUSU9OUywgSE9NRV9FTlRSQU5DRSwgSE9NRV9QT1NJVElPTlMsIFBMQVlFUlMsIFNBRkVfUE9TSVRJT05TLCBTVEFSVF9QT1NJVElPTlMsIFNUQVRFLCBUVVJOSU5HX1BPSU5UUyxVUkwgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3Vic2NyaXB0aW9uLCBjYXRjaEVycm9yLCBjb21iaW5lTGF0ZXN0LCBjb25jYXRNYXAsIGRlYm91bmNlVGltZSwgZGlzdGluY3RVbnRpbENoYW5nZWQsIGZpbHRlciwgZmluYWxpemUsIGZyb20sIGZyb21FdmVudCwgaW50ZXJ2YWwsIG1hcCwgbWVyZ2UsIG1lcmdlTWFwLCBvZiwgc3dpdGNoTWFwLCB0YWtlVW50aWwsIHRha2VXaGlsZSwgdGFwIH0gZnJvbSBcInJ4anNcIjtcclxuZXhwb3J0IGNsYXNzIEdhbWV7XHJcbiAgIFxyXG4gICAgc3RhcnRHYW1lKClcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnYScpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuRGljZUNsaWNrKCk7XHJcbiAgICAgICAgY29uc3QgcmVzZXRCdXR0b25DbGljayQgPXRoaXMubGlzdGVuUmVzZXRDbGljaygpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuUGllY2VDbGljaygpO1xyXG4gICAgICAgIGNvbnN0IGFwcFN0YXJ0JCA9IG9mKG51bGwpO1xyXG4gICAgICAgICBjb25zdCByZXNldEV2ZW50cyQgPSBtZXJnZShhcHBTdGFydCQscmVzZXRCdXR0b25DbGljayQpO1xyXG5cclxuICAgIFxyXG4gICAgcmVzZXRFdmVudHMkLnBpcGUoXHJcbiAgICAgICAgdGFwKCgpID0+IHRoaXMucmVzZXRHYW1lKCkpXHJcbiAgICApLnN1YnNjcmliZSgpO1xyXG5cclxuICAgIH1cclxuICAgIHVwZGF0ZVBsYXllcihwbGF5ZXI6c3RyaW5nLG5ld0RhdGE6YW55KTpPYnNlcnZhYmxlPGFueT57XHJcbiAgICAgICAgcmV0dXJuIGZyb20oZmV0Y2goVVJMICsgcGxheWVyLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJywgXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdEYXRhKSxcclxuICAgICAgICAgIH0pKS5waXBlKFxyXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGF5ZXIgZGF0YSB1cGRhdGUgZmFpbGVkJyk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKHJlc3BvbnNlLmpzb24oKSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgY2F0Y2hFcnJvcigoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgbGlzdGVuRGljZUNsaWNrKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBidXR0b25DbGljayQgPSBmcm9tRXZlbnQoZGljZUJ1dHRvbkVsZW1lbnQsJ2NsaWNrJykucGlwZShcclxuICAgICAgICAgICAgZGVib3VuY2VUaW1lKDMwMCksIC8vSWdub3Jpc2UgYnJ6ZSB1emFzdG9wbmUga2xpa292ZVxyXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLC8vSWdub3Jpc2FuamUgdXphc3RvcG5paCBpc3RpaCBrbGlrb3ZhXHJcbiAgICAgICAgKTtcclxuICAgICAgICAgICAgYnV0dG9uQ2xpY2skLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGljZUNsaWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbGlzdGVuUmVzZXRDbGljaygpOk9ic2VydmFibGU8RXZlbnQ+e1xyXG4gICAgICAgIGNvbnN0IHJlc2V0Q2xpY2skID0gZnJvbUV2ZW50KHJlc2V0QnV0dG9uRWxlbWVudCwnY2xpY2snKS5waXBlKFxyXG4gICAgICAgICAgICB0YXAoKCk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRHYW1lKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJldHVybiByZXNldENsaWNrJDtcclxuICAgIH1cclxuICAgIHJlc2V0R2FtZSgpe1xyXG4gICAgICAgIGNvbnN0IHBsYXllciQgPSBmcm9tKFBMQVlFUlMgYXMgUGxheWVyc1tdKTtcclxuICBjb25zdCBwaWVjZSQgPSBmcm9tKFswLCAxLCAyLCAzXSk7XHJcblxyXG4gIGNvbnN0IHJlc2V0R2FtZSQgPSBtZXJnZShcclxuICAgIHBsYXllciQucGlwZShcclxuICAgICAgbWVyZ2VNYXAocGxheWVyID0+IHBpZWNlJC5waXBlKFxyXG4gICAgICAgIG1hcChwaWVjZSA9PiAoeyBwbGF5ZXIsIHBpZWNlIH0pKVxyXG4gICAgICApKVxyXG4gICAgKVxyXG4gICkucGlwZShcclxuICAgIHN3aXRjaE1hcCgoeyBwbGF5ZXIsIHBpZWNlIH0pID0+IHtcclxuICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb25zID0gc3RydWN0dXJlZENsb25lKEJBU0VfUE9TSVRJT05TKTtcclxuXHJcbiAgICAgIHRoaXMuc2V0UGllY2VQb3NpdGlvbihwbGF5ZXIsIHBpZWNlLCBCQVNFX1BPU0lUSU9OU1twbGF5ZXJdW3BpZWNlXSk7XHJcbiAgICAgIHJldHVybiBvZihudWxsKTtcclxuICAgIH0pXHJcbiAgKTtcclxuXHJcbiAgcmVzZXRHYW1lJC5zdWJzY3JpYmUoe1xyXG4gICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgdGhpcy50dXJuID0gMDtcclxuICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFLkRJQ0VfTk9UX1JPTExFRDtcclxuICAgICAgY29uc29sZS5sb2coJ0dhbWUgcmVzZXQgY29tcGxldGVkLicpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICAgfVxyXG4gICAgbGlzdGVuUGllY2VDbGljaygpe1xyXG4gICAgICAgIGNvbnN0IHBpZWNlQ2xpY2skID0gZnJvbUV2ZW50KHBsYXllclBpZWNlRWxlbWVudCwnY2xpY2snKS5waXBlKFxyXG4gICAgICAgICAgICBmaWx0ZXIoKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXllci1waWVjZScpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbWFwKChldmVudCk9PntcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3BsYXllci1pZCcpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdwaWVjZScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJue3BsYXllcixwaWVjZX07XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKHtwbGF5ZXIscGllY2V9KT0+e1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUGllY2VDbGljayhwbGF5ZXIscGllY2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgICAgICBwaWVjZUNsaWNrJC5zdWJzY3JpYmUoKCk9PmNvbnNvbGUubG9nKCdwaWVjZSB3YXMgY2xpY2tlZCcpKTtcclxuICAgIH1cclxuICAgIGhhbmRsZVBpZWNlQ2xpY2socGxheWVyOiBzdHJpbmcsIHBpZWNlOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gb2YocGxheWVyKS5waXBlKFxyXG4gICAgICAgICAgICBtYXAoKCkgPT4gcGFyc2VJbnQocGllY2UsIDEwKSksIC8vIFByZXR2YXJhbmplIHBpZWNlIHUgYnJvalxyXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKHBpZWNlTnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyID09PSAnUDEnIHx8IHBsYXllciA9PT0gJ1AyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlTnVtYmVyXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQkFTRV9QT1NJVElPTlNbcGxheWVyXS5pbmNsdWRlcyhjdXJyZW50UG9zaXRpb24pICYmdGhpcy5kaWNlVmFsdWU9PT02ICYmIHRoaXMuc3RhdGU9PT1TVEFURS5ESUNFX1JPTExFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBa28gamUgdHJlbnV0bmEgcG96aWNpamEgdWtsanXEjWVuYSB1IEJBU0VfUE9TSVRJT05TLCBwb3N0YXZpdGUgbmEgU1RBUlRfUE9TSVRJT05TXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGllY2VQb3NpdGlvbihwbGF5ZXIsIHBpZWNlTnVtYmVyLCBTVEFSVF9QT1NJVElPTlNbcGxheWVyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURS5ESUNFX05PVF9ST0xMRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5hxI1lLCBwb3pvdml0ZSBtb3ZlUGllY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZT09PVNUQVRFLkRJQ0VfUk9MTEVEJiYhQkFTRV9QT1NJVElPTlNbcGxheWVyXS5pbmNsdWRlcyhjdXJyZW50UG9zaXRpb24pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlUGllY2UocGxheWVyLCBwaWVjZU51bWJlciwgdGhpcy5kaWNlVmFsdWUpOyAvLyBQb3ppdiBmdW5rY2lqZSBtb3ZlUGllY2Ugc2EgcGxheWVyIGkgYnJvamVtIHBpZWNlLWFcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gb2YobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKG51bGwpOyAvLyBWcmHEh2FtbyBudWxsIGthbyByZXp1bHRhdCBha28gbmVtYSBha2NpamVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgc2V0UGllY2VQb3NpdGlvbihwbGF5ZXI6UGxheWVycyxwaWVjZTpudW1iZXIsbmV3UG9zaXRpb246bnVtYmVyKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXIscGllY2UsbmV3UG9zaXRpb24pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXT1uZXdQb3NpdGlvbjtcclxuICAgICAgICBSZW5kZXJlci5zZXRQaWVjZVBvc2l0aW9uKHBsYXllcixwaWVjZSxuZXdQb3NpdGlvbik7XHJcbiAgICAgICB9XHJcbiAgICAgICBtb3ZlUGllY2UocGxheWVyOiBQbGF5ZXJzLCBwaWVjZTogbnVtYmVyLCBtb3ZlQnk6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGludGVydmFsJCA9IGludGVydmFsKDIwMCkucGlwZShcclxuICAgICAgICAgICAgdGFrZVdoaWxlKCgpID0+IG1vdmVCeSA+IDApLFxyXG4gICAgICAgICAgICBjb25jYXRNYXAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRQaWVjZVBvc2l0aW9uKHBsYXllciwgcGllY2UpO1xyXG4gICAgICAgICAgICAgICAgbW92ZUJ5LS07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2YobnVsbCk7IC8vIFZyYcSHYW5qZSBPYnNlcnZhYmxlIHNhIG51bGwgdnJlZG5vxaHEh3VcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChtb3ZlQnkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmhhc1BsYXllcldvbihwbGF5ZXIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIHsgYWxlcnQoYFBsYXllciAke3BsYXllcn0gd29uYCk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuX3R1cm49PT0wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIHsgIGNvbnN0IHAxIDogUGxheWVyID17XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOlwiUDFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaXg6dGhpcy5zdW0xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVyKHAxLmlkLHAxKS5zdWJzY3JpYmUocmVzcG9uc2U9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0R2FtZSgpO31cclxuICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHRoaXMuY2hlY2tGb3JLaWxsKHBsYXllcixwaWVjZSl8fHRoaXMuZGljZVZhbHVlID09PSA2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURS5ESUNFX05PVF9ST0xMRUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVR1cm4oKTsgLy8gUG96aXYgaW5jcmVtZW50VHVybiBrYWRhIGplIG1vdmVCeSA9PT0gMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGludGVydmFsJDsgLy8gVnJhxIdhbmplIE9ic2VydmFibGUgc2EgaW50ZXJ2YWxvbVxyXG4gICAgfVxyXG4gICAgICAgaW5jcmVtZW50UGllY2VQb3NpdGlvbihwbGF5ZXI6UGxheWVycyxwaWVjZTpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuc2V0UGllY2VQb3NpdGlvbihwbGF5ZXIscGllY2UsdGhpcy5nZXRJbmNyZW1lbnRlZFBvc2l0aW9uKHBsYXllcixwaWVjZSkpXHJcbiAgICAgICB9XHJcbiAgICAgICBnZXRJbmNyZW1lbnRlZFBvc2l0aW9uKHBsYXllcjpQbGF5ZXJzLHBpZWNlOm51bWJlcil7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb25zW3BsYXllcl1bcGllY2VdO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQb3NpdGlvbik7XHJcbiAgICAgICAgaWYoY3VycmVudFBvc2l0aW9uPT09VFVSTklOR19QT0lOVFNbcGxheWVyXSl7XHJcbiAgICAgICAgICAgIHJldHVybiBIT01FX0VOVFJBTkNFW3BsYXllcl1bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgZWxzZSBpZihjdXJyZW50UG9zaXRpb249PT01MSl7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uKzE7XHJcbiAgICAgICB9XHJcbiAgICAgICBjaGFuZ2VUdXJuKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnR1cm49dGhpcy50dXJuPT09MD8xOjA7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGU9U1RBVEUuRElDRV9OT1RfUk9MTEVEO1xyXG4gICAgfVxyXG4gICAgY2hlY2tGb3JFbGlnaWJsZVBpZWNlcygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gUExBWUVSU1t0aGlzLnR1cm5dO1xyXG4gICAgICAgIGlmKHBsYXllciA9PT0nUDEnfHxwbGF5ZXI9PT0nUDInKVxyXG4gICAgICAgIHtjb25zdCBlbGlnaWJsZVBpZWNlczpudW1iZXJbXT10aGlzLmdldEVsaWdpYmxlUGllY2VzKHBsYXllcik7XHJcbiAgICAgICAgaWYoZWxpZ2libGVQaWVjZXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgUmVuZGVyZXIuaGlnaGxpZ2h0UGllY2VzKHBsYXllcixlbGlnaWJsZVBpZWNlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlVHVybigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH1cclxuICAgIGdldEVsaWdpYmxlUGllY2VzKHBsYXllcjpQbGF5ZXJzKTpudW1iZXJbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbMCwxLDIsM10uZmlsdGVyKHBpZWNlPT57XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXVxyXG4gICAgICAgICAgICBpZihjdXJyZW50UG9zaXRpb249PUhPTUVfUE9TSVRJT05TW3BsYXllcl0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKEJBU0VfUE9TSVRJT05TW3BsYXllcl0uaW5jbHVkZXMoY3VycmVudFBvc2l0aW9uKSYmIHRoaXMuZGljZVZhbHVlIT09NilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKEhPTUVfRU5UUkFOQ0VbcGxheWVyXS5pbmNsdWRlcyhjdXJyZW50UG9zaXRpb24pJiYgdGhpcy5fZGljZVZhbHVlPkhPTUVfUE9TSVRJT05TW3BsYXllcl0tY3VycmVudFBvc2l0aW9uKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgaGFzUGxheWVyV29uKHBsYXllcjpQbGF5ZXJzKXtcclxuICAgICAgICByZXR1cm4gWzAsMV0uZXZlcnkocGllY2U9PnRoaXMuY3VycmVudFBvc2l0aW9uc1twbGF5ZXJdW3BpZWNlXT09PUhPTUVfUE9TSVRJT05TW3BsYXllcl0pXHJcbiAgICAgICB9XHJcbiAgICAgICBjaGVja0ZvcktpbGwocGxheWVyOlBsYXllcnMscGllY2U6bnVtYmVyKVxyXG4gICB7XHJcbiAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRQb3NpdGlvbnNbcGxheWVyXVtwaWVjZV07XHJcbiAgICBjb25zdCBvcHBvbmVudCA9IHBsYXllciA9PT0nUDEnPydQMic6J1AxJztcclxuICAgIGxldCBraWxsID0gZmFsc2U7XHJcbiAgICBbMCwxLDIsM10uZm9yRWFjaChwaWVjZT0+e1xyXG4gICAgICAgIGNvbnN0IG9wcG9uZW50UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRQb3NpdGlvbnNbb3Bwb25lbnRdW3BpZWNlXTtcclxuICAgICAgICBpZihjdXJyZW50UG9zaXRpb249PT1vcHBvbmVudFBvc2l0aW9uJiYhU0FGRV9QT1NJVElPTlMuaW5jbHVkZXMoY3VycmVudFBvc2l0aW9uKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UGllY2VQb3NpdGlvbihvcHBvbmVudCxwaWVjZSxCQVNFX1BPU0lUSU9OU1tvcHBvbmVudF1bcGllY2VdKTtcclxuICAgICAgICAgICAga2lsbD10cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4ga2lsbDtcclxuICAgfVxyXG4gICBvbkRpY2VDbGljaygpXHJcbiAgIHtcclxuICAgICAgIGNvbnNvbGUubG9nKCdkaWNlIGlzIGNsaWNrZWQnKTtcclxuICAgICAgIHRoaXMuZGljZVZhbHVlPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYpICsgMTtcclxuICAgICAgIGlmKHRoaXMuZGljZVZhbHVlPT09NiAmJiB0aGlzLnR1cm49PT0wKVxyXG4gICAgICAgdGhpcy5zdW0xPTE7XHJcbiAgICAgICBpZih0aGlzLmRpY2VWYWx1ZT09PTYgJiYgdGhpcy50dXJuPT09MSlcclxuICAgICAgIHRoaXMuc3VtMj0xO1xyXG4gICAgICAgY29uc29sZS5sb2codGhpcy5zdW0xLHRoaXMuc3VtMik7XHJcbiAgICAgICB0aGlzLnN0YXRlPVNUQVRFLkRJQ0VfUk9MTEVEO1xyXG4gICAgICAgdGhpcy5jaGVja0ZvckVsaWdpYmxlUGllY2VzKCk7XHJcbiAgICAgIFxyXG4gICB9XHJcbiAgIGN1cnJlbnRQb3NpdGlvbnMgOiBjdXJyZW50UG9zaXRpb25zPSB7XHJcbiAgICBQMTpbXSxcclxuICAgIFAyOltdXHJcbn1cclxuX2RpY2VWYWx1ZSA6IG51bWJlciA7XHJcbmdldCBkaWNlVmFsdWUoKXtcclxuICAgIHJldHVybiB0aGlzLl9kaWNlVmFsdWU7XHJcbn0gXHJcbnNldCBkaWNlVmFsdWUodmFsdWUpe1xyXG4gICAgdGhpcy5fZGljZVZhbHVlID0gdmFsdWU7XHJcbiAgICBSZW5kZXJlci5zZXREaWNlVmFsdWUodmFsdWUpO1xyXG59XHJcbl90dXJuOm51bWJlcjsgXHJcbmdldCB0dXJuKCl7XHJcbiAgICByZXR1cm4gdGhpcy5fdHVybjtcclxufVxyXG5zZXQgdHVybih2YWx1ZSl7XHJcbiAgICB0aGlzLl90dXJuID0gdmFsdWU7XHJcbiAgICBSZW5kZXJlci5zZXRUdXJuKHZhbHVlKTtcclxufVxyXG5fc3RhdGUgOiBzdHJpbmcgOyBcclxuZ2V0IHN0YXRlKCl7XHJcbiAgICByZXR1cm4gdGhpcy5fc3RhdGU7XHJcbn1cclxuc2V0IHN0YXRlKHZhbHVlKXtcclxuICAgIHRoaXMuX3N0YXRlPSB2YWx1ZSA7IFxyXG4gICAgaWYodmFsdWUgPT09IFNUQVRFLkRJQ0VfTk9UX1JPTExFRClcclxuICAgIHtcclxuICAgICAgICBSZW5kZXJlci5lbmFibGVEaWNlKCk7XHJcbiAgICAgICAgUmVuZGVyZXIudW5oaWdobGlnaHRQaWVjZXMoKTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICBSZW5kZXJlci5kaXNhYmxlRGljZSgpO1xyXG4gICAgfVxyXG59XHJcbl9zdW0xOm51bWJlcj0wO1xyXG5nZXQgc3VtMSgpe1xyXG4gICAgcmV0dXJuIHRoaXMuX3N1bTE7XHJcbn1cclxuc2V0IHN1bTEodmFsdWUpe1xyXG4gICAgdGhpcy5fc3VtMSs9dmFsdWU7XHJcbn1cclxuX3N1bTI6bnVtYmVyPTA7XHJcbmdldCBzdW0yKCl7XHJcbiAgICByZXR1cm4gdGhpcy5fc3VtMjtcclxufVxyXG5zZXQgc3VtMih2YWx1ZSl7XHJcbiAgICB0aGlzLl9zdW0yKz12YWx1ZTtcclxufVxyXG59IiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2VUaW1lKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY1NjaGVkdWxlcjsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RUaW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlVGFzaykge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBlbWl0V2hlbklkbGUoKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0VGltZSA9IGxhc3RUaW1lICsgZHVlVGltZTtcbiAgICAgICAgICAgIHZhciBub3cgPSBzY2hlZHVsZXIubm93KCk7XG4gICAgICAgICAgICBpZiAobm93IDwgdGFyZ2V0VGltZSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgdGFyZ2V0VGltZSAtIG5vdyk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBsYXN0VGltZSA9IHNjaGVkdWxlci5ub3coKTtcbiAgICAgICAgICAgIGlmICghYWN0aXZlVGFzaykge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSBzY2hlZHVsZXIuc2NoZWR1bGUoZW1pdFdoZW5JZGxlLCBkdWVUaW1lKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChhY3RpdmVUYXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZW1pdCgpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJvdW5jZVRpbWUuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluYWxpemUuanMubWFwIiwiaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSA/IG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCAxKSA6IG1lcmdlTWFwKHByb2plY3QsIDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0TWFwLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VXaGlsZShwcmVkaWNhdGUsIGluY2x1c2l2ZSkge1xuICAgIGlmIChpbmNsdXNpdmUgPT09IHZvaWQgMCkgeyBpbmNsdXNpdmUgPSBmYWxzZTsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrKTtcbiAgICAgICAgICAgIChyZXN1bHQgfHwgaW5jbHVzaXZlKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgIXJlc3VsdCAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRha2VXaGlsZS5qcy5tYXAiLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4vdGltZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHBlcmlvZCA9PT0gdm9pZCAwKSB7IHBlcmlvZCA9IDA7IH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cbiAgICBpZiAocGVyaW9kIDwgMCkge1xuICAgICAgICBwZXJpb2QgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gdGltZXIocGVyaW9kLCBwZXJpb2QsIHNjaGVkdWxlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnZhbC5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyBhcyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5leHBvcnQgZnVuY3Rpb24gdGltZXIoZHVlVGltZSwgaW50ZXJ2YWxPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGR1ZVRpbWUgPT09IHZvaWQgMCkgeyBkdWVUaW1lID0gMDsgfVxuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY1NjaGVkdWxlcjsgfVxuICAgIHZhciBpbnRlcnZhbER1cmF0aW9uID0gLTE7XG4gICAgaWYgKGludGVydmFsT3JTY2hlZHVsZXIgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXIoaW50ZXJ2YWxPclNjaGVkdWxlcikpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnRlcnZhbER1cmF0aW9uID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGR1ZSA9IGlzVmFsaWREYXRlKGR1ZVRpbWUpID8gK2R1ZVRpbWUgLSBzY2hlZHVsZXIubm93KCkgOiBkdWVUaW1lO1xuICAgICAgICBpZiAoZHVlIDwgMCkge1xuICAgICAgICAgICAgZHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChuKyspO1xuICAgICAgICAgICAgICAgIGlmICgwIDw9IGludGVydmFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIGludGVydmFsRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZHVlKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHZhbHVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXAiXSwibmFtZXMiOlsiQ09PUkRJTkFURVNfTUFQIiwiUExBWUVSUyIsIkJBU0VfUE9TSVRJT05TIiwiUDEiLCJQMiIsIlNUQVJUX1BPU0lUSU9OUyIsIkhPTUVfRU5UUkFOQ0UiLCJIT01FX1BPU0lUSU9OUyIsIlRVUk5JTkdfUE9JTlRTIiwiU0FGRV9QT1NJVElPTlMiLCJTVEFURSIsImRpY2VCdXR0b25FbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicmVzZXRCdXR0b25FbGVtZW50IiwicGxheWVyUGllY2VFbGVtZW50IiwicGxheWVyUGllY2VzRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0UGllY2VQb3NpdGlvbiIsInBsYXllciIsInBpZWNlIiwibmV3UG9zaXRpb24iLCJjb25zb2xlIiwibG9nIiwieCIsInkiLCJwaWVjZUVsZW1lbnQiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJzZXRUdXJuIiwiaW5kZXgiLCJsZW5ndGgiLCJlcnJvciIsImlubmVyVGV4dCIsImFjdGl2ZVBsYXllckJhc2UiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJlbmFibGVEaWNlIiwicmVtb3ZlQXR0cmlidXRlIiwiZGlzYWJsZURpY2UiLCJzZXRBdHRyaWJ1dGUiLCJoaWdobGlnaHRQaWVjZXMiLCJwaWVjZXMiLCJmb3JFYWNoIiwidW5oaWdobGlnaHRQaWVjZXMiLCJlbCIsInNldERpY2VWYWx1ZSIsInZhbHVlIiwiaW5uZXJIVE1MIiwidG9TdHJpbmciLCJpc1NjaGVkdWxlciIsInNjaGVkdWxlIiwibGFzdCIsImFyciIsInBvcFNjaGVkdWxlciIsImFyZ3MiLCJwb3AiLCJ1bmRlZmluZWQiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9fZXh0ZW5kcyIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19nZW5lcmF0b3IiLCJ0aGlzQXJnIiwiYm9keSIsImYiLCJ0IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm4iLCJ2Iiwib3AiLCJkb25lIiwicHVzaCIsImUiLCJzdGVwIiwiX192YWx1ZXMiLCJvIiwicyIsIm0iLCJpIiwiX19yZWFkIiwiciIsImFyIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJhcmd1bWVudHMiLCJsIiwic2xpY2UiLCJjb25jYXQiLCJfX2F3YWl0IiwiU3VwcHJlc3NlZEVycm9yIiwiaXNBcnJheUxpa2UiLCJpc1Byb21pc2UiLCJ0aGVuIiwiY3RvckZ1bmMiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiZXJyb3JzIiwiaW5zdGFuY2UiLCJFcnJvciIsInN0YWNrIiwibWVzc2FnZSIsIm1hcCIsImVyciIsImpvaW4iLCJuYW1lIiwiYXJyUmVtb3ZlIiwiaXRlbSIsImluZGV4T2YiLCJzcGxpY2UiLCJTdWJzY3JpcHRpb24iLCJpbml0aWFsVGVhcmRvd24iLCJjbG9zZWQiLCJfcGFyZW50YWdlIiwiX2ZpbmFsaXplcnMiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJlXzFfMSIsInJldHVybiIsImluaXRpYWxGaW5hbGl6ZXIiLCJfZmluYWxpemVyc18xIiwiX2ZpbmFsaXplcnNfMV8xIiwiZmluYWxpemVyIiwiZXhlY0ZpbmFsaXplciIsImVfMl8xIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiZW1wdHkiLCJpc1N1YnNjcmlwdGlvbiIsImNvbmZpZyIsIm9uVW5oYW5kbGVkRXJyb3IiLCJvblN0b3BwZWROb3RpZmljYXRpb24iLCJQcm9taXNlIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsInRpbWVvdXRQcm92aWRlciIsInNldFRpbWVvdXQiLCJoYW5kbGVyIiwidGltZW91dCIsIl9pIiwiZGVsZWdhdGUiLCJhcHBseSIsImNsZWFyVGltZW91dCIsImhhbmRsZSIsInJlcG9ydFVuaGFuZGxlZEVycm9yIiwibm9vcCIsIkNPTVBMRVRFX05PVElGSUNBVElPTiIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsImtpbmQiLCJjb250ZXh0IiwiU3Vic2NyaWJlciIsIl9zdXBlciIsImRlc3RpbmF0aW9uIiwiX3RoaXMiLCJpc1N0b3BwZWQiLCJFTVBUWV9PQlNFUlZFUiIsImNvbXBsZXRlIiwiU2FmZVN1YnNjcmliZXIiLCJoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uIiwibmV4dE5vdGlmaWNhdGlvbiIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX2JpbmQiLCJGdW5jdGlvbiIsImJpbmQiLCJmbiIsIkNvbnN1bWVyT2JzZXJ2ZXIiLCJwYXJ0aWFsT2JzZXJ2ZXIiLCJoYW5kbGVVbmhhbmRsZWRFcnJvciIsIm9ic2VydmVyT3JOZXh0IiwiY29udGV4dF8xIiwiZXJyb3JUaHJvd24iLCJub3RpZmljYXRpb24iLCJzdWJzY3JpYmVyIiwib2JzZXJ2YWJsZSIsImlkZW50aXR5IiwiT2JzZXJ2YWJsZSIsInN1YnNjcmliZSIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzb3VyY2UiLCJpc09ic2VydmVyIiwiY2IiLCJpc1Jvb3QiLCJlcnJvckNvbnRleHQiLCJfdHJ5U3Vic2NyaWJlIiwic2luayIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwicGlwZSIsIm9wZXJhdGlvbnMiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJ0b1Byb21pc2UiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNBc3luY0l0ZXJhYmxlIiwib2JqIiwiYXN5bmNJdGVyYXRvciIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiaXNJdGVyYWJsZSIsInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCJyZWFkYWJsZVN0cmVhbSIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJxIiwiYSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsImZyb21Bc3luY0l0ZXJhYmxlIiwiaXRlcmFibGUiLCJpdGVyYWJsZV8xIiwiaXRlcmFibGVfMV8xIiwiYXN5bmNJdGVyYWJsZSIsImFzeW5jSXRlcmFibGVfMSIsImFzeW5jSXRlcmFibGVfMV8xIiwiUCIsIl9fYXN5bmNWYWx1ZXMiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInByb2Nlc3MiLCJjYXRjaCIsImV4ZWN1dGVTY2hlZHVsZSIsInBhcmVudFN1YnNjcmlwdGlvbiIsInNjaGVkdWxlciIsIndvcmsiLCJkZWxheSIsInJlcGVhdCIsInNjaGVkdWxlU3Vic2NyaXB0aW9uIiwib3BlcmF0ZSIsImluaXQiLCJoYXNMaWZ0IiwibGlmdGVkU291cmNlIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsIm9ic2VydmVPbiIsInN1YnNjcmliZU9uIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVBcnJheSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlSXRlcmFibGUiLCJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsInNjaGVkdWxlZCIsIm9mIiwicHJvamVjdCIsIm1lcmdlTWFwIiwicmVzdWx0U2VsZWN0b3IiLCJjb25jdXJyZW50IiwiSW5maW5pdHkiLCJpaSIsIm9uQmVmb3JlTmV4dCIsImV4cGFuZCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbEZpbmFsaXplciIsImJ1ZmZlciIsImFjdGl2ZSIsImlzQ29tcGxldGUiLCJjaGVja0NvbXBsZXRlIiwib3V0ZXJOZXh0IiwiZG9Jbm5lclN1YiIsImlubmVyQ29tcGxldGUiLCJpbm5lclZhbHVlIiwiYnVmZmVyZWRWYWx1ZSIsIm1lcmdlSW50ZXJuYWxzIiwibWVyZ2UiLCJkZWZhdWx0VmFsdWUiLCJwb3BOdW1iZXIiLCJzb3VyY2VzIiwibWVyZ2VBbGwiLCJ0YXAiLCJ0YXBPYnNlcnZlciIsImlzVW5zdWIiLCJmaW5hbGl6ZSIsInN3aXRjaE1hcCIsImlubmVyU3Vic2NyaWJlciIsImlubmVySW5kZXgiLCJvdXRlckluZGV4IiwiY2F0Y2hFcnJvciIsInNlbGVjdG9yIiwiaGFuZGxlZFJlc3VsdCIsImlubmVyU3ViIiwic3luY1Vuc3ViIiwibm9kZUV2ZW50RW1pdHRlck1ldGhvZHMiLCJldmVudFRhcmdldE1ldGhvZHMiLCJqcXVlcnlNZXRob2RzIiwiZnJvbUV2ZW50IiwidGFyZ2V0IiwiZXZlbnROYW1lIiwib3B0aW9ucyIsImNhbGxPckFwcGx5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0IiwibWV0aG9kTmFtZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5Iiwib24iLCJvZmYiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic3ViVGFyZ2V0IiwiQWN0aW9uIiwic3RhdGUiLCJpbnRlcnZhbFByb3ZpZGVyIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiQXN5bmNBY3Rpb24iLCJwZW5kaW5nIiwiaWQiLCJyZWN5Y2xlQXN5bmNJZCIsInJlcXVlc3RBc3luY0lkIiwiX2lkIiwiZmx1c2giLCJfc2NoZWR1bGVyIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiX2RlbGF5IiwiZXJyb3JWYWx1ZSIsImVycm9yZWQiLCJhY3Rpb25zIiwiZGF0ZVRpbWVzdGFtcFByb3ZpZGVyIiwibm93IiwiRGF0ZSIsIlNjaGVkdWxlciIsInNjaGVkdWxlckFjdGlvbkN0b3IiLCJhc3luY1NjaGVkdWxlciIsIkFzeW5jU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwiX2FjdGl2ZSIsImFjdGlvbiIsImRlZmF1bHRDb21wYXJlIiwiY3VycmVudFBvc2l0aW9ucyIsIl9zdW0xIiwiX3N1bTIiLCJzdGFydEdhbWUiLCJsaXN0ZW5EaWNlQ2xpY2siLCJyZXNldEJ1dHRvbkNsaWNrJCIsImxpc3RlblJlc2V0Q2xpY2siLCJsaXN0ZW5QaWVjZUNsaWNrIiwicmVzZXRHYW1lIiwidXBkYXRlUGxheWVyIiwibmV3RGF0YSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsImNvbXBhcmF0b3IiLCJrZXlTZWxlY3RvciIsImFjdGl2ZVRhc2siLCJsYXN0VmFsdWUiLCJsYXN0VGltZSIsImVtaXQiLCJlbWl0V2hlbklkbGUiLCJ0YXJnZXRUaW1lIiwicHJldmlvdXNLZXkiLCJmaXJzdCIsImN1cnJlbnRLZXkiLCJvbkRpY2VDbGljayIsInBsYXllciQiLCJwaWVjZSQiLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJ0dXJuIiwicHJlZGljYXRlIiwiZXZlbnQiLCJjb250YWlucyIsImdldEF0dHJpYnV0ZSIsImhhbmRsZVBpZWNlQ2xpY2siLCJwYXJzZUludCIsInBpZWNlTnVtYmVyIiwiY3VycmVudFBvc2l0aW9uIiwiZGljZVZhbHVlIiwibW92ZVBpZWNlIiwiUmVuZGVyZXIiLCJtb3ZlQnkiLCJjYWxsYmFjayIsImluY2x1c2l2ZSIsInBlcmlvZCIsImR1ZVRpbWUiLCJpbnRlcnZhbE9yU2NoZWR1bGVyIiwiaW50ZXJ2YWxEdXJhdGlvbiIsImR1ZSIsImlzTmFOIiwidGltZXIiLCJpbmNyZW1lbnRQaWVjZVBvc2l0aW9uIiwiaGFzUGxheWVyV29uIiwiYWxlcnQiLCJfdHVybiIsInAxIiwibnVtYmVyT2ZTaXgiLCJzdW0xIiwicHJldmVudERlZmF1bHQiLCJjaGVja0ZvcktpbGwiLCJjaGFuZ2VUdXJuIiwiZ2V0SW5jcmVtZW50ZWRQb3NpdGlvbiIsImNoZWNrRm9yRWxpZ2libGVQaWVjZXMiLCJlbGlnaWJsZVBpZWNlcyIsImdldEVsaWdpYmxlUGllY2VzIiwiZmlsdGVyIiwiX2RpY2VWYWx1ZSIsImV2ZXJ5Iiwib3Bwb25lbnQiLCJraWxsIiwib3Bwb25lbnRQb3NpdGlvbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInN1bTIiLCJfc3RhdGUiXSwic291cmNlUm9vdCI6IiJ9